```mermaid
sequenceDiagram
    participant U as ðŸ‘¤ User
    participant F as ðŸŽ¨ Frontend
    participant A as âš¡ API
    participant AI as ðŸ¤– Gemini AI
    participant DB as ðŸ’¾ Database
    participant EXT as ðŸŒ External APIs
    
    U->>F: Upload Document
    F->>A: POST /api/upload (HTTPOnly Cookie)
    A->>A: ðŸ”’ Validate Auth + Scan File
    A->>AI: Stream Parse Request
    
    loop Real-time Streaming
        AI-->>A: SSE: Parsing Progress
        A-->>F: SSE: Live Updates
        F-->>U: âš¡ Real-time UI Updates
    end
    
    AI->>A: Parsed Data
    A->>DB: Store with Transactions
    A->>EXT: Enrich Data (Async)
    EXT-->>A: External Data
    A->>DB: Update Records
    A->>F: âœ… Complete Response
    F->>U: ðŸŽ‰ Success + Analytics
    
    Note over A,DB: Fuzzy Matching + Price Tracking
    Note over F,U: Optimistic UI Updates
```
