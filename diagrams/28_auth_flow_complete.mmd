```mermaid
%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#10B981','primaryTextColor':'#fff','primaryBorderColor':'#059669','lineColor':'#6366F1','secondaryColor':'#3B82F6','tertiaryColor':'#F59E0B','fontSize':'14px'}}}%%

graph TB
    subgraph Client["ðŸŽ¨ REACT FRONTEND"]
        A[Login Form]
        B[HTTPOnly Cookie]
        C[Protected Routes]
    end
    
    subgraph API["âš¡ FASTAPI BACKEND"]
        D[Auth Middleware]
        E[JWT Validation]
        F[User Lookup]
    end
    
    subgraph Security["ðŸ”’ SECURITY LAYER"]
        G[HTTPOnly Cookies]
        H[XSS Protection]
        I[CSRF Protection]
        J[Rate Limiting]
    end
    
    subgraph Database["ðŸ’¾ SUPABASE"]
        K[(Users Table)]
        L[Row Level Security]
        M[Subscription Tiers]
    end
    
    A -->|POST /login| D
    D --> E
    E -->|Valid| F
    F --> K
    K -->|User Data| B
    B --> C
    
    G -.->|Protects| B
    H -.->|Prevents| B
    I -.->|Validates| D
    J -.->|Throttles| D
    L -.->|Enforces| K
    
    Result[["âœ… SECURE AUTH<br/>HTTPOnly + JWT + RLS"]]
    C --> Result
    
    style Client fill:#4F46E5,stroke:#4338CA,stroke-width:3px,color:#fff
    style API fill:#10B981,stroke:#059669,stroke-width:3px,color:#fff
    style Security fill:#EF4444,stroke:#DC2626,stroke-width:3px,color:#fff
    style Database fill:#3B82F6,stroke:#2563EB,stroke-width:3px,color:#fff
    style Result fill:#8B5CF6,stroke:#7C3AED,stroke-width:4px,color:#fff
```
