var aK=Object.defineProperty;var Y2=e=>{throw TypeError(e)};var oK=(e,t,r)=>t in e?aK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ig=(e,t,r)=>oK(e,typeof t!="symbol"?t+"":t,r),Qw=(e,t,r)=>t.has(e)||Y2("Cannot "+r);var O=(e,t,r)=>(Qw(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?Y2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ce=(e,t,r,n)=>(Qw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ye=(e,t,r)=>(Qw(e,t,"access private method"),r);var ag=(e,t,r,n)=>({set _(s){ce(e,t,s,r)},get _(){return O(e,t,n)}});function BM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lK(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var VM={exports:{}},Zy={},WM={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=Symbol.for("react.element"),cK=Symbol.for("react.portal"),uK=Symbol.for("react.fragment"),dK=Symbol.for("react.strict_mode"),fK=Symbol.for("react.profiler"),hK=Symbol.for("react.provider"),pK=Symbol.for("react.context"),mK=Symbol.for("react.forward_ref"),gK=Symbol.for("react.suspense"),vK=Symbol.for("react.memo"),xK=Symbol.for("react.lazy"),X2=Symbol.iterator;function yK(e){return e===null||typeof e!="object"?null:(e=X2&&e[X2]||e["@@iterator"],typeof e=="function"?e:null)}var qM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HM=Object.assign,KM={};function vf(e,t,r){this.props=e,this.context=t,this.refs=KM,this.updater=r||qM}vf.prototype.isReactComponent={};vf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GM(){}GM.prototype=vf.prototype;function EE(e,t,r){this.props=e,this.context=t,this.refs=KM,this.updater=r||qM}var kE=EE.prototype=new GM;kE.constructor=EE;HM(kE,vf.prototype);kE.isPureReactComponent=!0;var Q2=Array.isArray,YM=Object.prototype.hasOwnProperty,CE={current:null},XM={key:!0,ref:!0,__self:!0,__source:!0};function QM(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)YM.call(t,n)&&!XM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ym,type:e,key:i,ref:a,props:s,_owner:CE.current}}function bK(e,t){return{$$typeof:ym,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function PE(e){return typeof e=="object"&&e!==null&&e.$$typeof===ym}function wK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var J2=/\/+/g;function Jw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wK(""+e.key):t.toString(36)}function gv(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ym:case cK:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Jw(a,0):n,Q2(s)?(r="",e!=null&&(r=e.replace(J2,"$&/")+"/"),gv(s,t,r,"",function(u){return u})):s!=null&&(PE(s)&&(s=bK(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(J2,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Q2(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Jw(i,l);a+=gv(i,t,r,c,s)}else if(c=yK(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Jw(i,l++),a+=gv(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function og(e,t,r){if(e==null)return e;var n=[],s=0;return gv(e,n,"","",function(i){return t.call(r,i,s++)}),n}function _K(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var An={current:null},vv={transition:null},jK={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:vv,ReactCurrentOwner:CE};function JM(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:og,forEach:function(e,t,r){og(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return og(e,function(){t++}),t},toArray:function(e){return og(e,function(t){return t})||[]},only:function(e){if(!PE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=vf;Ze.Fragment=uK;Ze.Profiler=fK;Ze.PureComponent=EE;Ze.StrictMode=dK;Ze.Suspense=gK;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jK;Ze.act=JM;Ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HM({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=CE.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)YM.call(t,c)&&!XM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ym,type:e.type,key:s,ref:i,props:n,_owner:a}};Ze.createContext=function(e){return e={$$typeof:pK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hK,_context:e},e.Consumer=e};Ze.createElement=QM;Ze.createFactory=function(e){var t=QM.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:mK,render:e}};Ze.isValidElement=PE;Ze.lazy=function(e){return{$$typeof:xK,_payload:{_status:-1,_result:e},_init:_K}};Ze.memo=function(e,t){return{$$typeof:vK,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=vv.transition;vv.transition={};try{e()}finally{vv.transition=t}};Ze.unstable_act=JM;Ze.useCallback=function(e,t){return An.current.useCallback(e,t)};Ze.useContext=function(e){return An.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return An.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return An.current.useEffect(e,t)};Ze.useId=function(){return An.current.useId()};Ze.useImperativeHandle=function(e,t,r){return An.current.useImperativeHandle(e,t,r)};Ze.useInsertionEffect=function(e,t){return An.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return An.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return An.current.useMemo(e,t)};Ze.useReducer=function(e,t,r){return An.current.useReducer(e,t,r)};Ze.useRef=function(e){return An.current.useRef(e)};Ze.useState=function(e){return An.current.useState(e)};Ze.useSyncExternalStore=function(e,t,r){return An.current.useSyncExternalStore(e,t,r)};Ze.useTransition=function(){return An.current.useTransition()};Ze.version="18.3.1";WM.exports=Ze;var p=WM.exports;const Ie=ti(p),bm=BM({__proto__:null,default:Ie},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SK=p,NK=Symbol.for("react.element"),EK=Symbol.for("react.fragment"),kK=Object.prototype.hasOwnProperty,CK=SK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PK={key:!0,ref:!0,__self:!0,__source:!0};function ZM(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)kK.call(t,n)&&!PK.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:NK,type:e,key:i,ref:a,props:s,_owner:CK.current}}Zy.Fragment=EK;Zy.jsx=ZM;Zy.jsxs=ZM;VM.exports=Zy;var o=VM.exports,W1={},e$={exports:{}},Es={},t$={exports:{}},r$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,M){var Q=I.length;I.push(M);e:for(;0<Q;){var J=Q-1>>>1,ee=I[J];if(0<s(ee,M))I[J]=M,I[Q]=ee,Q=J;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var M=I[0],Q=I.pop();if(Q!==M){I[0]=Q;e:for(var J=0,ee=I.length,Ee=ee>>>1;J<Ee;){var je=2*(J+1)-1,Fe=I[je],ze=je+1,pe=I[ze];if(0>s(Fe,Q))ze<ee&&0>s(pe,Fe)?(I[J]=pe,I[ze]=Q,J=ze):(I[J]=Fe,I[je]=Q,J=je);else if(ze<ee&&0>s(pe,Q))I[J]=pe,I[ze]=Q,J=ze;else break e}}return M}function s(I,M){var Q=I.sortIndex-M.sortIndex;return Q!==0?Q:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=I)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(I){if(g=!1,b(I),!v)if(r(c)!==null)v=!0,z(j);else{var M=r(u);M!==null&&X(_,M.startTime-I)}}function j(I,M){v=!1,g&&(g=!1,y(E),E=-1),m=!0;var Q=h;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||I&&!C());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var ee=J(f.expirationTime<=M);M=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var Ee=!0;else{var je=r(u);je!==null&&X(_,je.startTime-M),Ee=!1}return Ee}finally{f=null,h=Q,m=!1}}var S=!1,N=null,E=-1,A=5,P=-1;function C(){return!(e.unstable_now()-P<A)}function k(){if(N!==null){var I=e.unstable_now();P=I;var M=!0;try{M=N(!0,I)}finally{M?D():(S=!1,N=null)}}else S=!1}var D;if(typeof w=="function")D=function(){w(k)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,L=T.port2;T.port1.onmessage=k,D=function(){L.postMessage(null)}}else D=function(){x(k,0)};function z(I){N=I,S||(S=!0,D())}function X(I,M){E=x(function(){I(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,z(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var Q=h;h=M;try{return I()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Q=h;h=I;try{return M()}finally{h=Q}},e.unstable_scheduleCallback=function(I,M,Q){var J=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,I){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,I={id:d++,callback:M,priorityLevel:I,startTime:Q,expirationTime:ee,sortIndex:-1},Q>J?(I.sortIndex=Q,t(u,I),r(c)===null&&I===r(u)&&(g?(y(E),E=-1):g=!0,X(_,Q-J))):(I.sortIndex=ee,t(c,I),v||m||(v=!0,z(j))),I},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(I){var M=h;return function(){var Q=h;h=M;try{return I.apply(this,arguments)}finally{h=Q}}}})(r$);t$.exports=r$;var AK=t$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OK=p,bs=AK;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n$=new Set,pp={};function wu(e,t){Ud(e,t),Ud(e+"Capture",t)}function Ud(e,t){for(pp[e]=t,e=0;e<t.length;e++)n$.add(t[e])}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q1=Object.prototype.hasOwnProperty,TK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z2={},eA={};function RK(e){return q1.call(eA,e)?!0:q1.call(Z2,e)?!1:TK.test(e)?eA[e]=!0:(Z2[e]=!0,!1)}function IK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DK(e,t,r,n){if(t===null||typeof t>"u"||IK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jr[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jr[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jr[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jr[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jr[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jr[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jr[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jr[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jr[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var AE=/[\-:]([a-z])/g;function OE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(AE,OE);Jr[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(AE,OE);Jr[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(AE,OE);Jr[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jr[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});Jr.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jr[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function TE(e,t,r,n){var s=Jr.hasOwnProperty(t)?Jr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DK(t,r,s,n)&&(r=null),n||s===null?RK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var uo=OK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lg=Symbol.for("react.element"),Ju=Symbol.for("react.portal"),Zu=Symbol.for("react.fragment"),RE=Symbol.for("react.strict_mode"),H1=Symbol.for("react.profiler"),s$=Symbol.for("react.provider"),i$=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),K1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),DE=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),a$=Symbol.for("react.offscreen"),tA=Symbol.iterator;function Zf(e){return e===null||typeof e!="object"?null:(e=tA&&e[tA]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Object.assign,Zw;function Ph(e){if(Zw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zw=t&&t[1]||""}return`
`+Zw+e}var e_=!1;function t_(e,t){if(!e||e_)return"";e_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{e_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ph(e):""}function MK(e){switch(e.tag){case 5:return Ph(e.type);case 16:return Ph("Lazy");case 13:return Ph("Suspense");case 19:return Ph("SuspenseList");case 0:case 2:case 15:return e=t_(e.type,!1),e;case 11:return e=t_(e.type.render,!1),e;case 1:return e=t_(e.type,!0),e;default:return""}}function Y1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zu:return"Fragment";case Ju:return"Portal";case H1:return"Profiler";case RE:return"StrictMode";case K1:return"Suspense";case G1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i$:return(e.displayName||"Context")+".Consumer";case s$:return(e._context.displayName||"Context")+".Provider";case IE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case DE:return t=e.displayName||null,t!==null?t:Y1(e.type)||"Memo";case Do:t=e._payload,e=e._init;try{return Y1(e(t))}catch{}}return null}function $K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y1(t);case 8:return t===RE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function o$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LK(e){var t=o$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cg(e){e._valueTracker||(e._valueTracker=LK(e))}function l$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=o$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function X1(e,t){var r=t.checked;return Gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c$(e,t){t=t.checked,t!=null&&TE(e,"checked",t,!1)}function Q1(e,t){c$(e,t);var r=Nl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?J1(e,t.type,r):t.hasOwnProperty("defaultValue")&&J1(e,t.type,Nl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function J1(e,t,r){(t!=="number"||Yv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ah=Array.isArray;function pd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Z1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(Ah(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nl(r)}}function u$(e,t){var r=Nl(t.value),n=Nl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function iA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ej(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ug,f$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ug=ug||document.createElement("div"),ug.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ug.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FK=["Webkit","ms","Moz","O"];Object.keys(Gh).forEach(function(e){FK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gh[t]=Gh[e]})});function h$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gh.hasOwnProperty(e)&&Gh[e]?(""+t).trim():t+"px"}function p$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=h$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var UK=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tj(e,t){if(t){if(UK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function rj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nj=null;function ME(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sj=null,md=null,gd=null;function aA(e){if(e=jm(e)){if(typeof sj!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=s0(t),sj(e.stateNode,e.type,t))}}function m$(e){md?gd?gd.push(e):gd=[e]:md=e}function g$(){if(md){var e=md,t=gd;if(gd=md=null,aA(e),t)for(e=0;e<t.length;e++)aA(t[e])}}function v$(e,t){return e(t)}function x$(){}var r_=!1;function y$(e,t,r){if(r_)return e(t,r);r_=!0;try{return v$(e,t,r)}finally{r_=!1,(md!==null||gd!==null)&&(x$(),g$())}}function gp(e,t){var r=e.stateNode;if(r===null)return null;var n=s0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var ij=!1;if(Ya)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){ij=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{ij=!1}function zK(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Yh=!1,Xv=null,Qv=!1,aj=null,BK={onError:function(e){Yh=!0,Xv=e}};function VK(e,t,r,n,s,i,a,l,c){Yh=!1,Xv=null,zK.apply(BK,arguments)}function WK(e,t,r,n,s,i,a,l,c){if(VK.apply(this,arguments),Yh){if(Yh){var u=Xv;Yh=!1,Xv=null}else throw Error(Z(198));Qv||(Qv=!0,aj=u)}}function _u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function b$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oA(e){if(_u(e)!==e)throw Error(Z(188))}function qK(e){var t=e.alternate;if(!t){if(t=_u(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return oA(s),e;if(i===n)return oA(s),t;i=i.sibling}throw Error(Z(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function w$(e){return e=qK(e),e!==null?_$(e):null}function _$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_$(e);if(t!==null)return t;e=e.sibling}return null}var j$=bs.unstable_scheduleCallback,lA=bs.unstable_cancelCallback,HK=bs.unstable_shouldYield,KK=bs.unstable_requestPaint,nr=bs.unstable_now,GK=bs.unstable_getCurrentPriorityLevel,$E=bs.unstable_ImmediatePriority,S$=bs.unstable_UserBlockingPriority,Jv=bs.unstable_NormalPriority,YK=bs.unstable_LowPriority,N$=bs.unstable_IdlePriority,e0=null,Ji=null;function XK(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(e0,e,void 0,(e.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:ZK,QK=Math.log,JK=Math.LN2;function ZK(e){return e>>>=0,e===0?32:31-(QK(e)/JK|0)|0}var dg=64,fg=4194304;function Oh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Oh(l):(i&=a,i!==0&&(n=Oh(i)))}else a=r&~s,a!==0?n=Oh(a):i!==0&&(n=Oh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wi(t),s=1<<r,n|=e[r],t&=~s;return n}function eG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-wi(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=eG(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function oj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E$(){var e=dg;return dg<<=1,!(dg&4194240)&&(dg=64),e}function n_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wi(t),e[t]=r}function rG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wi(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function LE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wi(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var mt=0;function k$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C$,FE,P$,A$,O$,lj=!1,hg=[],ol=null,ll=null,cl=null,vp=new Map,xp=new Map,zo=[],nG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cA(e,t){switch(e){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":ll=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":vp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(t.pointerId)}}function th(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=jm(t),t!==null&&FE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sG(e,t,r,n,s){switch(t){case"focusin":return ol=th(ol,e,t,r,n,s),!0;case"dragenter":return ll=th(ll,e,t,r,n,s),!0;case"mouseover":return cl=th(cl,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return vp.set(i,th(vp.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,xp.set(i,th(xp.get(i)||null,e,t,r,n,s)),!0}return!1}function T$(e){var t=gc(e.target);if(t!==null){var r=_u(t);if(r!==null){if(t=r.tag,t===13){if(t=b$(r),t!==null){e.blockedOn=t,O$(e.priority,function(){P$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);nj=n,r.target.dispatchEvent(n),nj=null}else return t=jm(r),t!==null&&FE(t),e.blockedOn=r,!1;t.shift()}return!0}function uA(e,t,r){xv(e)&&r.delete(t)}function iG(){lj=!1,ol!==null&&xv(ol)&&(ol=null),ll!==null&&xv(ll)&&(ll=null),cl!==null&&xv(cl)&&(cl=null),vp.forEach(uA),xp.forEach(uA)}function rh(e,t){e.blockedOn===t&&(e.blockedOn=null,lj||(lj=!0,bs.unstable_scheduleCallback(bs.unstable_NormalPriority,iG)))}function yp(e){function t(s){return rh(s,e)}if(0<hg.length){rh(hg[0],e);for(var r=1;r<hg.length;r++){var n=hg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ol!==null&&rh(ol,e),ll!==null&&rh(ll,e),cl!==null&&rh(cl,e),vp.forEach(t),xp.forEach(t),r=0;r<zo.length;r++)n=zo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zo.length&&(r=zo[0],r.blockedOn===null);)T$(r),r.blockedOn===null&&zo.shift()}var vd=uo.ReactCurrentBatchConfig,ex=!0;function aG(e,t,r,n){var s=mt,i=vd.transition;vd.transition=null;try{mt=1,UE(e,t,r,n)}finally{mt=s,vd.transition=i}}function oG(e,t,r,n){var s=mt,i=vd.transition;vd.transition=null;try{mt=4,UE(e,t,r,n)}finally{mt=s,vd.transition=i}}function UE(e,t,r,n){if(ex){var s=cj(e,t,r,n);if(s===null)h_(e,t,n,tx,r),cA(e,n);else if(sG(s,e,t,r,n))n.stopPropagation();else if(cA(e,n),t&4&&-1<nG.indexOf(e)){for(;s!==null;){var i=jm(s);if(i!==null&&C$(i),i=cj(e,t,r,n),i===null&&h_(e,t,n,tx,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else h_(e,t,n,null,r)}}var tx=null;function cj(e,t,r,n){if(tx=null,e=ME(n),e=gc(e),e!==null)if(t=_u(e),t===null)e=null;else if(r=t.tag,r===13){if(e=b$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tx=e,null}function R$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GK()){case $E:return 1;case S$:return 4;case Jv:case YK:return 16;case N$:return 536870912;default:return 16}default:return 16}}var el=null,zE=null,yv=null;function I$(){if(yv)return yv;var e,t=zE,r=t.length,n,s="value"in el?el.value:el.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return yv=s.slice(e,1<n?1-n:void 0)}function bv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pg(){return!0}function dA(){return!1}function ks(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pg:dA,this.isPropagationStopped=dA,this}return Gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pg)},persist:function(){},isPersistent:pg}),t}var xf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BE=ks(xf),_m=Gt({},xf,{view:0,detail:0}),lG=ks(_m),s_,i_,nh,t0=Gt({},_m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nh&&(nh&&e.type==="mousemove"?(s_=e.screenX-nh.screenX,i_=e.screenY-nh.screenY):i_=s_=0,nh=e),s_)},movementY:function(e){return"movementY"in e?e.movementY:i_}}),fA=ks(t0),cG=Gt({},t0,{dataTransfer:0}),uG=ks(cG),dG=Gt({},_m,{relatedTarget:0}),a_=ks(dG),fG=Gt({},xf,{animationName:0,elapsedTime:0,pseudoElement:0}),hG=ks(fG),pG=Gt({},xf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mG=ks(pG),gG=Gt({},xf,{data:0}),hA=ks(gG),vG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yG[e])?!!t[e]:!1}function VE(){return bG}var wG=Gt({},_m,{key:function(e){if(e.key){var t=vG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VE,charCode:function(e){return e.type==="keypress"?bv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_G=ks(wG),jG=Gt({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=ks(jG),SG=Gt({},_m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VE}),NG=ks(SG),EG=Gt({},xf,{propertyName:0,elapsedTime:0,pseudoElement:0}),kG=ks(EG),CG=Gt({},t0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PG=ks(CG),AG=[9,13,27,32],WE=Ya&&"CompositionEvent"in window,Xh=null;Ya&&"documentMode"in document&&(Xh=document.documentMode);var OG=Ya&&"TextEvent"in window&&!Xh,D$=Ya&&(!WE||Xh&&8<Xh&&11>=Xh),mA=" ",gA=!1;function M$(e,t){switch(e){case"keyup":return AG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ed=!1;function TG(e,t){switch(e){case"compositionend":return $$(t);case"keypress":return t.which!==32?null:(gA=!0,mA);case"textInput":return e=t.data,e===mA&&gA?null:e;default:return null}}function RG(e,t){if(ed)return e==="compositionend"||!WE&&M$(e,t)?(e=I$(),yv=zE=el=null,ed=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D$&&t.locale!=="ko"?null:t.data;default:return null}}var IG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IG[e.type]:t==="textarea"}function L$(e,t,r,n){m$(n),t=rx(t,"onChange"),0<t.length&&(r=new BE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qh=null,bp=null;function DG(e){Y$(e,0)}function r0(e){var t=nd(e);if(l$(t))return e}function MG(e,t){if(e==="change")return t}var F$=!1;if(Ya){var o_;if(Ya){var l_="oninput"in document;if(!l_){var xA=document.createElement("div");xA.setAttribute("oninput","return;"),l_=typeof xA.oninput=="function"}o_=l_}else o_=!1;F$=o_&&(!document.documentMode||9<document.documentMode)}function yA(){Qh&&(Qh.detachEvent("onpropertychange",U$),bp=Qh=null)}function U$(e){if(e.propertyName==="value"&&r0(bp)){var t=[];L$(t,bp,e,ME(e)),y$(DG,t)}}function $G(e,t,r){e==="focusin"?(yA(),Qh=t,bp=r,Qh.attachEvent("onpropertychange",U$)):e==="focusout"&&yA()}function LG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return r0(bp)}function FG(e,t){if(e==="click")return r0(t)}function UG(e,t){if(e==="input"||e==="change")return r0(t)}function zG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ci=typeof Object.is=="function"?Object.is:zG;function wp(e,t){if(Ci(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!q1.call(t,s)||!Ci(e[s],t[s]))return!1}return!0}function bA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wA(e,t){var r=bA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bA(r)}}function z$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B$(){for(var e=window,t=Yv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yv(e.document)}return t}function qE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BG(e){var t=B$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&z$(r.ownerDocument.documentElement,r)){if(n!==null&&qE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=wA(r,i);var a=wA(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VG=Ya&&"documentMode"in document&&11>=document.documentMode,td=null,uj=null,Jh=null,dj=!1;function _A(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dj||td==null||td!==Yv(n)||(n=td,"selectionStart"in n&&qE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jh&&wp(Jh,n)||(Jh=n,n=rx(uj,"onSelect"),0<n.length&&(t=new BE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=td)))}function mg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rd={animationend:mg("Animation","AnimationEnd"),animationiteration:mg("Animation","AnimationIteration"),animationstart:mg("Animation","AnimationStart"),transitionend:mg("Transition","TransitionEnd")},c_={},V$={};Ya&&(V$=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function n0(e){if(c_[e])return c_[e];if(!rd[e])return e;var t=rd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in V$)return c_[e]=t[r];return e}var W$=n0("animationend"),q$=n0("animationiteration"),H$=n0("animationstart"),K$=n0("transitionend"),G$=new Map,jA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(e,t){G$.set(e,t),wu(t,[e])}for(var u_=0;u_<jA.length;u_++){var d_=jA[u_],WG=d_.toLowerCase(),qG=d_[0].toUpperCase()+d_.slice(1);Ll(WG,"on"+qG)}Ll(W$,"onAnimationEnd");Ll(q$,"onAnimationIteration");Ll(H$,"onAnimationStart");Ll("dblclick","onDoubleClick");Ll("focusin","onFocus");Ll("focusout","onBlur");Ll(K$,"onTransitionEnd");Ud("onMouseEnter",["mouseout","mouseover"]);Ud("onMouseLeave",["mouseout","mouseover"]);Ud("onPointerEnter",["pointerout","pointerover"]);Ud("onPointerLeave",["pointerout","pointerover"]);wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function SA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,WK(n,t,void 0,e),e.currentTarget=null}function Y$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;SA(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;SA(s,l,u),i=c}}}if(Qv)throw e=aj,Qv=!1,aj=null,e}function Rt(e,t){var r=t[gj];r===void 0&&(r=t[gj]=new Set);var n=e+"__bubble";r.has(n)||(X$(t,e,2,!1),r.add(n))}function f_(e,t,r){var n=0;t&&(n|=4),X$(r,e,n,t)}var gg="_reactListening"+Math.random().toString(36).slice(2);function _p(e){if(!e[gg]){e[gg]=!0,n$.forEach(function(r){r!=="selectionchange"&&(HG.has(r)||f_(r,!1,e),f_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gg]||(t[gg]=!0,f_("selectionchange",!1,t))}}function X$(e,t,r,n){switch(R$(t)){case 1:var s=aG;break;case 4:s=oG;break;default:s=UE}r=s.bind(null,t,r,e),s=void 0,!ij||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function h_(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=gc(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}y$(function(){var u=i,d=ME(r),f=[];e:{var h=G$.get(e);if(h!==void 0){var m=BE,v=e;switch(e){case"keypress":if(bv(r)===0)break e;case"keydown":case"keyup":m=_G;break;case"focusin":v="focus",m=a_;break;case"focusout":v="blur",m=a_;break;case"beforeblur":case"afterblur":m=a_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NG;break;case W$:case q$:case H$:m=hG;break;case K$:m=kG;break;case"scroll":m=lG;break;case"wheel":m=PG;break;case"copy":case"cut":case"paste":m=mG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pA}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=gp(w,y),_!=null&&g.push(jp(w,_,b)))),x)break;w=w.return}0<g.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==nj&&(v=r.relatedTarget||r.fromElement)&&(gc(v)||v[Xa]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?gc(v):null,v!==null&&(x=_u(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=fA,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=pA,_="onPointerLeave",y="onPointerEnter",w="pointer"),x=m==null?h:nd(m),b=v==null?h:nd(v),h=new g(_,w+"leave",m,r,d),h.target=x,h.relatedTarget=b,_=null,gc(d)===u&&(g=new g(y,w+"enter",v,r,d),g.target=b,g.relatedTarget=x,_=g),x=_,m&&v)t:{for(g=m,y=v,w=0,b=g;b;b=Tu(b))w++;for(b=0,_=y;_;_=Tu(_))b++;for(;0<w-b;)g=Tu(g),w--;for(;0<b-w;)y=Tu(y),b--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=Tu(g),y=Tu(y)}g=null}else g=null;m!==null&&NA(f,h,m,g,!1),v!==null&&x!==null&&NA(f,x,v,g,!0)}}e:{if(h=u?nd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=MG;else if(vA(h))if(F$)j=UG;else{j=LG;var S=$G}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=FG);if(j&&(j=j(e,u))){L$(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&J1(h,"number",h.value)}switch(S=u?nd(u):window,e){case"focusin":(vA(S)||S.contentEditable==="true")&&(td=S,uj=u,Jh=null);break;case"focusout":Jh=uj=td=null;break;case"mousedown":dj=!0;break;case"contextmenu":case"mouseup":case"dragend":dj=!1,_A(f,r,d);break;case"selectionchange":if(VG)break;case"keydown":case"keyup":_A(f,r,d)}var N;if(WE)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ed?M$(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(D$&&r.locale!=="ko"&&(ed||E!=="onCompositionStart"?E==="onCompositionEnd"&&ed&&(N=I$()):(el=d,zE="value"in el?el.value:el.textContent,ed=!0)),S=rx(u,E),0<S.length&&(E=new hA(E,e,null,r,d),f.push({event:E,listeners:S}),N?E.data=N:(N=$$(r),N!==null&&(E.data=N)))),(N=OG?TG(e,r):RG(e,r))&&(u=rx(u,"onBeforeInput"),0<u.length&&(d=new hA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}Y$(f,t)})}function jp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rx(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gp(e,r),i!=null&&n.unshift(jp(e,i,s)),i=gp(e,t),i!=null&&n.push(jp(e,i,s))),e=e.return}return n}function Tu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function NA(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=gp(r,i),c!=null&&a.unshift(jp(r,c,l))):s||(c=gp(r,i),c!=null&&a.push(jp(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var KG=/\r\n?/g,GG=/\u0000|\uFFFD/g;function EA(e){return(typeof e=="string"?e:""+e).replace(KG,`
`).replace(GG,"")}function vg(e,t,r){if(t=EA(t),EA(e)!==t&&r)throw Error(Z(425))}function nx(){}var fj=null,hj=null;function pj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mj=typeof setTimeout=="function"?setTimeout:void 0,YG=typeof clearTimeout=="function"?clearTimeout:void 0,kA=typeof Promise=="function"?Promise:void 0,XG=typeof queueMicrotask=="function"?queueMicrotask:typeof kA<"u"?function(e){return kA.resolve(null).then(e).catch(QG)}:mj;function QG(e){setTimeout(function(){throw e})}function p_(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),yp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);yp(t)}function ul(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yf=Math.random().toString(36).slice(2),Ki="__reactFiber$"+yf,Sp="__reactProps$"+yf,Xa="__reactContainer$"+yf,gj="__reactEvents$"+yf,JG="__reactListeners$"+yf,ZG="__reactHandles$"+yf;function gc(e){var t=e[Ki];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xa]||r[Ki]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=CA(e);e!==null;){if(r=e[Ki])return r;e=CA(e)}return t}e=r,r=e.parentNode}return null}function jm(e){return e=e[Ki]||e[Xa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function s0(e){return e[Sp]||null}var vj=[],sd=-1;function Fl(e){return{current:e}}function Lt(e){0>sd||(e.current=vj[sd],vj[sd]=null,sd--)}function At(e,t){sd++,vj[sd]=e.current,e.current=t}var El={},mn=Fl(El),Yn=Fl(!1),Hc=El;function zd(e,t){var r=e.type.contextTypes;if(!r)return El;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xn(e){return e=e.childContextTypes,e!=null}function sx(){Lt(Yn),Lt(mn)}function PA(e,t,r){if(mn.current!==El)throw Error(Z(168));At(mn,t),At(Yn,r)}function Q$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Z(108,$K(e)||"Unknown",s));return Gt({},r,n)}function ix(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||El,Hc=mn.current,At(mn,e),At(Yn,Yn.current),!0}function AA(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=Q$(e,t,Hc),n.__reactInternalMemoizedMergedChildContext=e,Lt(Yn),Lt(mn),At(mn,e)):Lt(Yn),At(Yn,r)}var Ca=null,i0=!1,m_=!1;function J$(e){Ca===null?Ca=[e]:Ca.push(e)}function eY(e){i0=!0,J$(e)}function Ul(){if(!m_&&Ca!==null){m_=!0;var e=0,t=mt;try{var r=Ca;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ca=null,i0=!1}catch(s){throw Ca!==null&&(Ca=Ca.slice(e+1)),j$($E,Ul),s}finally{mt=t,m_=!1}}return null}var id=[],ad=0,ax=null,ox=0,Fs=[],Us=0,Kc=null,$a=1,La="";function ic(e,t){id[ad++]=ox,id[ad++]=ax,ax=e,ox=t}function Z$(e,t,r){Fs[Us++]=$a,Fs[Us++]=La,Fs[Us++]=Kc,Kc=e;var n=$a;e=La;var s=32-wi(n)-1;n&=~(1<<s),r+=1;var i=32-wi(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,$a=1<<32-wi(t)+s|r<<s|n,La=i+e}else $a=1<<i|r<<s|n,La=e}function HE(e){e.return!==null&&(ic(e,1),Z$(e,1,0))}function KE(e){for(;e===ax;)ax=id[--ad],id[ad]=null,ox=id[--ad],id[ad]=null;for(;e===Kc;)Kc=Fs[--Us],Fs[Us]=null,La=Fs[--Us],Fs[Us]=null,$a=Fs[--Us],Fs[Us]=null}var vs=null,ps=null,Ft=!1,gi=null;function e5(e,t){var r=Vs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function OA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vs=e,ps=ul(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vs=e,ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kc!==null?{id:$a,overflow:La}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vs=e,ps=null,!0):!1;default:return!1}}function xj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yj(e){if(Ft){var t=ps;if(t){var r=t;if(!OA(e,t)){if(xj(e))throw Error(Z(418));t=ul(r.nextSibling);var n=vs;t&&OA(e,t)?e5(n,r):(e.flags=e.flags&-4097|2,Ft=!1,vs=e)}}else{if(xj(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Ft=!1,vs=e}}}function TA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vs=e}function xg(e){if(e!==vs)return!1;if(!Ft)return TA(e),Ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pj(e.type,e.memoizedProps)),t&&(t=ps)){if(xj(e))throw t5(),Error(Z(418));for(;t;)e5(e,t),t=ul(t.nextSibling)}if(TA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ps=ul(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ps=null}}else ps=vs?ul(e.stateNode.nextSibling):null;return!0}function t5(){for(var e=ps;e;)e=ul(e.nextSibling)}function Bd(){ps=vs=null,Ft=!1}function GE(e){gi===null?gi=[e]:gi.push(e)}var tY=uo.ReactCurrentBatchConfig;function sh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function yg(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function RA(e){var t=e._init;return t(e._payload)}function r5(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=pl(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,_){return w===null||w.tag!==6?(w=__(b,y.mode,_),w.return=y,w):(w=s(w,b),w.return=y,w)}function c(y,w,b,_){var j=b.type;return j===Zu?d(y,w,b.props.children,_,b.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Do&&RA(j)===w.type)?(_=s(w,b.props),_.ref=sh(y,w,b),_.return=y,_):(_=kv(b.type,b.key,b.props,null,y.mode,_),_.ref=sh(y,w,b),_.return=y,_)}function u(y,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=j_(b,y.mode,_),w.return=y,w):(w=s(w,b.children||[]),w.return=y,w)}function d(y,w,b,_,j){return w===null||w.tag!==7?(w=Lc(b,y.mode,_,j),w.return=y,w):(w=s(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=__(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lg:return b=kv(w.type,w.key,w.props,null,y.mode,b),b.ref=sh(y,null,w),b.return=y,b;case Ju:return w=j_(w,y.mode,b),w.return=y,w;case Do:var _=w._init;return f(y,_(w._payload),b)}if(Ah(w)||Zf(w))return w=Lc(w,y.mode,b,null),w.return=y,w;yg(y,w)}return null}function h(y,w,b,_){var j=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(y,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lg:return b.key===j?c(y,w,b,_):null;case Ju:return b.key===j?u(y,w,b,_):null;case Do:return j=b._init,h(y,w,j(b._payload),_)}if(Ah(b)||Zf(b))return j!==null?null:d(y,w,b,_,null);yg(y,b)}return null}function m(y,w,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(w,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lg:return y=y.get(_.key===null?b:_.key)||null,c(w,y,_,j);case Ju:return y=y.get(_.key===null?b:_.key)||null,u(w,y,_,j);case Do:var S=_._init;return m(y,w,b,S(_._payload),j)}if(Ah(_)||Zf(_))return y=y.get(b)||null,d(w,y,_,j,null);yg(w,_)}return null}function v(y,w,b,_){for(var j=null,S=null,N=w,E=w=0,A=null;N!==null&&E<b.length;E++){N.index>E?(A=N,N=null):A=N.sibling;var P=h(y,N,b[E],_);if(P===null){N===null&&(N=A);break}e&&N&&P.alternate===null&&t(y,N),w=i(P,w,E),S===null?j=P:S.sibling=P,S=P,N=A}if(E===b.length)return r(y,N),Ft&&ic(y,E),j;if(N===null){for(;E<b.length;E++)N=f(y,b[E],_),N!==null&&(w=i(N,w,E),S===null?j=N:S.sibling=N,S=N);return Ft&&ic(y,E),j}for(N=n(y,N);E<b.length;E++)A=m(N,y,E,b[E],_),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?E:A.key),w=i(A,w,E),S===null?j=A:S.sibling=A,S=A);return e&&N.forEach(function(C){return t(y,C)}),Ft&&ic(y,E),j}function g(y,w,b,_){var j=Zf(b);if(typeof j!="function")throw Error(Z(150));if(b=j.call(b),b==null)throw Error(Z(151));for(var S=j=null,N=w,E=w=0,A=null,P=b.next();N!==null&&!P.done;E++,P=b.next()){N.index>E?(A=N,N=null):A=N.sibling;var C=h(y,N,P.value,_);if(C===null){N===null&&(N=A);break}e&&N&&C.alternate===null&&t(y,N),w=i(C,w,E),S===null?j=C:S.sibling=C,S=C,N=A}if(P.done)return r(y,N),Ft&&ic(y,E),j;if(N===null){for(;!P.done;E++,P=b.next())P=f(y,P.value,_),P!==null&&(w=i(P,w,E),S===null?j=P:S.sibling=P,S=P);return Ft&&ic(y,E),j}for(N=n(y,N);!P.done;E++,P=b.next())P=m(N,y,E,P.value,_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),w=i(P,w,E),S===null?j=P:S.sibling=P,S=P);return e&&N.forEach(function(k){return t(y,k)}),Ft&&ic(y,E),j}function x(y,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Zu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lg:e:{for(var j=b.key,S=w;S!==null;){if(S.key===j){if(j=b.type,j===Zu){if(S.tag===7){r(y,S.sibling),w=s(S,b.props.children),w.return=y,y=w;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Do&&RA(j)===S.type){r(y,S.sibling),w=s(S,b.props),w.ref=sh(y,S,b),w.return=y,y=w;break e}r(y,S);break}else t(y,S);S=S.sibling}b.type===Zu?(w=Lc(b.props.children,y.mode,_,b.key),w.return=y,y=w):(_=kv(b.type,b.key,b.props,null,y.mode,_),_.ref=sh(y,w,b),_.return=y,y=_)}return a(y);case Ju:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=s(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=j_(b,y.mode,_),w.return=y,y=w}return a(y);case Do:return S=b._init,x(y,w,S(b._payload),_)}if(Ah(b))return v(y,w,b,_);if(Zf(b))return g(y,w,b,_);yg(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=s(w,b),w.return=y,y=w):(r(y,w),w=__(b,y.mode,_),w.return=y,y=w),a(y)):r(y,w)}return x}var Vd=r5(!0),n5=r5(!1),lx=Fl(null),cx=null,od=null,YE=null;function XE(){YE=od=cx=null}function QE(e){var t=lx.current;Lt(lx),e._currentValue=t}function bj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xd(e,t){cx=e,YE=od=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wn=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(YE!==e)if(e={context:e,memoizedValue:t,next:null},od===null){if(cx===null)throw Error(Z(308));od=e,cx.dependencies={lanes:0,firstContext:e}}else od=od.next=e;return t}var vc=null;function JE(e){vc===null?vc=[e]:vc.push(e)}function s5(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,JE(t)):(r.next=s.next,s.next=r),t.interleaved=r,Qa(e,n)}function Qa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mo=!1;function ZE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Qa(e,r)}return s=n.interleaved,s===null?(t.next=t,JE(n)):(t.next=s.next,s.next=t),n.interleaved=t,Qa(e,r)}function wv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LE(e,r)}}function IA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ux(e,t,r,n){var s=e.updateQueue;Mo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(h=t,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Gt({},f,h);break e;case 2:Mo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yc|=a,e.lanes=a,e.memoizedState=f}}function DA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Z(191,s));s.call(n)}}}var Sm={},Zi=Fl(Sm),Np=Fl(Sm),Ep=Fl(Sm);function xc(e){if(e===Sm)throw Error(Z(174));return e}function ek(e,t){switch(At(Ep,t),At(Np,e),At(Zi,Sm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ej(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ej(t,e)}Lt(Zi),At(Zi,t)}function Wd(){Lt(Zi),Lt(Np),Lt(Ep)}function a5(e){xc(Ep.current);var t=xc(Zi.current),r=ej(t,e.type);t!==r&&(At(Np,e),At(Zi,r))}function tk(e){Np.current===e&&(Lt(Zi),Lt(Np))}var Vt=Fl(0);function dx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var g_=[];function rk(){for(var e=0;e<g_.length;e++)g_[e]._workInProgressVersionPrimary=null;g_.length=0}var _v=uo.ReactCurrentDispatcher,v_=uo.ReactCurrentBatchConfig,Gc=0,Ht=null,wr=null,Lr=null,fx=!1,Zh=!1,kp=0,rY=0;function Zr(){throw Error(Z(321))}function nk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ci(e[r],t[r]))return!1;return!0}function sk(e,t,r,n,s,i){if(Gc=i,Ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_v.current=e===null||e.memoizedState===null?aY:oY,e=r(n,s),Zh){i=0;do{if(Zh=!1,kp=0,25<=i)throw Error(Z(301));i+=1,Lr=wr=null,t.updateQueue=null,_v.current=lY,e=r(n,s)}while(Zh)}if(_v.current=hx,t=wr!==null&&wr.next!==null,Gc=0,Lr=wr=Ht=null,fx=!1,t)throw Error(Z(300));return e}function ik(){var e=kp!==0;return kp=0,e}function Vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Ht.memoizedState=Lr=e:Lr=Lr.next=e,Lr}function Xs(){if(wr===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var t=Lr===null?Ht.memoizedState:Lr.next;if(t!==null)Lr=t,wr=e;else{if(e===null)throw Error(Z(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Lr===null?Ht.memoizedState=Lr=e:Lr=Lr.next=e}return Lr}function Cp(e,t){return typeof t=="function"?t(e):t}function x_(e){var t=Xs(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=wr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Gc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Ht.lanes|=d,Yc|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Ci(n,t.memoizedState)||(Wn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ht.lanes|=i,Yc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function y_(e){var t=Xs(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ci(i,t.memoizedState)||(Wn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function o5(){}function l5(e,t){var r=Ht,n=Xs(),s=t(),i=!Ci(n.memoizedState,s);if(i&&(n.memoizedState=s,Wn=!0),n=n.queue,ak(d5.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Lr!==null&&Lr.memoizedState.tag&1){if(r.flags|=2048,Pp(9,u5.bind(null,r,n,s,t),void 0,null),Fr===null)throw Error(Z(349));Gc&30||c5(r,t,s)}return s}function c5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function u5(e,t,r,n){t.value=r,t.getSnapshot=n,f5(t)&&h5(e)}function d5(e,t,r){return r(function(){f5(t)&&h5(e)})}function f5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ci(e,r)}catch{return!0}}function h5(e){var t=Qa(e,1);t!==null&&_i(t,e,1,-1)}function MA(e){var t=Vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:e},t.queue=e,e=e.dispatch=iY.bind(null,Ht,e),[t.memoizedState,e]}function Pp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function p5(){return Xs().memoizedState}function jv(e,t,r,n){var s=Vi();Ht.flags|=e,s.memoizedState=Pp(1|t,r,void 0,n===void 0?null:n)}function a0(e,t,r,n){var s=Xs();n=n===void 0?null:n;var i=void 0;if(wr!==null){var a=wr.memoizedState;if(i=a.destroy,n!==null&&nk(n,a.deps)){s.memoizedState=Pp(t,r,i,n);return}}Ht.flags|=e,s.memoizedState=Pp(1|t,r,i,n)}function $A(e,t){return jv(8390656,8,e,t)}function ak(e,t){return a0(2048,8,e,t)}function m5(e,t){return a0(4,2,e,t)}function g5(e,t){return a0(4,4,e,t)}function v5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x5(e,t,r){return r=r!=null?r.concat([e]):null,a0(4,4,v5.bind(null,t,e),r)}function ok(){}function y5(e,t){var r=Xs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function b5(e,t){var r=Xs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function w5(e,t,r){return Gc&21?(Ci(r,t)||(r=E$(),Ht.lanes|=r,Yc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wn=!0),e.memoizedState=r)}function nY(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=v_.transition;v_.transition={};try{e(!1),t()}finally{mt=r,v_.transition=n}}function _5(){return Xs().memoizedState}function sY(e,t,r){var n=hl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j5(e))S5(t,r);else if(r=s5(e,t,r,n),r!==null){var s=Cn();_i(r,e,n,s),N5(r,t,n)}}function iY(e,t,r){var n=hl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j5(e))S5(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Ci(l,a)){var c=t.interleaved;c===null?(s.next=s,JE(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=s5(e,t,s,n),r!==null&&(s=Cn(),_i(r,e,n,s),N5(r,t,n))}}function j5(e){var t=e.alternate;return e===Ht||t!==null&&t===Ht}function S5(e,t){Zh=fx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function N5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LE(e,r)}}var hx={readContext:Ys,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},aY={readContext:Ys,useCallback:function(e,t){return Vi().memoizedState=[e,t===void 0?null:t],e},useContext:Ys,useEffect:$A,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jv(4194308,4,v5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jv(4194308,4,e,t)},useInsertionEffect:function(e,t){return jv(4,2,e,t)},useMemo:function(e,t){var r=Vi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sY.bind(null,Ht,e),[n.memoizedState,e]},useRef:function(e){var t=Vi();return e={current:e},t.memoizedState=e},useState:MA,useDebugValue:ok,useDeferredValue:function(e){return Vi().memoizedState=e},useTransition:function(){var e=MA(!1),t=e[0];return e=nY.bind(null,e[1]),Vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ht,s=Vi();if(Ft){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),Fr===null)throw Error(Z(349));Gc&30||c5(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,$A(d5.bind(null,n,i,e),[e]),n.flags|=2048,Pp(9,u5.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Vi(),t=Fr.identifierPrefix;if(Ft){var r=La,n=$a;r=(n&~(1<<32-wi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=kp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oY={readContext:Ys,useCallback:y5,useContext:Ys,useEffect:ak,useImperativeHandle:x5,useInsertionEffect:m5,useLayoutEffect:g5,useMemo:b5,useReducer:x_,useRef:p5,useState:function(){return x_(Cp)},useDebugValue:ok,useDeferredValue:function(e){var t=Xs();return w5(t,wr.memoizedState,e)},useTransition:function(){var e=x_(Cp)[0],t=Xs().memoizedState;return[e,t]},useMutableSource:o5,useSyncExternalStore:l5,useId:_5,unstable_isNewReconciler:!1},lY={readContext:Ys,useCallback:y5,useContext:Ys,useEffect:ak,useImperativeHandle:x5,useInsertionEffect:m5,useLayoutEffect:g5,useMemo:b5,useReducer:y_,useRef:p5,useState:function(){return y_(Cp)},useDebugValue:ok,useDeferredValue:function(e){var t=Xs();return wr===null?t.memoizedState=e:w5(t,wr.memoizedState,e)},useTransition:function(){var e=y_(Cp)[0],t=Xs().memoizedState;return[e,t]},useMutableSource:o5,useSyncExternalStore:l5,useId:_5,unstable_isNewReconciler:!1};function ui(e,t){if(e&&e.defaultProps){t=Gt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Gt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var o0={isMounted:function(e){return(e=e._reactInternals)?_u(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=hl(e),i=Ba(n,s);i.payload=t,r!=null&&(i.callback=r),t=dl(e,i,s),t!==null&&(_i(t,e,s,n),wv(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=hl(e),i=Ba(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=dl(e,i,s),t!==null&&(_i(t,e,s,n),wv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Cn(),n=hl(e),s=Ba(r,n);s.tag=2,t!=null&&(s.callback=t),t=dl(e,s,n),t!==null&&(_i(t,e,n,r),wv(t,e,n))}};function LA(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!wp(r,n)||!wp(s,i):!0}function E5(e,t,r){var n=!1,s=El,i=t.contextType;return typeof i=="object"&&i!==null?i=Ys(i):(s=Xn(t)?Hc:mn.current,n=t.contextTypes,i=(n=n!=null)?zd(e,s):El),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=o0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function FA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&o0.enqueueReplaceState(t,t.state,null)}function _j(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ZE(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ys(i):(i=Xn(t)?Hc:mn.current,s.context=zd(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&o0.enqueueReplaceState(s,s.state,null),ux(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qd(e,t){try{var r="",n=t;do r+=MK(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function b_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var cY=typeof WeakMap=="function"?WeakMap:Map;function k5(e,t,r){r=Ba(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mx||(mx=!0,Rj=n),jj(e,t)},r}function C5(e,t,r){r=Ba(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jj(e,t),typeof n!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function UA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new cY;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=jY.bind(null,e,t,r),t.then(e,e))}function zA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BA(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ba(-1,1),t.tag=2,dl(r,t,1))),r.lanes|=1),e)}var uY=uo.ReactCurrentOwner,Wn=!1;function bn(e,t,r,n){t.child=e===null?n5(t,null,r,n):Vd(t,e.child,r,n)}function VA(e,t,r,n,s){r=r.render;var i=t.ref;return xd(t,s),n=sk(e,t,r,n,i,s),r=ik(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(Ft&&r&&HE(t),t.flags|=1,bn(e,t,n,s),t.child)}function WA(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!mk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,P5(e,t,i,n,s)):(e=kv(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:wp,r(a,n)&&e.ref===t.ref)return Ja(e,t,s)}return t.flags|=1,e=pl(i,n),e.ref=t.ref,e.return=t,t.child=e}function P5(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(wp(i,n)&&e.ref===t.ref)if(Wn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Wn=!0);else return t.lanes=e.lanes,Ja(e,t,s)}return Sj(e,t,r,n,s)}function A5(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(cd,as),as|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(cd,as),as|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,At(cd,as),as|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,At(cd,as),as|=n;return bn(e,t,s,r),t.child}function O5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sj(e,t,r,n,s){var i=Xn(r)?Hc:mn.current;return i=zd(t,i),xd(t,s),r=sk(e,t,r,n,i,s),n=ik(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(Ft&&n&&HE(t),t.flags|=1,bn(e,t,r,s),t.child)}function qA(e,t,r,n,s){if(Xn(r)){var i=!0;ix(t)}else i=!1;if(xd(t,s),t.stateNode===null)Sv(e,t),E5(t,r,n),_j(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ys(u):(u=Xn(r)?Hc:mn.current,u=zd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&FA(t,a,n,u),Mo=!1;var h=t.memoizedState;a.state=h,ux(t,n,a,s),c=t.memoizedState,l!==n||h!==c||Yn.current||Mo?(typeof d=="function"&&(wj(t,r,d,n),c=t.memoizedState),(l=Mo||LA(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,i5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ui(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ys(c):(c=Xn(r)?Hc:mn.current,c=zd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&FA(t,a,n,c),Mo=!1,h=t.memoizedState,a.state=h,ux(t,n,a,s);var v=t.memoizedState;l!==f||h!==v||Yn.current||Mo?(typeof m=="function"&&(wj(t,r,m,n),v=t.memoizedState),(u=Mo||LA(t,r,u,n,h,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Nj(e,t,r,n,i,s)}function Nj(e,t,r,n,s,i){O5(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&AA(t,r,!1),Ja(e,t,i);n=t.stateNode,uY.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Vd(t,e.child,null,i),t.child=Vd(t,null,l,i)):bn(e,t,l,i),t.memoizedState=n.state,s&&AA(t,r,!0),t.child}function T5(e){var t=e.stateNode;t.pendingContext?PA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&PA(e,t.context,!1),ek(e,t.containerInfo)}function HA(e,t,r,n,s){return Bd(),GE(s),t.flags|=256,bn(e,t,r,n),t.child}var Ej={dehydrated:null,treeContext:null,retryLane:0};function kj(e){return{baseLanes:e,cachePool:null,transitions:null}}function R5(e,t,r){var n=t.pendingProps,s=Vt.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),At(Vt,s&1),e===null)return yj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=u0(a,n,0,null),e=Lc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kj(r),t.memoizedState=Ej,e):lk(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dY(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=pl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=pl(l,i):(i=Lc(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?kj(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Ej,n}return i=e.child,e=i.sibling,n=pl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lk(e,t){return t=u0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bg(e,t,r,n){return n!==null&&GE(n),Vd(t,e.child,null,r),e=lk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dY(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=b_(Error(Z(422))),bg(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=u0({mode:"visible",children:n.children},s,0,null),i=Lc(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Vd(t,e.child,null,a),t.child.memoizedState=kj(a),t.memoizedState=Ej,i);if(!(t.mode&1))return bg(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Z(419)),n=b_(i,n,void 0),bg(e,t,a,n)}if(l=(a&e.childLanes)!==0,Wn||l){if(n=Fr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qa(e,s),_i(n,e,s,-1))}return pk(),n=b_(Error(Z(421))),bg(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=SY.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ps=ul(s.nextSibling),vs=t,Ft=!0,gi=null,e!==null&&(Fs[Us++]=$a,Fs[Us++]=La,Fs[Us++]=Kc,$a=e.id,La=e.overflow,Kc=t),t=lk(t,n.children),t.flags|=4096,t)}function KA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bj(e.return,t,r)}function w_(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function I5(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(bn(e,t,n.children,r),n=Vt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KA(e,r,t);else if(e.tag===19)KA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(At(Vt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&dx(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),w_(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&dx(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}w_(t,!0,r,null,i);break;case"together":w_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=pl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fY(e,t,r){switch(t.tag){case 3:T5(t),Bd();break;case 5:a5(t);break;case 1:Xn(t.type)&&ix(t);break;case 4:ek(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;At(lx,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(At(Vt,Vt.current&1),t.flags|=128,null):r&t.child.childLanes?R5(e,t,r):(At(Vt,Vt.current&1),e=Ja(e,t,r),e!==null?e.sibling:null);At(Vt,Vt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return I5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),At(Vt,Vt.current),n)break;return null;case 22:case 23:return t.lanes=0,A5(e,t,r)}return Ja(e,t,r)}var D5,Cj,M5,$5;D5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cj=function(){};M5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xc(Zi.current);var i=null;switch(r){case"input":s=X1(e,s),n=X1(e,n),i=[];break;case"select":s=Gt({},s,{value:void 0}),n=Gt({},n,{value:void 0}),i=[];break;case"textarea":s=Z1(e,s),n=Z1(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nx)}tj(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Rt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};$5=function(e,t,r,n){r!==n&&(t.flags|=4)};function ih(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function en(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hY(e,t,r){var n=t.pendingProps;switch(KE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(t),null;case 1:return Xn(t.type)&&sx(),en(t),null;case 3:return n=t.stateNode,Wd(),Lt(Yn),Lt(mn),rk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gi!==null&&(Mj(gi),gi=null))),Cj(e,t),en(t),null;case 5:tk(t);var s=xc(Ep.current);if(r=t.type,e!==null&&t.stateNode!=null)M5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return en(t),null}if(e=xc(Zi.current),xg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ki]=t,n[Sp]=i,e=(t.mode&1)!==0,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<Th.length;s++)Rt(Th[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":rA(n,i),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Rt("invalid",n);break;case"textarea":sA(n,i),Rt("invalid",n)}tj(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&vg(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vg(n.textContent,l,e),s=["children",""+l]):pp.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Rt("scroll",n)}switch(r){case"input":cg(n),nA(n,i,!0);break;case"textarea":cg(n),iA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=nx)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ki]=t,e[Sp]=n,D5(e,t,!1,!1),t.stateNode=e;e:{switch(a=rj(r,n),r){case"dialog":Rt("cancel",e),Rt("close",e),s=n;break;case"iframe":case"object":case"embed":Rt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Th.length;s++)Rt(Th[s],e);s=n;break;case"source":Rt("error",e),s=n;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),s=n;break;case"details":Rt("toggle",e),s=n;break;case"input":rA(e,n),s=X1(e,n),Rt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Gt({},n,{value:void 0}),Rt("invalid",e);break;case"textarea":sA(e,n),s=Z1(e,n),Rt("invalid",e);break;default:s=n}tj(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?p$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&f$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mp(e,c):typeof c=="number"&&mp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Rt("scroll",e):c!=null&&TE(e,i,c,a))}switch(r){case"input":cg(e),nA(e,n,!1);break;case"textarea":cg(e),iA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?pd(e,!!n.multiple,i,!1):n.defaultValue!=null&&pd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return en(t),null;case 6:if(e&&t.stateNode!=null)$5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=xc(Ep.current),xc(Zi.current),xg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ki]=t,(i=n.nodeValue!==r)&&(e=vs,e!==null))switch(e.tag){case 3:vg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ki]=t,t.stateNode=n}return en(t),null;case 13:if(Lt(Vt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&ps!==null&&t.mode&1&&!(t.flags&128))t5(),Bd(),t.flags|=98560,i=!1;else if(i=xg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Ki]=t}else Bd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;en(t),i=!1}else gi!==null&&(Mj(gi),gi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Vt.current&1?kr===0&&(kr=3):pk())),t.updateQueue!==null&&(t.flags|=4),en(t),null);case 4:return Wd(),Cj(e,t),e===null&&_p(t.stateNode.containerInfo),en(t),null;case 10:return QE(t.type._context),en(t),null;case 17:return Xn(t.type)&&sx(),en(t),null;case 19:if(Lt(Vt),i=t.memoizedState,i===null)return en(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ih(i,!1);else{if(kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=dx(e),a!==null){for(t.flags|=128,ih(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return At(Vt,Vt.current&1|2),t.child}e=e.sibling}i.tail!==null&&nr()>Hd&&(t.flags|=128,n=!0,ih(i,!1),t.lanes=4194304)}else{if(!n)if(e=dx(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ih(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ft)return en(t),null}else 2*nr()-i.renderingStartTime>Hd&&r!==1073741824&&(t.flags|=128,n=!0,ih(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nr(),t.sibling=null,r=Vt.current,At(Vt,n?r&1|2:r&1),t):(en(t),null);case 22:case 23:return hk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?as&1073741824&&(en(t),t.subtreeFlags&6&&(t.flags|=8192)):en(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function pY(e,t){switch(KE(t),t.tag){case 1:return Xn(t.type)&&sx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wd(),Lt(Yn),Lt(mn),rk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tk(t),null;case 13:if(Lt(Vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Bd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Vt),null;case 4:return Wd(),null;case 10:return QE(t.type._context),null;case 22:case 23:return hk(),null;case 24:return null;default:return null}}var wg=!1,sn=!1,mY=typeof WeakSet=="function"?WeakSet:Set,ve=null;function ld(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qt(e,t,n)}else r.current=null}function Pj(e,t,r){try{r()}catch(n){Qt(e,t,n)}}var GA=!1;function gY(e,t){if(fj=ex,e=B$(),qE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hj={focusedElem:e,selectionRange:r},ex=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ui(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(_){Qt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return v=GA,GA=!1,v}function ep(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pj(t,r,i)}s=s.next}while(s!==n)}}function l0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Aj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L5(e){var t=e.alternate;t!==null&&(e.alternate=null,L5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ki],delete t[Sp],delete t[gj],delete t[JG],delete t[ZG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function F5(e){return e.tag===5||e.tag===3||e.tag===4}function YA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nx));else if(n!==4&&(e=e.child,e!==null))for(Oj(e,t,r),e=e.sibling;e!==null;)Oj(e,t,r),e=e.sibling}function Tj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tj(e,t,r),e=e.sibling;e!==null;)Tj(e,t,r),e=e.sibling}var Kr=null,pi=!1;function Eo(e,t,r){for(r=r.child;r!==null;)U5(e,t,r),r=r.sibling}function U5(e,t,r){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(e0,r)}catch{}switch(r.tag){case 5:sn||ld(r,t);case 6:var n=Kr,s=pi;Kr=null,Eo(e,t,r),Kr=n,pi=s,Kr!==null&&(pi?(e=Kr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kr.removeChild(r.stateNode));break;case 18:Kr!==null&&(pi?(e=Kr,r=r.stateNode,e.nodeType===8?p_(e.parentNode,r):e.nodeType===1&&p_(e,r),yp(e)):p_(Kr,r.stateNode));break;case 4:n=Kr,s=pi,Kr=r.stateNode.containerInfo,pi=!0,Eo(e,t,r),Kr=n,pi=s;break;case 0:case 11:case 14:case 15:if(!sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Pj(r,t,a),s=s.next}while(s!==n)}Eo(e,t,r);break;case 1:if(!sn&&(ld(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qt(r,t,l)}Eo(e,t,r);break;case 21:Eo(e,t,r);break;case 22:r.mode&1?(sn=(n=sn)||r.memoizedState!==null,Eo(e,t,r),sn=n):Eo(e,t,r);break;default:Eo(e,t,r)}}function XA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mY),t.forEach(function(n){var s=NY.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ii(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Kr=l.stateNode,pi=!1;break e;case 3:Kr=l.stateNode.containerInfo,pi=!0;break e;case 4:Kr=l.stateNode.containerInfo,pi=!0;break e}l=l.return}if(Kr===null)throw Error(Z(160));U5(i,a,s),Kr=null,pi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z5(t,e),t=t.sibling}function z5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ii(t,e),Ui(e),n&4){try{ep(3,e,e.return),l0(3,e)}catch(g){Qt(e,e.return,g)}try{ep(5,e,e.return)}catch(g){Qt(e,e.return,g)}}break;case 1:ii(t,e),Ui(e),n&512&&r!==null&&ld(r,r.return);break;case 5:if(ii(t,e),Ui(e),n&512&&r!==null&&ld(r,r.return),e.flags&32){var s=e.stateNode;try{mp(s,"")}catch(g){Qt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&c$(s,i),rj(l,a);var u=rj(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?p$(s,f):d==="dangerouslySetInnerHTML"?f$(s,f):d==="children"?mp(s,f):TE(s,d,f,u)}switch(l){case"input":Q1(s,i);break;case"textarea":u$(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pd(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?pd(s,!!i.multiple,i.defaultValue,!0):pd(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sp]=i}catch(g){Qt(e,e.return,g)}}break;case 6:if(ii(t,e),Ui(e),n&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Qt(e,e.return,g)}}break;case 3:if(ii(t,e),Ui(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yp(t.containerInfo)}catch(g){Qt(e,e.return,g)}break;case 4:ii(t,e),Ui(e);break;case 13:ii(t,e),Ui(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dk=nr())),n&4&&XA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(sn=(u=sn)||d,ii(t,e),sn=u):ii(t,e),Ui(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ve=e,d=e.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,m=h.child,h.tag){case 0:case 11:case 14:case 15:ep(4,h,h.return);break;case 1:ld(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Qt(n,r,g)}}break;case 5:ld(h,h.return);break;case 22:if(h.memoizedState!==null){JA(f);continue}}m!==null?(m.return=h,ve=m):JA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=h$("display",a))}catch(g){Qt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Qt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ii(t,e),Ui(e),n&4&&XA(e);break;case 21:break;default:ii(t,e),Ui(e)}}function Ui(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(F5(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(mp(s,""),n.flags&=-33);var i=YA(e);Tj(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=YA(e);Oj(e,l,a);break;default:throw Error(Z(161))}}catch(c){Qt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vY(e,t,r){ve=e,B5(e)}function B5(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var s=ve,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||wg;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||sn;l=wg;var u=sn;if(wg=a,(sn=c)&&!u)for(ve=s;ve!==null;)a=ve,c=a.child,a.tag===22&&a.memoizedState!==null?ZA(s):c!==null?(c.return=a,ve=c):ZA(s);for(;i!==null;)ve=i,B5(i),i=i.sibling;ve=s,wg=l,sn=u}QA(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ve=i):QA(e)}}function QA(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sn||l0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ui(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&DA(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}DA(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}sn||t.flags&512&&Aj(t)}catch(h){Qt(t,t.return,h)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function JA(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function ZA(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{l0(4,t)}catch(c){Qt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Qt(t,s,c)}}var i=t.return;try{Aj(t)}catch(c){Qt(t,i,c)}break;case 5:var a=t.return;try{Aj(t)}catch(c){Qt(t,a,c)}}}catch(c){Qt(t,t.return,c)}if(t===e){ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ve=l;break}ve=t.return}}var xY=Math.ceil,px=uo.ReactCurrentDispatcher,ck=uo.ReactCurrentOwner,qs=uo.ReactCurrentBatchConfig,nt=0,Fr=null,ur=null,Qr=0,as=0,cd=Fl(0),kr=0,Ap=null,Yc=0,c0=0,uk=0,tp=null,Bn=null,dk=0,Hd=1/0,_a=null,mx=!1,Rj=null,fl=null,_g=!1,tl=null,gx=0,rp=0,Ij=null,Nv=-1,Ev=0;function Cn(){return nt&6?nr():Nv!==-1?Nv:Nv=nr()}function hl(e){return e.mode&1?nt&2&&Qr!==0?Qr&-Qr:tY.transition!==null?(Ev===0&&(Ev=E$()),Ev):(e=mt,e!==0||(e=window.event,e=e===void 0?16:R$(e.type)),e):1}function _i(e,t,r,n){if(50<rp)throw rp=0,Ij=null,Error(Z(185));wm(e,r,n),(!(nt&2)||e!==Fr)&&(e===Fr&&(!(nt&2)&&(c0|=r),kr===4&&Bo(e,Qr)),Qn(e,n),r===1&&nt===0&&!(t.mode&1)&&(Hd=nr()+500,i0&&Ul()))}function Qn(e,t){var r=e.callbackNode;tG(e,t);var n=Zv(e,e===Fr?Qr:0);if(n===0)r!==null&&lA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lA(r),t===1)e.tag===0?eY(eO.bind(null,e)):J$(eO.bind(null,e)),XG(function(){!(nt&6)&&Ul()}),r=null;else{switch(k$(n)){case 1:r=$E;break;case 4:r=S$;break;case 16:r=Jv;break;case 536870912:r=N$;break;default:r=Jv}r=X5(r,V5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function V5(e,t){if(Nv=-1,Ev=0,nt&6)throw Error(Z(327));var r=e.callbackNode;if(yd()&&e.callbackNode!==r)return null;var n=Zv(e,e===Fr?Qr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vx(e,n);else{t=n;var s=nt;nt|=2;var i=q5();(Fr!==e||Qr!==t)&&(_a=null,Hd=nr()+500,$c(e,t));do try{wY();break}catch(l){W5(e,l)}while(!0);XE(),px.current=i,nt=s,ur!==null?t=0:(Fr=null,Qr=0,t=kr)}if(t!==0){if(t===2&&(s=oj(e),s!==0&&(n=s,t=Dj(e,s))),t===1)throw r=Ap,$c(e,0),Bo(e,n),Qn(e,nr()),r;if(t===6)Bo(e,n);else{if(s=e.current.alternate,!(n&30)&&!yY(s)&&(t=vx(e,n),t===2&&(i=oj(e),i!==0&&(n=i,t=Dj(e,i))),t===1))throw r=Ap,$c(e,0),Bo(e,n),Qn(e,nr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:ac(e,Bn,_a);break;case 3:if(Bo(e,n),(n&130023424)===n&&(t=dk+500-nr(),10<t)){if(Zv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Cn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mj(ac.bind(null,e,Bn,_a),t);break}ac(e,Bn,_a);break;case 4:if(Bo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-wi(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xY(n/1960))-n,10<n){e.timeoutHandle=mj(ac.bind(null,e,Bn,_a),n);break}ac(e,Bn,_a);break;case 5:ac(e,Bn,_a);break;default:throw Error(Z(329))}}}return Qn(e,nr()),e.callbackNode===r?V5.bind(null,e):null}function Dj(e,t){var r=tp;return e.current.memoizedState.isDehydrated&&($c(e,t).flags|=256),e=vx(e,t),e!==2&&(t=Bn,Bn=r,t!==null&&Mj(t)),e}function Mj(e){Bn===null?Bn=e:Bn.push.apply(Bn,e)}function yY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ci(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bo(e,t){for(t&=~uk,t&=~c0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wi(t),n=1<<r;e[r]=-1,t&=~n}}function eO(e){if(nt&6)throw Error(Z(327));yd();var t=Zv(e,0);if(!(t&1))return Qn(e,nr()),null;var r=vx(e,t);if(e.tag!==0&&r===2){var n=oj(e);n!==0&&(t=n,r=Dj(e,n))}if(r===1)throw r=Ap,$c(e,0),Bo(e,t),Qn(e,nr()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ac(e,Bn,_a),Qn(e,nr()),null}function fk(e,t){var r=nt;nt|=1;try{return e(t)}finally{nt=r,nt===0&&(Hd=nr()+500,i0&&Ul())}}function Xc(e){tl!==null&&tl.tag===0&&!(nt&6)&&yd();var t=nt;nt|=1;var r=qs.transition,n=mt;try{if(qs.transition=null,mt=1,e)return e()}finally{mt=n,qs.transition=r,nt=t,!(nt&6)&&Ul()}}function hk(){as=cd.current,Lt(cd)}function $c(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,YG(r)),ur!==null)for(r=ur.return;r!==null;){var n=r;switch(KE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sx();break;case 3:Wd(),Lt(Yn),Lt(mn),rk();break;case 5:tk(n);break;case 4:Wd();break;case 13:Lt(Vt);break;case 19:Lt(Vt);break;case 10:QE(n.type._context);break;case 22:case 23:hk()}r=r.return}if(Fr=e,ur=e=pl(e.current,null),Qr=as=t,kr=0,Ap=null,uk=c0=Yc=0,Bn=tp=null,vc!==null){for(t=0;t<vc.length;t++)if(r=vc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}vc=null}return e}function W5(e,t){do{var r=ur;try{if(XE(),_v.current=hx,fx){for(var n=Ht.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fx=!1}if(Gc=0,Lr=wr=Ht=null,Zh=!1,kp=0,ck.current=null,r===null||r.return===null){kr=1,Ap=t,ur=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=Qr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zA(a);if(m!==null){m.flags&=-257,BA(m,a,l,i,t),m.mode&1&&UA(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){UA(i,u,t),pk();break e}c=Error(Z(426))}}else if(Ft&&l.mode&1){var x=zA(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),BA(x,a,l,i,t),GE(qd(c,l));break e}}i=c=qd(c,l),kr!==4&&(kr=2),tp===null?tp=[i]:tp.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=k5(i,c,t);IA(i,y);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fl===null||!fl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=C5(i,l,t);IA(i,_);break e}}i=i.return}while(i!==null)}K5(r)}catch(j){t=j,ur===r&&r!==null&&(ur=r=r.return);continue}break}while(!0)}function q5(){var e=px.current;return px.current=hx,e===null?hx:e}function pk(){(kr===0||kr===3||kr===2)&&(kr=4),Fr===null||!(Yc&268435455)&&!(c0&268435455)||Bo(Fr,Qr)}function vx(e,t){var r=nt;nt|=2;var n=q5();(Fr!==e||Qr!==t)&&(_a=null,$c(e,t));do try{bY();break}catch(s){W5(e,s)}while(!0);if(XE(),nt=r,px.current=n,ur!==null)throw Error(Z(261));return Fr=null,Qr=0,kr}function bY(){for(;ur!==null;)H5(ur)}function wY(){for(;ur!==null&&!HK();)H5(ur)}function H5(e){var t=Y5(e.alternate,e,as);e.memoizedProps=e.pendingProps,t===null?K5(e):ur=t,ck.current=null}function K5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pY(r,t),r!==null){r.flags&=32767,ur=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kr=6,ur=null;return}}else if(r=hY(r,t,as),r!==null){ur=r;return}if(t=t.sibling,t!==null){ur=t;return}ur=t=e}while(t!==null);kr===0&&(kr=5)}function ac(e,t,r){var n=mt,s=qs.transition;try{qs.transition=null,mt=1,_Y(e,t,r,n)}finally{qs.transition=s,mt=n}return null}function _Y(e,t,r,n){do yd();while(tl!==null);if(nt&6)throw Error(Z(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rG(e,i),e===Fr&&(ur=Fr=null,Qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_g||(_g=!0,X5(Jv,function(){return yd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qs.transition,qs.transition=null;var a=mt;mt=1;var l=nt;nt|=4,ck.current=null,gY(e,r),z5(r,e),BG(hj),ex=!!fj,hj=fj=null,e.current=r,vY(r),KK(),nt=l,mt=a,qs.transition=i}else e.current=r;if(_g&&(_g=!1,tl=e,gx=s),i=e.pendingLanes,i===0&&(fl=null),XK(r.stateNode),Qn(e,nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mx)throw mx=!1,e=Rj,Rj=null,e;return gx&1&&e.tag!==0&&yd(),i=e.pendingLanes,i&1?e===Ij?rp++:(rp=0,Ij=e):rp=0,Ul(),null}function yd(){if(tl!==null){var e=k$(gx),t=qs.transition,r=mt;try{if(qs.transition=null,mt=16>e?16:e,tl===null)var n=!1;else{if(e=tl,tl=null,gx=0,nt&6)throw Error(Z(331));var s=nt;for(nt|=4,ve=e.current;ve!==null;){var i=ve,a=i.child;if(ve.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:ep(8,d,i)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,m=d.return;if(L5(d),d===u){ve=null;break}if(h!==null){h.return=m,ve=h;break}ve=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}ve=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ve=a;else e:for(;ve!==null;){if(i=ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ep(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ve=y;break e}ve=i.return}}var w=e.current;for(ve=w;ve!==null;){a=ve;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ve=b;else e:for(a=w;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:l0(9,l)}}catch(j){Qt(l,l.return,j)}if(l===a){ve=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ve=_;break e}ve=l.return}}if(nt=s,Ul(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(e0,e)}catch{}n=!0}return n}finally{mt=r,qs.transition=t}}return!1}function tO(e,t,r){t=qd(r,t),t=k5(e,t,1),e=dl(e,t,1),t=Cn(),e!==null&&(wm(e,1,t),Qn(e,t))}function Qt(e,t,r){if(e.tag===3)tO(e,e,r);else for(;t!==null;){if(t.tag===3){tO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fl===null||!fl.has(n))){e=qd(r,e),e=C5(t,e,1),t=dl(t,e,1),e=Cn(),t!==null&&(wm(t,1,e),Qn(t,e));break}}t=t.return}}function jY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Cn(),e.pingedLanes|=e.suspendedLanes&r,Fr===e&&(Qr&r)===r&&(kr===4||kr===3&&(Qr&130023424)===Qr&&500>nr()-dk?$c(e,0):uk|=r),Qn(e,t)}function G5(e,t){t===0&&(e.mode&1?(t=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):t=1);var r=Cn();e=Qa(e,t),e!==null&&(wm(e,t,r),Qn(e,r))}function SY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G5(e,r)}function NY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),G5(e,r)}var Y5;Y5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Wn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wn=!1,fY(e,t,r);Wn=!!(e.flags&131072)}else Wn=!1,Ft&&t.flags&1048576&&Z$(t,ox,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sv(e,t),e=t.pendingProps;var s=zd(t,mn.current);xd(t,r),s=sk(null,t,n,e,s,r);var i=ik();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(n)?(i=!0,ix(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ZE(t),s.updater=o0,t.stateNode=s,s._reactInternals=t,_j(t,n,e,r),t=Nj(null,t,n,!0,i,r)):(t.tag=0,Ft&&i&&HE(t),bn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sv(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=kY(n),e=ui(n,e),s){case 0:t=Sj(null,t,n,e,r);break e;case 1:t=qA(null,t,n,e,r);break e;case 11:t=VA(null,t,n,e,r);break e;case 14:t=WA(null,t,n,ui(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ui(n,s),Sj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ui(n,s),qA(e,t,n,s,r);case 3:e:{if(T5(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,s=i.element,i5(e,t),ux(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=qd(Error(Z(423)),t),t=HA(e,t,n,r,s);break e}else if(n!==s){s=qd(Error(Z(424)),t),t=HA(e,t,n,r,s);break e}else for(ps=ul(t.stateNode.containerInfo.firstChild),vs=t,Ft=!0,gi=null,r=n5(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bd(),n===s){t=Ja(e,t,r);break e}bn(e,t,n,r)}t=t.child}return t;case 5:return a5(t),e===null&&yj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,pj(n,s)?a=null:i!==null&&pj(n,i)&&(t.flags|=32),O5(e,t),bn(e,t,a,r),t.child;case 6:return e===null&&yj(t),null;case 13:return R5(e,t,r);case 4:return ek(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vd(t,null,n,r):bn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ui(n,s),VA(e,t,n,s,r);case 7:return bn(e,t,t.pendingProps,r),t.child;case 8:return bn(e,t,t.pendingProps.children,r),t.child;case 12:return bn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,At(lx,n._currentValue),n._currentValue=a,i!==null)if(Ci(i.value,a)){if(i.children===s.children&&!Yn.current){t=Ja(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ba(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),bj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Z(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),bj(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}bn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,xd(t,r),s=Ys(s),n=n(s),t.flags|=1,bn(e,t,n,r),t.child;case 14:return n=t.type,s=ui(n,t.pendingProps),s=ui(n.type,s),WA(e,t,n,s,r);case 15:return P5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ui(n,s),Sv(e,t),t.tag=1,Xn(n)?(e=!0,ix(t)):e=!1,xd(t,r),E5(t,n,s),_j(t,n,s,r),Nj(null,t,n,!0,e,r);case 19:return I5(e,t,r);case 22:return A5(e,t,r)}throw Error(Z(156,t.tag))};function X5(e,t){return j$(e,t)}function EY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(e,t,r,n){return new EY(e,t,r,n)}function mk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kY(e){if(typeof e=="function")return mk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===IE)return 11;if(e===DE)return 14}return 2}function pl(e,t){var r=e.alternate;return r===null?(r=Vs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kv(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")mk(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Zu:return Lc(r.children,s,i,t);case RE:a=8,s|=8;break;case H1:return e=Vs(12,r,t,s|2),e.elementType=H1,e.lanes=i,e;case K1:return e=Vs(13,r,t,s),e.elementType=K1,e.lanes=i,e;case G1:return e=Vs(19,r,t,s),e.elementType=G1,e.lanes=i,e;case a$:return u0(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s$:a=10;break e;case i$:a=9;break e;case IE:a=11;break e;case DE:a=14;break e;case Do:a=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Vs(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Lc(e,t,r,n){return e=Vs(7,e,n,t),e.lanes=r,e}function u0(e,t,r,n){return e=Vs(22,e,n,t),e.elementType=a$,e.lanes=r,e.stateNode={isHidden:!1},e}function __(e,t,r){return e=Vs(6,e,null,t),e.lanes=r,e}function j_(e,t,r){return t=Vs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CY(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n_(0),this.expirationTimes=n_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gk(e,t,r,n,s,i,a,l,c){return e=new CY(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZE(i),e}function PY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ju,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Q5(e){if(!e)return El;e=e._reactInternals;e:{if(_u(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(Xn(r))return Q$(e,r,t)}return t}function J5(e,t,r,n,s,i,a,l,c){return e=gk(r,n,!0,e,s,i,a,l,c),e.context=Q5(null),r=e.current,n=Cn(),s=hl(r),i=Ba(n,s),i.callback=t??null,dl(r,i,s),e.current.lanes=s,wm(e,s,n),Qn(e,n),e}function d0(e,t,r,n){var s=t.current,i=Cn(),a=hl(s);return r=Q5(r),t.context===null?t.context=r:t.pendingContext=r,t=Ba(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=dl(s,t,a),e!==null&&(_i(e,s,a,i),wv(e,s,a)),a}function xx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vk(e,t){rO(e,t),(e=e.alternate)&&rO(e,t)}function AY(){return null}var Z5=typeof reportError=="function"?reportError:function(e){console.error(e)};function xk(e){this._internalRoot=e}f0.prototype.render=xk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));d0(e,t,null,null)};f0.prototype.unmount=xk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xc(function(){d0(null,e,null,null)}),t[Xa]=null}};function f0(e){this._internalRoot=e}f0.prototype.unstable_scheduleHydration=function(e){if(e){var t=A$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zo.length&&t!==0&&t<zo[r].priority;r++);zo.splice(r,0,e),r===0&&T$(e)}};function yk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nO(){}function OY(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=xx(a);i.call(u)}}var a=J5(t,n,e,0,null,!1,!1,"",nO);return e._reactRootContainer=a,e[Xa]=a.current,_p(e.nodeType===8?e.parentNode:e),Xc(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=xx(c);l.call(u)}}var c=gk(e,0,!1,null,null,!1,!1,"",nO);return e._reactRootContainer=c,e[Xa]=c.current,_p(e.nodeType===8?e.parentNode:e),Xc(function(){d0(t,c,r,n)}),c}function p0(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=xx(a);l.call(c)}}d0(t,a,e,s)}else a=OY(r,t,e,s,n);return xx(a)}C$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Oh(t.pendingLanes);r!==0&&(LE(t,r|1),Qn(t,nr()),!(nt&6)&&(Hd=nr()+500,Ul()))}break;case 13:Xc(function(){var n=Qa(e,1);if(n!==null){var s=Cn();_i(n,e,1,s)}}),vk(e,1)}};FE=function(e){if(e.tag===13){var t=Qa(e,134217728);if(t!==null){var r=Cn();_i(t,e,134217728,r)}vk(e,134217728)}};P$=function(e){if(e.tag===13){var t=hl(e),r=Qa(e,t);if(r!==null){var n=Cn();_i(r,e,t,n)}vk(e,t)}};A$=function(){return mt};O$=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};sj=function(e,t,r){switch(t){case"input":if(Q1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=s0(n);if(!s)throw Error(Z(90));l$(n),Q1(n,s)}}}break;case"textarea":u$(e,r);break;case"select":t=r.value,t!=null&&pd(e,!!r.multiple,t,!1)}};v$=fk;x$=Xc;var TY={usingClientEntryPoint:!1,Events:[jm,nd,s0,m$,g$,fk]},ah={findFiberByHostInstance:gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RY={bundleType:ah.bundleType,version:ah.version,rendererPackageName:ah.rendererPackageName,rendererConfig:ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=w$(e),e===null?null:e.stateNode},findFiberByHostInstance:ah.findFiberByHostInstance||AY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{e0=jg.inject(RY),Ji=jg}catch{}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TY;Es.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yk(t))throw Error(Z(200));return PY(e,t,null,r)};Es.createRoot=function(e,t){if(!yk(e))throw Error(Z(299));var r=!1,n="",s=Z5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gk(e,1,!1,null,null,r,!1,n,s),e[Xa]=t.current,_p(e.nodeType===8?e.parentNode:e),new xk(t)};Es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=w$(t),e=e===null?null:e.stateNode,e};Es.flushSync=function(e){return Xc(e)};Es.hydrate=function(e,t,r){if(!h0(t))throw Error(Z(200));return p0(null,e,t,!0,r)};Es.hydrateRoot=function(e,t,r){if(!yk(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Z5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=J5(t,null,e,1,r??null,s,!1,i,a),e[Xa]=t.current,_p(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new f0(t)};Es.render=function(e,t,r){if(!h0(t))throw Error(Z(200));return p0(null,e,t,!1,r)};Es.unmountComponentAtNode=function(e){if(!h0(e))throw Error(Z(40));return e._reactRootContainer?(Xc(function(){p0(null,null,e,!1,function(){e._reactRootContainer=null,e[Xa]=null})}),!0):!1};Es.unstable_batchedUpdates=fk;Es.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!h0(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return p0(e,t,r,!1,n)};Es.version="18.3.1-next-f1338f8080-20240426";function e3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e3)}catch(e){console.error(e)}}e3(),e$.exports=Es;var zl=e$.exports;const IY=ti(zl);var sO=zl;W1.createRoot=sO.createRoot,W1.hydrateRoot=sO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}var rl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rl||(rl={}));const iO="popstate";function DY(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return $j("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yx(s)}return $Y(t,r,null,e)}function ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function t3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MY(){return Math.random().toString(36).substr(2,8)}function aO(e,t){return{usr:e.state,key:e.key,idx:t}}function $j(e,t,r,n){return r===void 0&&(r=null),Op({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bf(t):t,{state:r,key:t&&t.key||n||MY()})}function yx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $Y(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=rl.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Op({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=rl.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:y})}function h(x,y){l=rl.Push;let w=$j(g.location,x,y);u=d()+1;let b=aO(w,u),_=g.createHref(w);try{a.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function m(x,y){l=rl.Replace;let w=$j(g.location,x,y);u=d();let b=aO(w,u),_=g.createHref(w);a.replaceState(b,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function v(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:yx(x);return w=w.replace(/ $/,"%20"),ir(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(iO,f),c=x,()=>{s.removeEventListener(iO,f),c=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(x){return a.go(x)}};return g}var oO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oO||(oO={}));function LY(e,t,r){return r===void 0&&(r="/"),FY(e,t,r)}function FY(e,t,r,n){let s=typeof t=="string"?bf(t):t,i=bk(s.pathname||"/",r);if(i==null)return null;let a=r3(e);UY(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=JY(i);l=YY(a[c],u)}return l}function r3(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ir(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ml([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ir(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),r3(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:KY(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of n3(i.path))s(i,a,c)}),t}function n3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=n3(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UY(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GY(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zY=/^:[\w-]+$/,BY=3,VY=2,WY=1,qY=10,HY=-2,lO=e=>e==="*";function KY(e,t){let r=e.split("/"),n=r.length;return r.some(lO)&&(n+=HY),t&&(n+=VY),r.filter(s=>!lO(s)).reduce((s,i)=>s+(zY.test(i)?BY:i===""?WY:qY),n)}function GY(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function YY(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=XY({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:ml([i,f.pathname]),pathnameBase:rX(ml([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ml([i,f.pathnameBase]))}return a}function XY(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=QY(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function QY(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),t3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function JY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return t3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ZY(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?bf(e):e;return{pathname:r?r.startsWith("/")?r:eX(r,t):t,search:nX(n),hash:sX(s)}}function eX(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function S_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tX(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function wk(e,t){let r=tX(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _k(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=bf(e):(s=Op({},e),ir(!s.pathname||!s.pathname.includes("?"),S_("?","pathname","search",s)),ir(!s.pathname||!s.pathname.includes("#"),S_("#","pathname","hash",s)),ir(!s.search||!s.search.includes("#"),S_("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=ZY(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ml=e=>e.join("/").replace(/\/\/+/g,"/"),rX=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nX=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sX=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const s3=["post","put","patch","delete"];new Set(s3);const aX=["get",...s3];new Set(aX);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(this,arguments)}const jk=p.createContext(null),oX=p.createContext(null),Bl=p.createContext(null),m0=p.createContext(null),fo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),i3=p.createContext(null);function lX(e,t){let{relative:r}=t===void 0?{}:t;wf()||ir(!1);let{basename:n,navigator:s}=p.useContext(Bl),{hash:i,pathname:a,search:l}=o3(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:ml([n,a])),s.createHref({pathname:c,search:l,hash:i})}function wf(){return p.useContext(m0)!=null}function ho(){return wf()||ir(!1),p.useContext(m0).location}function a3(e){p.useContext(Bl).static||p.useLayoutEffect(e)}function Nt(){let{isDataRoute:e}=p.useContext(fo);return e?wX():cX()}function cX(){wf()||ir(!1);let e=p.useContext(jk),{basename:t,future:r,navigator:n}=p.useContext(Bl),{matches:s}=p.useContext(fo),{pathname:i}=ho(),a=JSON.stringify(wk(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return a3(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=_k(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ml([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}function Vl(){let{matches:e}=p.useContext(fo),t=e[e.length-1];return t?t.params:{}}function o3(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Bl),{matches:s}=p.useContext(fo),{pathname:i}=ho(),a=JSON.stringify(wk(s,n.v7_relativeSplatPath));return p.useMemo(()=>_k(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function uX(e,t){return dX(e,t)}function dX(e,t,r,n){wf()||ir(!1);let{navigator:s}=p.useContext(Bl),{matches:i}=p.useContext(fo),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ho(),d;if(t){var f;let x=typeof t=="string"?bf(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||ir(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=LY(e,{pathname:m}),g=gX(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ml([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ml([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&g?p.createElement(m0.Provider,{value:{location:Tp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rl.Pop}},g):g}function fX(){let e=bX(),t=iX(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const hX=p.createElement(fX,null);class pX extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(fo.Provider,{value:this.props.routeContext},p.createElement(i3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mX(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(jk);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(fo.Provider,{value:t},n)}function gX(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ir(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,v=!1,g=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||hX,c&&(u<0&&h===0?(_X("route-fallback"),v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,h+1)),w=()=>{let b;return m?b=g:v?b=x:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(mX,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(pX,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var l3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(l3||{}),c3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(c3||{});function vX(e){let t=p.useContext(jk);return t||ir(!1),t}function xX(e){let t=p.useContext(oX);return t||ir(!1),t}function yX(e){let t=p.useContext(fo);return t||ir(!1),t}function u3(e){let t=yX(),r=t.matches[t.matches.length-1];return r.route.id||ir(!1),r.route.id}function bX(){var e;let t=p.useContext(i3),r=xX(),n=u3();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function wX(){let{router:e}=vX(l3.UseNavigateStable),t=u3(c3.UseNavigateStable),r=p.useRef(!1);return a3(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Tp({fromRouteId:t},i)))},[e,t])}const cO={};function _X(e,t,r){cO[e]||(cO[e]=!0)}function jX(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bx(e){let{to:t,replace:r,state:n,relative:s}=e;wf()||ir(!1);let{future:i,static:a}=p.useContext(Bl),{matches:l}=p.useContext(fo),{pathname:c}=ho(),u=Nt(),d=_k(t,wk(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function jt(e){ir(!1)}function SX(e){let{basename:t="/",children:r=null,location:n,navigationType:s=rl.Pop,navigator:i,static:a=!1,future:l}=e;wf()&&ir(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:Tp({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=bf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,g=p.useMemo(()=>{let x=bk(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:v},navigationType:s}},[c,d,f,h,m,v,s]);return g==null?null:p.createElement(Bl.Provider,{value:u},p.createElement(m0.Provider,{children:r,value:g}))}function NX(e){let{children:t,location:r}=e;return uX(Lj(t),r)}new Promise(()=>{});function Lj(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){r.push.apply(r,Lj(n.props.children,i));return}n.type!==jt&&ir(!1),!n.props.index||!n.props.children||ir(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Lj(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(this,arguments)}function EX(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CX(e,t){return e.button===0&&(!t||t==="_self")&&!kX(e)}const PX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AX="6";try{window.__reactRouterVersion=AX}catch{}const OX="startTransition",uO=bm[OX];function TX(e){let{basename:t,children:r,future:n,window:s}=e,i=p.useRef();i.current==null&&(i.current=DY({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&uO?uO(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>jX(n),[n]),p.createElement(SX,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const RX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=EX(t,PX),{basename:m}=p.useContext(Bl),v,g=!1;if(typeof u=="string"&&IX.test(u)&&(v=u,RX))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=bk(_.pathname,m);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let x=lX(u,{relative:s}),y=DX(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||y(b)}return p.createElement("a",Fj({},h,{href:v||x,onClick:g||i?n:w,ref:r,target:c}))});var dO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dO||(dO={}));var fO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fO||(fO={}));function DX(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Nt(),u=ho(),d=o3(e,{relative:a});return p.useCallback(f=>{if(CX(f,r)){f.preventDefault();let h=n!==void 0?n:yx(u)===yx(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,i,a,l])}var _f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},MX={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qo,NE,OM,$X=(OM=class{constructor(){Ce(this,qo,MX);Ce(this,NE,!1)}setTimeoutProvider(e){ce(this,qo,e)}setTimeout(e,t){return O(this,qo).setTimeout(e,t)}clearTimeout(e){O(this,qo).clearTimeout(e)}setInterval(e,t){return O(this,qo).setInterval(e,t)}clearInterval(e){O(this,qo).clearInterval(e)}},qo=new WeakMap,NE=new WeakMap,OM),yc=new $X;function LX(e){setTimeout(e,0)}var Qc=typeof window>"u"||"Deno"in globalThis;function wn(){}function FX(e,t){return typeof e=="function"?e(t):e}function Uj(e){return typeof e=="number"&&e>=0&&e!==1/0}function d3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gl(e,t){return typeof e=="function"?e(t):e}function Ls(e,t){return typeof e=="function"?e(t):e}function hO(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Sk(a,t.options))return!1}else if(!Rp(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function pO(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Jc(t.options.mutationKey)!==Jc(i))return!1}else if(!Rp(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Sk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jc)(e)}function Jc(e){return JSON.stringify(e,(t,r)=>zj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Rp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Rp(e[r],t[r])):!1}var UX=Object.prototype.hasOwnProperty;function f3(e,t){if(e===t)return e;const r=mO(e)&&mO(t);if(!r&&!(zj(e)&&zj(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),a=i.length,l=r?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<s:UX.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=f3(f,h);l[d]=m,m===f&&c++}return s===a&&c===s?e:l}function wx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function mO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zj(e){if(!gO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!gO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gO(e){return Object.prototype.toString.call(e)==="[object Object]"}function zX(e){return new Promise(t=>{yc.setTimeout(t,e)})}function Bj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?f3(e,t):t}function BX(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function VX(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Nk=Symbol();function h3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function p3(e,t){return typeof e=="function"?e(...t):!!e}var Cc,Ho,Cd,TM,WX=(TM=class extends _f{constructor(){super();Ce(this,Cc);Ce(this,Ho);Ce(this,Cd);ce(this,Cd,t=>{if(!Qc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,Ho)||this.setEventListener(O(this,Cd))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,Ho))==null||t.call(this),ce(this,Ho,void 0))}setEventListener(t){var r;ce(this,Cd,t),(r=O(this,Ho))==null||r.call(this),ce(this,Ho,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){O(this,Cc)!==t&&(ce(this,Cc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof O(this,Cc)=="boolean"?O(this,Cc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cc=new WeakMap,Ho=new WeakMap,Cd=new WeakMap,TM),Ek=new WX;function Vj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var qX=LX;function HX(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=qX;const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Nr=HX(),Pd,Ko,Ad,RM,KX=(RM=class extends _f{constructor(){super();Ce(this,Pd,!0);Ce(this,Ko);Ce(this,Ad);ce(this,Ad,t=>{if(!Qc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,Ko)||this.setEventListener(O(this,Ad))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,Ko))==null||t.call(this),ce(this,Ko,void 0))}setEventListener(t){var r;ce(this,Ad,t),(r=O(this,Ko))==null||r.call(this),ce(this,Ko,t(this.setOnline.bind(this)))}setOnline(t){O(this,Pd)!==t&&(ce(this,Pd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return O(this,Pd)}},Pd=new WeakMap,Ko=new WeakMap,Ad=new WeakMap,RM),_x=new KX;function GX(e){return Math.min(1e3*2**e,3e4)}function m3(e){return(e??"online")==="online"?_x.isOnline():!0}var Wj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function g3(e){let t=!1,r=0,n;const s=Vj(),i=()=>s.status!=="pending",a=g=>{var x;if(!i()){const y=new Wj(g);h(y),(x=e.onCancel)==null||x.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ek.isFocused()&&(e.networkMode==="always"||_x.isOnline())&&e.canRun(),d=()=>m3(e.networkMode)&&e.canRun(),f=g=>{i()||(n==null||n(),s.resolve(g))},h=g=>{i()||(n==null||n(),s.reject(g))},m=()=>new Promise(g=>{var x;n=y=>{(i()||u())&&g(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;n=void 0,i()||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(i())return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var S;if(i())return;const w=e.retry??(Qc?0:3),b=e.retryDelay??GX,_=typeof b=="function"?b(r,y):b,j=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(t||!j){h(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),zX(_).then(()=>u()?void 0:m()).then(()=>{t?h(y):v()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),s)}}var Pc,IM,v3=(IM=class{constructor(){Ce(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Uj(this.gcTime)&&ce(this,Pc,yc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qc?1/0:5*60*1e3))}clearGcTimeout(){O(this,Pc)&&(yc.clearTimeout(O(this,Pc)),ce(this,Pc,void 0))}},Pc=new WeakMap,IM),Ac,Od,$s,Oc,Mr,pm,Tc,fi,wa,DM,YX=(DM=class extends v3{constructor(t){super();Ce(this,fi);Ce(this,Ac);Ce(this,Od);Ce(this,$s);Ce(this,Oc);Ce(this,Mr);Ce(this,pm);Ce(this,Tc);ce(this,Tc,!1),ce(this,pm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,Oc,t.client),ce(this,$s,O(this,Oc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Ac,vO(this.options)),this.state=t.state??O(this,Ac),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=O(this,Mr))==null?void 0:t.promise}setOptions(t){if(this.options={...O(this,pm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=vO(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ce(this,Ac,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,$s).remove(this)}setData(t,r){const n=Bj(this.state.data,t,this.options);return Ye(this,fi,wa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ye(this,fi,wa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=O(this,Mr))==null?void 0:n.promise;return(s=O(this,Mr))==null||s.cancel(t),r?r.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Ac))}isActive(){return this.observers.some(t=>Ls(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!d3(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,Mr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,Mr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),O(this,$s).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(O(this,Mr)&&(O(this,Tc)?O(this,Mr).cancel({revert:!0}):O(this,Mr).cancelRetry()),this.scheduleGc()),O(this,$s).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,fi,wa).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,v,g,x,y,w,b;if(this.state.fetchStatus!=="idle"&&((c=O(this,Mr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,Mr))return O(this,Mr).continueRetry(),O(this,Mr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ce(this,Tc,!0),n.signal)})},i=()=>{const _=h3(this.options,r),S=(()=>{const N={client:O(this,Oc),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return ce(this,Tc,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,Oc),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),ce(this,Od,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ye(this,fi,wa).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ce(this,Mr,g3({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Wj&&_.revert&&this.setState({...O(this,Od),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{Ye(this,fi,wa).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{Ye(this,fi,wa).call(this,{type:"pause"})},onContinue:()=>{Ye(this,fi,wa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await O(this,Mr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=O(this,$s).config).onSuccess)==null||m.call(h,_,this),(g=(v=O(this,$s).config).onSettled)==null||g.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof Wj){if(_.silent)return O(this,Mr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Ye(this,fi,wa).call(this,{type:"error",error:_}),(y=(x=O(this,$s).config).onError)==null||y.call(x,_,this),(b=(w=O(this,$s).config).onSettled)==null||b.call(w,this.state.data,_,this),_}finally{this.scheduleGc()}}},Ac=new WeakMap,Od=new WeakMap,$s=new WeakMap,Oc=new WeakMap,Mr=new WeakMap,pm=new WeakMap,Tc=new WeakMap,fi=new WeakSet,wa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...x3(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,Od,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Nr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,$s).notify({query:this,type:"updated",action:t})})},DM);function x3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mn,et,mm,xn,Rc,Td,Pa,Go,gm,Rd,Id,Ic,Dc,Yo,Dd,ut,Rh,qj,Hj,Kj,Gj,Yj,Xj,Qj,y3,MM,XX=(MM=class extends _f{constructor(t,r){super();Ce(this,ut);Ce(this,Mn);Ce(this,et);Ce(this,mm);Ce(this,xn);Ce(this,Rc);Ce(this,Td);Ce(this,Pa);Ce(this,Go);Ce(this,gm);Ce(this,Rd);Ce(this,Id);Ce(this,Ic);Ce(this,Dc);Ce(this,Yo);Ce(this,Dd,new Set);this.options=r,ce(this,Mn,t),ce(this,Go,null),ce(this,Pa,Vj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,et).addObserver(this),xO(O(this,et),this.options)?Ye(this,ut,Rh).call(this):this.updateResult(),Ye(this,ut,Gj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jj(O(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jj(O(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,ut,Yj).call(this),Ye(this,ut,Xj).call(this),O(this,et).removeObserver(this)}setOptions(t){const r=this.options,n=O(this,et);if(this.options=O(this,Mn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ls(this.options.enabled,O(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,ut,Qj).call(this),O(this,et).setOptions(this.options),r._defaulted&&!wx(this.options,r)&&O(this,Mn).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,et),observer:this});const s=this.hasListeners();s&&yO(O(this,et),n,this.options,r)&&Ye(this,ut,Rh).call(this),this.updateResult(),s&&(O(this,et)!==n||Ls(this.options.enabled,O(this,et))!==Ls(r.enabled,O(this,et))||gl(this.options.staleTime,O(this,et))!==gl(r.staleTime,O(this,et)))&&Ye(this,ut,qj).call(this);const i=Ye(this,ut,Hj).call(this);s&&(O(this,et)!==n||Ls(this.options.enabled,O(this,et))!==Ls(r.enabled,O(this,et))||i!==O(this,Yo))&&Ye(this,ut,Kj).call(this,i)}getOptimisticResult(t){const r=O(this,Mn).getQueryCache().build(O(this,Mn),t),n=this.createResult(r,t);return JX(this,n)&&(ce(this,xn,n),ce(this,Td,this.options),ce(this,Rc,O(this,et).state)),n}getCurrentResult(){return O(this,xn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&O(this,Pa).status==="pending"&&O(this,Pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){O(this,Dd).add(t)}getCurrentQuery(){return O(this,et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=O(this,Mn).defaultQueryOptions(t),n=O(this,Mn).getQueryCache().build(O(this,Mn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ye(this,ut,Rh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,xn)))}createResult(t,r){var A;const n=O(this,et),s=this.options,i=O(this,xn),a=O(this,Rc),l=O(this,Td),u=t!==n?t.state:O(this,mm),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const P=this.hasListeners(),C=!P&&xO(t,r),k=P&&yO(t,n,r,s);(C||k)&&(f={...f,...x3(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:x}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,y=!0):P=typeof r.placeholderData=="function"?r.placeholderData((A=O(this,Id))==null?void 0:A.state.data,O(this,Id)):r.placeholderData,P!==void 0&&(x="success",m=Bj(i==null?void 0:i.data,P,r),h=!0)}if(r.select&&m!==void 0&&!y)if(i&&m===(a==null?void 0:a.data)&&r.select===O(this,gm))m=O(this,Rd);else try{ce(this,gm,r.select),m=r.select(m),m=Bj(i==null?void 0:i.data,m,r),ce(this,Rd,m),ce(this,Go,null)}catch(P){ce(this,Go,P)}O(this,Go)&&(v=O(this,Go),m=O(this,Rd),g=Date.now(),x="error");const w=f.fetchStatus==="fetching",b=x==="pending",_=x==="error",j=b&&w,S=m!==void 0,E={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:kk(t,r),refetch:this.refetch,promise:O(this,Pa),isEnabled:Ls(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=D=>{E.status==="error"?D.reject(E.error):E.data!==void 0&&D.resolve(E.data)},C=()=>{const D=ce(this,Pa,E.promise=Vj());P(D)},k=O(this,Pa);switch(k.status){case"pending":t.queryHash===n.queryHash&&P(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&C();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&C();break}}return E}updateResult(){const t=O(this,xn),r=this.createResult(O(this,et),this.options);if(ce(this,Rc,O(this,et).state),ce(this,Td,this.options),O(this,Rc).data!==void 0&&ce(this,Id,O(this,et)),wx(r,t))return;ce(this,xn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!O(this,Dd).size)return!0;const a=new Set(i??O(this,Dd));return this.options.throwOnError&&a.add("error"),Object.keys(O(this,xn)).some(l=>{const c=l;return O(this,xn)[c]!==t[c]&&a.has(c)})};Ye(this,ut,y3).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,ut,Gj).call(this)}},Mn=new WeakMap,et=new WeakMap,mm=new WeakMap,xn=new WeakMap,Rc=new WeakMap,Td=new WeakMap,Pa=new WeakMap,Go=new WeakMap,gm=new WeakMap,Rd=new WeakMap,Id=new WeakMap,Ic=new WeakMap,Dc=new WeakMap,Yo=new WeakMap,Dd=new WeakMap,ut=new WeakSet,Rh=function(t){Ye(this,ut,Qj).call(this);let r=O(this,et).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(wn)),r},qj=function(){Ye(this,ut,Yj).call(this);const t=gl(this.options.staleTime,O(this,et));if(Qc||O(this,xn).isStale||!Uj(t))return;const n=d3(O(this,xn).dataUpdatedAt,t)+1;ce(this,Ic,yc.setTimeout(()=>{O(this,xn).isStale||this.updateResult()},n))},Hj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,et)):this.options.refetchInterval)??!1},Kj=function(t){Ye(this,ut,Xj).call(this),ce(this,Yo,t),!(Qc||Ls(this.options.enabled,O(this,et))===!1||!Uj(O(this,Yo))||O(this,Yo)===0)&&ce(this,Dc,yc.setInterval(()=>{(this.options.refetchIntervalInBackground||Ek.isFocused())&&Ye(this,ut,Rh).call(this)},O(this,Yo)))},Gj=function(){Ye(this,ut,qj).call(this),Ye(this,ut,Kj).call(this,Ye(this,ut,Hj).call(this))},Yj=function(){O(this,Ic)&&(yc.clearTimeout(O(this,Ic)),ce(this,Ic,void 0))},Xj=function(){O(this,Dc)&&(yc.clearInterval(O(this,Dc)),ce(this,Dc,void 0))},Qj=function(){const t=O(this,Mn).getQueryCache().build(O(this,Mn),this.options);if(t===O(this,et))return;const r=O(this,et);ce(this,et,t),ce(this,mm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},y3=function(t){Nr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(O(this,xn))}),O(this,Mn).getQueryCache().notify({query:O(this,et),type:"observerResultsUpdated"})})},MM);function QX(e,t){return Ls(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xO(e,t){return QX(e,t)||e.state.data!==void 0&&Jj(e,t,t.refetchOnMount)}function Jj(e,t,r){if(Ls(t.enabled,e)!==!1&&gl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&kk(e,t)}return!1}function yO(e,t,r,n){return(e!==t||Ls(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&kk(e,r)}function kk(e,t){return Ls(t.enabled,e)!==!1&&e.isStaleByTime(gl(t.staleTime,e))}function JX(e,t){return!wx(e.getCurrentResult(),t)}function bO(e){return{onFetch:(t,r)=>{var d,f,h,m,v;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=h3(t.options,t.fetchOptions),w=async(b,_,j)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return x(C),C})(),E=await y(N),{maxPages:A}=t.options,P=j?VX:BX;return{pages:P(b.pages,E,A),pageParams:P(b.pageParams,_,A)}};if(s&&i.length){const b=s==="backward",_=b?ZX:wO,j={pages:i,pageParams:a},S=_(n,j);l=await w(j,S,b)}else{const b=e??i.length;do{const _=c===0?a[0]??n.initialPageParam:wO(n,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function wO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ZX(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var vm,Wi,yn,Mc,qi,To,$M,eQ=($M=class extends v3{constructor(t){super();Ce(this,qi);Ce(this,vm);Ce(this,Wi);Ce(this,yn);Ce(this,Mc);ce(this,vm,t.client),this.mutationId=t.mutationId,ce(this,yn,t.mutationCache),ce(this,Wi,[]),this.state=t.state||b3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){O(this,Wi).includes(t)||(O(this,Wi).push(t),this.clearGcTimeout(),O(this,yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,Wi,O(this,Wi).filter(r=>r!==t)),this.scheduleGc(),O(this,yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){O(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():O(this,yn).remove(this))}continue(){var t;return((t=O(this,Mc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,c,u,d,f,h,m,v,g,x,y,w,b,_,j,S,N,E,A;const r=()=>{Ye(this,qi,To).call(this,{type:"continue"})},n={client:O(this,vm),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Mc,g3({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,C)=>{Ye(this,qi,To).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{Ye(this,qi,To).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,yn).canRun(this)}));const s=this.state.status==="pending",i=!O(this,Mc).canStart();try{if(s)r();else{Ye(this,qi,To).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=O(this,yn).config).onMutate)==null?void 0:l.call(a,t,this,n));const C=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));C!==this.state.context&&Ye(this,qi,To).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const P=await O(this,Mc).start();return await((f=(d=O(this,yn).config).onSuccess)==null?void 0:f.call(d,P,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,t,this.state.context,n)),await((g=(v=O(this,yn).config).onSettled)==null?void 0:g.call(v,P,null,this.state.variables,this.state.context,this,n)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,P,null,t,this.state.context,n)),Ye(this,qi,To).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(w=O(this,yn).config).onError)==null?void 0:b.call(w,P,t,this.state.context,this,n)),await((j=(_=this.options).onError)==null?void 0:j.call(_,P,t,this.state.context,n)),await((N=(S=O(this,yn).config).onSettled)==null?void 0:N.call(S,void 0,P,this.state.variables,this.state.context,this,n)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,P,t,this.state.context,n)),P}finally{Ye(this,qi,To).call(this,{type:"error",error:P})}}finally{O(this,yn).runNext(this)}}},vm=new WeakMap,Wi=new WeakMap,yn=new WeakMap,Mc=new WeakMap,qi=new WeakSet,To=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nr.batch(()=>{O(this,Wi).forEach(n=>{n.onMutationUpdate(t)}),O(this,yn).notify({mutation:this,type:"updated",action:t})})},$M);function b3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Aa,hi,xm,LM,tQ=(LM=class extends _f{constructor(t={}){super();Ce(this,Aa);Ce(this,hi);Ce(this,xm);this.config=t,ce(this,Aa,new Set),ce(this,hi,new Map),ce(this,xm,0)}build(t,r,n){const s=new eQ({client:t,mutationCache:this,mutationId:++ag(this,xm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){O(this,Aa).add(t);const r=Sg(t);if(typeof r=="string"){const n=O(this,hi).get(r);n?n.push(t):O(this,hi).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(O(this,Aa).delete(t)){const r=Sg(t);if(typeof r=="string"){const n=O(this,hi).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&O(this,hi).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Sg(t);if(typeof r=="string"){const n=O(this,hi).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Sg(t);if(typeof r=="string"){const s=(n=O(this,hi).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nr.batch(()=>{O(this,Aa).forEach(t=>{this.notify({type:"removed",mutation:t})}),O(this,Aa).clear(),O(this,hi).clear()})}getAll(){return Array.from(O(this,Aa))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>pO(r,n))}findAll(t={}){return this.getAll().filter(r=>pO(t,r))}notify(t){Nr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Nr.batch(()=>Promise.all(t.map(r=>r.continue().catch(wn))))}},Aa=new WeakMap,hi=new WeakMap,xm=new WeakMap,LM);function Sg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Oa,Xo,$n,Ta,Ga,Cv,Zj,FM,rQ=(FM=class extends _f{constructor(r,n){super();Ce(this,Ga);Ce(this,Oa);Ce(this,Xo);Ce(this,$n);Ce(this,Ta);ce(this,Oa,r),this.setOptions(n),this.bindMethods(),Ye(this,Ga,Cv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=O(this,Oa).defaultMutationOptions(r),wx(this.options,n)||O(this,Oa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,$n),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Jc(n.mutationKey)!==Jc(this.options.mutationKey)?this.reset():((s=O(this,$n))==null?void 0:s.state.status)==="pending"&&O(this,$n).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=O(this,$n))==null||r.removeObserver(this)}onMutationUpdate(r){Ye(this,Ga,Cv).call(this),Ye(this,Ga,Zj).call(this,r)}getCurrentResult(){return O(this,Xo)}reset(){var r;(r=O(this,$n))==null||r.removeObserver(this),ce(this,$n,void 0),Ye(this,Ga,Cv).call(this),Ye(this,Ga,Zj).call(this)}mutate(r,n){var s;return ce(this,Ta,n),(s=O(this,$n))==null||s.removeObserver(this),ce(this,$n,O(this,Oa).getMutationCache().build(O(this,Oa),this.options)),O(this,$n).addObserver(this),O(this,$n).execute(r)}},Oa=new WeakMap,Xo=new WeakMap,$n=new WeakMap,Ta=new WeakMap,Ga=new WeakSet,Cv=function(){var n;const r=((n=O(this,$n))==null?void 0:n.state)??b3();ce(this,Xo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Zj=function(r){Nr.batch(()=>{var n,s,i,a,l,c,u,d;if(O(this,Ta)&&this.hasListeners()){const f=O(this,Xo).variables,h=O(this,Xo).context,m={client:O(this,Oa),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=O(this,Ta)).onSuccess)==null||s.call(n,r.data,f,h,m),(a=(i=O(this,Ta)).onSettled)==null||a.call(i,r.data,null,f,h,m)):(r==null?void 0:r.type)==="error"&&((c=(l=O(this,Ta)).onError)==null||c.call(l,r.error,f,h,m),(d=(u=O(this,Ta)).onSettled)==null||d.call(u,void 0,r.error,f,h,m))}this.listeners.forEach(f=>{f(O(this,Xo))})})},FM),Hi,UM,nQ=(UM=class extends _f{constructor(t={}){super();Ce(this,Hi);this.config=t,ce(this,Hi,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Sk(s,r);let a=this.get(i);return a||(a=new YX({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){O(this,Hi).has(t.queryHash)||(O(this,Hi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=O(this,Hi).get(t.queryHash);r&&(t.destroy(),r===t&&O(this,Hi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return O(this,Hi).get(t)}getAll(){return[...O(this,Hi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>hO(t,n)):r}notify(t){Nr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Nr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Nr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hi=new WeakMap,UM),Xt,Qo,Jo,Md,$d,Zo,Ld,Fd,zM,sQ=(zM=class{constructor(e={}){Ce(this,Xt);Ce(this,Qo);Ce(this,Jo);Ce(this,Md);Ce(this,$d);Ce(this,Zo);Ce(this,Ld);Ce(this,Fd);ce(this,Xt,e.queryCache||new nQ),ce(this,Qo,e.mutationCache||new tQ),ce(this,Jo,e.defaultOptions||{}),ce(this,Md,new Map),ce(this,$d,new Map),ce(this,Zo,0)}mount(){ag(this,Zo)._++,O(this,Zo)===1&&(ce(this,Ld,Ek.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Xt).onFocus())})),ce(this,Fd,_x.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Xt).onOnline())})))}unmount(){var e,t;ag(this,Zo)._--,O(this,Zo)===0&&((e=O(this,Ld))==null||e.call(this),ce(this,Ld,void 0),(t=O(this,Fd))==null||t.call(this),ce(this,Fd,void 0))}isFetching(e){return O(this,Xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,Qo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,Xt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=O(this,Xt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(gl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return O(this,Xt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=O(this,Xt).get(n.queryHash),i=s==null?void 0:s.state.data,a=FX(t,i);if(a!==void 0)return O(this,Xt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Nr.batch(()=>O(this,Xt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,Xt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=O(this,Xt);Nr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=O(this,Xt);return Nr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Nr.batch(()=>O(this,Xt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(wn).catch(wn)}invalidateQueries(e,t={}){return Nr.batch(()=>(O(this,Xt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Nr.batch(()=>O(this,Xt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(wn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(wn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=O(this,Xt).build(this,t);return r.isStaleByTime(gl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wn).catch(wn)}fetchInfiniteQuery(e){return e.behavior=bO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wn).catch(wn)}ensureInfiniteQueryData(e){return e.behavior=bO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _x.isOnline()?O(this,Qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Xt)}getMutationCache(){return O(this,Qo)}getDefaultOptions(){return O(this,Jo)}setDefaultOptions(e){ce(this,Jo,e)}setQueryDefaults(e,t){O(this,Md).set(Jc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...O(this,Md).values()],r={};return t.forEach(n=>{Rp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){O(this,$d).set(Jc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...O(this,$d).values()],r={};return t.forEach(n=>{Rp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...O(this,Jo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Sk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Nk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,Jo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,Xt).clear(),O(this,Qo).clear()}},Xt=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Md=new WeakMap,$d=new WeakMap,Zo=new WeakMap,Ld=new WeakMap,Fd=new WeakMap,zM),w3=p.createContext(void 0),jf=e=>{const t=p.useContext(w3);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iQ=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(w3.Provider,{value:e,children:t})),_3=p.createContext(!1),aQ=()=>p.useContext(_3);_3.Provider;function oQ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lQ=p.createContext(oQ()),cQ=()=>p.useContext(lQ),uQ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dQ=e=>{p.useEffect(()=>{e.clearReset()},[e])},fQ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||p3(r,[e.error,n])),hQ=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},pQ=(e,t)=>e.isLoading&&e.isFetching&&!t,mQ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_O=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function gQ(e,t,r){var f,h,m,v,g;const n=aQ(),s=cQ(),i=jf(),a=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=n?"isRestoring":"optimistic",hQ(a),uQ(a,s),dQ(s);const l=!i.getQueryCache().get(a.queryHash),[c]=p.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(x=>{const y=d?c.subscribe(Nr.batchCalls(x)):wn;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(a)},[a,c]),mQ(a,u))throw _O(a,c,s);if(fQ({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,a,u),a.experimental_prefetchInRender&&!Qc&&pQ(u,n)){const x=l?_O(a,c,s):(g=i.getQueryCache().get(a.queryHash))==null?void 0:g.promise;x==null||x.catch(wn).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function ws(e,t){return gQ(e,XX)}function Za(e,t){const r=jf(),[n]=p.useState(()=>new rQ(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const s=p.useSyncExternalStore(p.useCallback(a=>n.subscribe(Nr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((a,l)=>{n.mutate(a,l).catch(wn)},[n]);if(s.error&&p3(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...vQ,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xQ(e)}`,l].join(" "),...u},[...t.map(([f,h])=>p.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=ye("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=ye("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=ye("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ye("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=ye("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=ye("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=ye("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=ye("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=ye("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=ye("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ye("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ye("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ye("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ye("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function SO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mo(...e){return t=>{let r=!1;const n=e.map(s=>{const i=SO(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():SO(e[s],null)}}}}function tt(...e){return p.useCallback(mo(...e),e)}var RQ=Symbol.for("react.lazy"),Nx=bm[" use ".trim().toString()];function IQ(e){return typeof e=="object"&&e!==null&&"then"in e}function T3(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===RQ&&"_payload"in e&&IQ(e._payload)}function Ak(e){const t=DQ(e),r=p.forwardRef((n,s)=>{let{children:i,...a}=n;T3(i)&&typeof Nx=="function"&&(i=Nx(i._payload));const l=p.Children.toArray(i),c=l.find($Q);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Wl=Ak("Slot");function DQ(e){const t=p.forwardRef((r,n)=>{let{children:s,...i}=r;if(T3(s)&&typeof Nx=="function"&&(s=Nx(s._payload)),p.isValidElement(s)){const a=FQ(s),l=LQ(i,s.props);return s.type!==p.Fragment&&(l.ref=n?mo(n,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MQ=Symbol("radix.slottable");function $Q(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MQ}function LQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function FQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function R3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=R3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=R3(e))&&(n&&(n+=" "),n+=t);return n}const NO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,EO=lt,ha=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return EO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=NO(d)||NO(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...i,...l}[g]):{...i,...l}[g]===x})?[...u,f,h]:u},[]);return EO(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},Ok="-",UQ=e=>{const t=BQ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(Ok);return l[0]===""&&l.length!==1&&l.shift(),I3(l,t)||zQ(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},I3=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?I3(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ok);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},kO=/^\[(.+)\]$/,zQ=e=>{if(kO.test(e)){const t=kO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},BQ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return WQ(Object.entries(e.classGroups),r).forEach(([i,a])=>{tS(a,n,i,t)}),n},tS=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:CO(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(VQ(s)){tS(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{tS(a,CO(t,i),r,n)})})},CO=(e,t)=>{let r=e;return t.split(Ok).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VQ=e=>e.isThemeGetter,WQ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,qQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},D3="!",HQ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let y=l[x];if(u===0){if(y===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(y==="/"){f=x;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(D3),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:a}):a},KQ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},GQ=e=>({cache:qQ(e.cacheSize),parseClassName:HQ(e),...UQ(e)}),YQ=/\s+/,XQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(YQ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,g=n(v?h.substring(0,m):h);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=KQ(d).join(":"),y=f?x+D3:x,w=y+g;if(i.includes(w))continue;i.push(w);const b=s(g,v);for(let _=0;_<b.length;++_){const j=b[_];i.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function QQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=M3(t))&&(n&&(n+=" "),n+=r);return n}const M3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=M3(e[n]))&&(r&&(r+=" "),r+=t);return r};function JQ(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return r=GQ(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=XQ(c,r);return s(c,d),d}return function(){return i(QQ.apply(null,arguments))}}const Tt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},$3=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZQ=/^\d+\/\d+$/,eJ=new Set(["px","full","screen"]),tJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ga=e=>bd(e)||eJ.has(e)||ZQ.test(e),ko=e=>Sf(e,"length",hJ),bd=e=>!!e&&!Number.isNaN(Number(e)),N_=e=>Sf(e,"number",bd),oh=e=>!!e&&Number.isInteger(Number(e)),aJ=e=>e.endsWith("%")&&bd(e.slice(0,-1)),He=e=>$3.test(e),Co=e=>tJ.test(e),oJ=new Set(["length","size","percentage"]),lJ=e=>Sf(e,oJ,L3),cJ=e=>Sf(e,"position",L3),uJ=new Set(["image","url"]),dJ=e=>Sf(e,uJ,mJ),fJ=e=>Sf(e,"",pJ),lh=()=>!0,Sf=(e,t,r)=>{const n=$3.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},hJ=e=>rJ.test(e)&&!nJ.test(e),L3=()=>!1,pJ=e=>sJ.test(e),mJ=e=>iJ.test(e),gJ=()=>{const e=Tt("colors"),t=Tt("spacing"),r=Tt("blur"),n=Tt("brightness"),s=Tt("borderColor"),i=Tt("borderRadius"),a=Tt("borderSpacing"),l=Tt("borderWidth"),c=Tt("contrast"),u=Tt("grayscale"),d=Tt("hueRotate"),f=Tt("invert"),h=Tt("gap"),m=Tt("gradientColorStops"),v=Tt("gradientColorStopPositions"),g=Tt("inset"),x=Tt("margin"),y=Tt("opacity"),w=Tt("padding"),b=Tt("saturate"),_=Tt("scale"),j=Tt("sepia"),S=Tt("skew"),N=Tt("space"),E=Tt("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",He,t],k=()=>[He,t],D=()=>["",ga,ko],T=()=>["auto",bd,He],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",He],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[bd,He];return{cacheSize:500,separator:":",theme:{colors:[lh],spacing:[ga,ko],blur:["none","",Co,He],brightness:J(),borderColor:[e],borderRadius:["none","","full",Co,He],borderSpacing:k(),borderWidth:D(),contrast:J(),grayscale:M(),hueRotate:J(),invert:M(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[aJ,ko],inset:C(),margin:C(),opacity:J(),padding:k(),saturate:J(),scale:J(),sepia:M(),skew:J(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[Co]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),He]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oh,He]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",oh,He]}],"grid-cols":[{"grid-cols":[lh]}],"col-start-end":[{col:["auto",{span:["full",oh,He]},He]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[lh]}],"row-start-end":[{row:["auto",{span:[oh,He]},He]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,t]}],"min-w":[{"min-w":[He,t,"min","max","fit"]}],"max-w":[{"max-w":[He,t,"none","full","min","max","fit","prose",{screen:[Co]},Co]}],h:[{h:[He,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Co,ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",N_]}],"font-family":[{font:[lh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",bd,N_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ga,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ga,ko]}],"underline-offset":[{"underline-offset":["auto",ga,He]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),cJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[ga,He]}],"outline-w":[{outline:[ga,ko]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ga,ko]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Co,fJ]}],"shadow-color":[{shadow:[lh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Co,He]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[oh,He]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ga,ko,N_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F3=JQ(gJ);function $(...e){return F3(lt(e))}const vJ=ha("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-emerald hover:from-emerald-600 hover:to-emerald-700 hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-white/5 text-cyan-400 border border-cyan-400/30 backdrop-blur-sm hover:bg-cyan-400/10 hover:border-cyan-400/50",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),to=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?Wl:"button";return o.jsx(a,{className:$(vJ({variant:t,size:r,className:e})),ref:i,...s})});to.displayName="Button";const xJ=()=>{const[e,t]=p.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 focus:z-[9999] focus:bg-emerald-500 focus:text-white focus:px-6 focus:py-3 focus:font-semibold focus:rounded-br-lg",children:"Skip to main content"}),o.jsxs("header",{className:"fixed top-0 w-full h-16 bg-gray-900/95 backdrop-blur-md border-b border-white/10 z-50",children:[o.jsx("div",{className:"max-w-7xl mx-auto h-full px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-full",children:[o.jsxs(Re,{to:"/",className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-emerald-400 font-bold text-2xl",children:"R"}),o.jsx("span",{className:"text-white font-semibold text-lg",children:"RestaurantIQ"})]}),o.jsxs("nav",{className:"hidden md:flex items-center gap-6 lg:gap-8",children:[o.jsx("a",{href:"#pricing",className:"text-gray-300 hover:text-white transition-colors text-sm font-medium",children:"Pricing"}),o.jsx(Re,{to:"/login",children:o.jsx(to,{variant:"ghost",className:"text-slate-300 hover:text-white h-10",children:"Sign In"})}),o.jsx(Re,{to:"/register",children:o.jsx(to,{size:"sm",className:"bg-emerald-500 hover:bg-emerald-600 h-10 px-6",children:"Get Started"})})]}),o.jsx("button",{className:"md:hidden text-emerald-400 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Toggle menu",onClick:()=>t(!e),children:e?o.jsx(Ai,{className:"w-6 h-6"}):o.jsx(Qs,{className:"w-6 h-6"})})]})}),e&&o.jsx("div",{className:"md:hidden bg-slate-900 border-t border-white/10",children:o.jsxs("nav",{className:"flex flex-col p-4 gap-2",children:[o.jsx("a",{href:"#pricing",className:"text-slate-400 hover:text-emerald-400 py-3 min-h-[44px]",onClick:()=>t(!1),children:"Pricing"}),o.jsx(Re,{to:"/login",className:"text-slate-300 py-3 min-h-[44px]",onClick:()=>t(!1),children:"Sign In"}),o.jsx(Re,{to:"/register",className:"text-emerald-400 py-3 font-semibold min-h-[44px]",onClick:()=>t(!1),children:"Get Started"})]})})]})]})},yJ=()=>o.jsxs("section",{id:"main-content",className:"relative pt-32 md:pt-40 pb-16 md:pb-24 px-4 md:px-6 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-1/4 -right-1/4 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl opacity-50 animate-pulse pointer-events-none"}),o.jsx("div",{className:"absolute top-1/2 -left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl opacity-30 pointer-events-none"}),o.jsx("div",{className:"container mx-auto max-w-6xl relative z-10",children:o.jsxs("div",{className:"text-center space-y-8 md:space-y-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black tracking-tight leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-white via-emerald-100 to-white bg-clip-text text-transparent",children:"See Your True Food CostsAutomatically"})}),o.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[o.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl text-slate-200 font-semibold leading-relaxed",children:"Stop guessing. Let every invoice, ingredient, and portion cost track itselfso you control margins, not paperwork."}),o.jsx("p",{className:"text-lg md:text-xl text-emerald-400 font-medium italic",children:"From former operators, for operators. No spreadsheets. No complicated software. Just your numbers, every day."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:[o.jsx(Re,{to:"/register",children:o.jsxs(to,{size:"lg",className:"h-12 md:h-14 px-6 md:px-8 text-base md:text-lg shadow-lg hover:shadow-xl group bg-gradient-to-r from-emerald-500 to-cyan-500 hover:opacity-90 min-h-[48px]",children:["Try It FreeSee It with Your Numbers",o.jsx(bQ,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsx(Re,{to:"/login",children:o.jsx(to,{size:"lg",variant:"outline",className:"h-12 md:h-14 px-6 md:px-8 text-base md:text-lg border-2 border-slate-600 hover:border-emerald-400 min-h-[48px]",children:"Or Get a Demo from an Actual Operator"})})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 md:gap-6 text-sm md:text-base text-gray-400 pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_s,{className:"h-5 w-5 text-emerald-400 flex-shrink-0"}),o.jsx("span",{children:"No credit card"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_s,{className:"h-5 w-5 text-emerald-400 flex-shrink-0"}),o.jsx("span",{children:"Free forever plan"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(OQ,{className:"h-5 w-5 text-emerald-400 flex-shrink-0"}),o.jsx("span",{children:"Your data stays private"})]})]})]})})]}),nu=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("rounded-lg border border-white/10 bg-gradient-to-br from-slate-850 to-slate-900 text-card-foreground shadow-md transition-all duration-300 hover:border-white/20 hover:-translate-y-0.5 hover:shadow-lg",e),...t}));nu.displayName="Card";const Tk=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("flex flex-col space-y-1.5 p-6",e),...t}));Tk.displayName="CardHeader";const Rk=p.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:$("text-2xl font-semibold leading-none tracking-tight text-slate-100",e),...t}));Rk.displayName="CardTitle";const bJ=p.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:$("text-sm text-muted-foreground",e),...t}));bJ.displayName="CardDescription";const su=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("p-6 pt-0",e),...t}));su.displayName="CardContent";const wJ=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("flex items-center p-6 pt-0",e),...t}));wJ.displayName="CardFooter";const _J=()=>o.jsx("section",{className:"py-16 px-4 md:px-6",children:o.jsx(nu,{className:"max-w-3xl mx-auto shadow-2xl bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-emerald-500/20",children:o.jsxs(su,{className:"p-10 md:p-12 text-center",children:[o.jsx("p",{className:"text-3xl md:text-4xl font-bold text-white leading-tight",children:"I ran restaurants for 10+ years."}),o.jsx("p",{className:"mt-6 text-xl md:text-2xl text-slate-300 leading-relaxed",children:"Every tool was too slow, too expensive, too complicatedand built by people who never actually ran a restaurant."}),o.jsx("p",{className:"mt-6 text-xl md:text-2xl text-emerald-400 font-semibold leading-relaxed",children:"So I built RestaurantIQ: the tool I begged Toast to create."}),o.jsx("p",{className:"mt-4 text-lg md:text-xl text-slate-400",children:"Upload an invoice, start tracking today."}),o.jsx("p",{className:"mt-8 text-base md:text-lg text-slate-500 italic",children:" Geoffrey Fernald, Founder"})]})})});function jJ(e,t){const r=p.createContext(t),n=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=p.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Cs(e,t=[]){let r=[];function n(i,a){const l=p.createContext(a),c=r.length;r=[...r,a];const u=f=>{var y;const{scope:h,children:m,...v}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,SJ(s,...t)]}function SJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function NJ(e){const t=EJ(e),r=p.forwardRef((n,s)=>{const{children:i,...a}=n,l=p.Children.toArray(i),c=l.find(CJ);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function EJ(e){const t=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const a=AJ(s),l=PJ(i,s.props);return s.type!==p.Fragment&&(l.ref=n?mo(n,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kJ=Symbol("radix.slottable");function CJ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kJ}function PJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function AJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var OJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=OJ.reduce((e,t)=>{const r=NJ(`Primitive.${t}`),n=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ik(e,t){e&&zl.flushSync(()=>e.dispatchEvent(t))}var Dk="Progress",Mk=100,[TJ]=Cs(Dk),[RJ,IJ]=TJ(Dk),U3=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=DJ,...a}=e;(s||s===0)&&!PO(s)&&console.error(MJ(`${s}`,"Progress"));const l=PO(s)?s:Mk;n!==null&&!AO(n,l)&&console.error($J(`${n}`,"Progress"));const c=AO(n,l)?n:null,u=Ex(c)?i(c,l):void 0;return o.jsx(RJ,{scope:r,value:c,max:l,children:o.jsx(Oe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ex(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":V3(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});U3.displayName=Dk;var z3="ProgressIndicator",B3=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=IJ(z3,r);return o.jsx(Oe.div,{"data-state":V3(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});B3.displayName=z3;function DJ(e,t){return`${Math.round(e/t*100)}%`}function V3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ex(e){return typeof e=="number"}function PO(e){return Ex(e)&&!isNaN(e)&&e>0}function AO(e,t){return Ex(e)&&!isNaN(e)&&e<=t&&e>=0}function MJ(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Mk}\`.`}function $J(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Mk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var w0=U3,W3=B3;const q3=p.forwardRef(({className:e,value:t,...r},n)=>o.jsx(w0,{ref:n,className:$("relative h-4 w-full overflow-hidden rounded-full bg-white/10",e),...r,children:o.jsx(W3,{className:"h-full w-full flex-1 bg-gradient-to-r from-emerald-500 to-cyan-500 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));q3.displayName=w0.displayName;const LJ=ha("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground","confidence-high":"bg-emerald-500/15 text-emerald-400 border-emerald-500/30","confidence-medium":"bg-amber-500/15 text-amber-400 border-amber-500/30","confidence-low":"bg-slate-500/15 text-slate-400 border-slate-500/30",opportunity:"bg-emerald-500/15 text-emerald-400 border-emerald-500/30",threat:"bg-red-500/15 text-red-400 border-red-500/30",watch:"bg-amber-500/15 text-amber-400 border-amber-500/30"}},defaultVariants:{variant:"default"}});function Pv({className:e,variant:t,...r}){return o.jsx("div",{className:$(LJ({variant:t}),e),...r})}const OO=[{progress:15,label:"Reading Sysco invoice PDF...",duration:600},{progress:30,label:"Extracted 47 items across 3 vendors",duration:800},{progress:50,label:'Smart match: "Tom Roma 25#"  "Roma Tomatoes"',duration:900},{progress:65,label:"Price alert: Beef up $0.45/lb (+15%)",duration:1e3},{progress:80,label:"Found better price: US Foods $3.95 vs $4.20",duration:900},{progress:95,label:"Updated 12 menu items automatically",duration:800},{progress:100,label:" Saved $127 + 22 min vs manual entry",duration:1200}],FJ=()=>{const[e,t]=p.useState(0),[r,n]=p.useState("Drop any invoice here  watch it fly"),[s,i]=p.useState(!1);p.useEffect(()=>{if(!s)return;let l=0,c;const u=()=>{if(l<OO.length){const d=OO[l];t(d.progress),n(d.label),c=setTimeout(()=>{l++,u()},d.duration)}else setTimeout(()=>{i(!1),t(0),n("Drop any invoice here  watch it fly")},2e3)};return u(),()=>clearTimeout(c)},[s]);const a=()=>{s||i(!0)};return o.jsxs(nu,{className:"p-8 md:p-12 border-2 border-emerald-500/30 hover:border-emerald-500 transition-all bg-gradient-to-br from-slate-900 to-slate-800 shadow-2xl shadow-emerald-500/10",children:[o.jsxs(Tk,{className:"p-0 mb-6",children:[o.jsx(Rk,{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"See It In Action"}),o.jsx("p",{className:"text-lg md:text-xl text-emerald-400",children:"Watch an invoice transform in real-time"})]}),o.jsx(su,{className:"p-0",children:o.jsxs("div",{className:"cursor-pointer group",onClick:a,role:"button",tabIndex:0,onKeyDown:l=>l.key==="Enter"&&a(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-500 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-emerald-500/30",children:o.jsx(ru,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-lg md:text-xl font-semibold text-white mb-1",children:s?"Processing...":"Click to See What Happens"}),o.jsx("p",{className:"text-base md:text-lg text-slate-200 font-medium",children:r})]})]}),e===100&&o.jsx(Pv,{className:"bg-emerald-500 text-white px-4 py-2 text-sm font-semibold",children:" Done"})]}),o.jsx(q3,{value:e,className:"h-3 bg-slate-800"}),!s&&o.jsx("p",{className:"text-base md:text-lg text-center text-slate-400 mt-6 group-hover:text-emerald-400 transition-colors font-medium",children:"Click to see how an invoice turns into live intelligence"})]})})]})},UJ=()=>{const e=["Manual invoice entry wasting your time?","Struggling to link vendors or track the same item under different names?","Unsure where ingredient price hikes are killing your margins?"];return o.jsx("section",{className:"py-16 md:py-24",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white leading-tight",children:"Sound Familiar?"}),o.jsx("div",{className:"space-y-4",children:e.map((t,r)=>o.jsx("p",{className:"text-lg md:text-xl text-slate-300 leading-relaxed",children:t},r))}),o.jsx("div",{className:"pt-8",children:o.jsx("p",{className:"text-xl md:text-2xl text-emerald-400 font-semibold leading-relaxed",children:"No more surprises. Our invoice parser finds, matches, and compares every itemeven when vendors change the description."})})]})})},zJ=[{icon:o.jsx(ru,{className:"w-6 h-6 md:w-7 md:h-7"}),title:"Instant Invoice Parsing",description:"Snap, upload, done. Ingredients and vendors auto-linkedeven with fuzzy names."},{icon:o.jsx(Al,{className:"w-6 h-6 md:w-7 md:h-7"}),title:"Real-Time Price Tracking",description:"See your price history and trends for every item and vendor. Find the best deals instantly."},{icon:o.jsx(jQ,{className:"w-6 h-6 md:w-7 md:h-7"}),title:"Menu Costing Made Simple",description:"Connect your menu and portion usage to live invoice prices. Always know your profit, plate by plate."},{icon:o.jsx(Cl,{className:"w-6 h-6 md:w-7 md:h-7"}),title:"Competitor Insights",description:"No more research hoursget automatic updates on local menu changes and reviews, then act on actionable insights."},{icon:o.jsx(b0,{className:"w-6 h-6 md:w-7 md:h-7"}),title:"Operator-Built Workflow",description:"Never feels foreign. Skip the confusionget set up in minutes, not days."}],BJ=()=>o.jsx("section",{className:"py-16 md:py-24",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-white mb-12 md:mb-16",children:"Everything You Need to Control Costs"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:zJ.map((e,t)=>o.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 md:p-8 hover:border-emerald-500 transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-emerald-500/10 flex items-center justify-center text-emerald-400 mb-4",children:e.icon}),o.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 leading-tight",children:e.title}),o.jsx("p",{className:"text-base md:text-lg text-slate-400 leading-relaxed",children:e.description})]},t))})]})}),VJ=()=>o.jsxs(nu,{className:"overflow-hidden border-amber-500/30 bg-slate-900",children:[o.jsx(Tk,{className:"bg-amber-50/5 border-b border-amber-500/20",children:o.jsx(Rk,{className:"flex items-center gap-2 text-xl md:text-2xl text-white",children:" Spy Report  2 miles"})}),o.jsxs(su,{className:"pt-6 md:pt-8 p-6 md:p-8",children:[o.jsx("p",{className:"text-2xl md:text-3xl font-bold text-red-400 mb-3",children:"Your Caesar = $2.10 high"}),o.jsx("p",{className:"text-base md:text-lg text-slate-300 mb-6",children:"Drop romaine 1 oz  save $312/mo"}),o.jsx(Re,{to:"/register",children:o.jsx(to,{variant:"outline",className:"border-2 border-amber-500 hover:bg-amber-500/10 text-amber-400 min-h-[48px] px-6",children:"Show Me Their Menu"})})]})]}),WJ=()=>o.jsx("section",{className:"py-16 md:py-24",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-8 md:p-12",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8",children:[o.jsx("div",{className:"hidden md:block w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-emerald-500 to-cyan-500 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl md:text-2xl text-white font-medium leading-relaxed mb-6",children:'"Finally, a tool that thinks like an operator. We spotted a $2,000 monthly ingredient markup and streamlined orderingwithout leaving the floor."'}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx("div",{className:"w-px h-8 bg-slate-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white text-base md:text-lg",children:"Alex P."}),o.jsx("p",{className:"text-sm md:text-base",children:"Restaurant Owner"})]})]})]})]})})})}),qJ=["1 invoice upload per week","2 bonus invoices every 28 days","2 free competitor analyses per week","1 premium competitor analysis per week","1 menu comparison per week","1 menu upload per week","No credit card required"],HJ=["All the competitor insights you need","Upload every invoice","Compare all competitor menus","Full price analytics","Full inventory management","Cancel anytime"],KJ=()=>o.jsx("section",{id:"pricing",className:"py-16 md:py-24",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-white mb-3",children:"Simple Pricing. No Surprises."}),o.jsx("p",{className:"text-center text-gray-400 mb-12 md:mb-16 text-base md:text-lg",children:"Start free. Upgrade when you're ready."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[o.jsx(nu,{className:"bg-slate-800 border-slate-700 hover:border-cyan-500 transition-colors",children:o.jsxs(su,{className:"p-6 md:p-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Pv,{className:"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30 mb-4 px-4 py-1",children:"Free Forever"}),o.jsx("div",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"$0"}),o.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Perfect to test it out"})]}),o.jsx("ul",{className:"space-y-3 mb-8",children:qJ.map((e,t)=>o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(_s,{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm md:text-base text-slate-300",children:e})]},t))}),o.jsx(Re,{to:"/register",className:"block",children:o.jsx(to,{size:"lg",variant:"outline",className:"w-full border-2 border-slate-600 hover:border-cyan-400 hover:bg-cyan-500/10 text-white min-h-[48px]",children:"Start Free Now"})})]})}),o.jsxs(nu,{className:"bg-slate-800 border-emerald-400/30 hover:border-emerald-400/50 transition-colors shadow-xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 z-20",children:o.jsx(Pv,{className:"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white px-6 py-2 text-sm font-bold shadow-lg",children:"UNLIMITED"})}),o.jsxs(su,{className:"p-6 md:p-8 pt-10 md:pt-12",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Pv,{className:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 mb-4 px-4 py-1",children:"Coming Soon"}),o.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Pricing TBD"})]}),o.jsx("ul",{className:"space-y-3 mb-8",children:HJ.map((e,t)=>o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(_s,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm md:text-base text-slate-300",children:e})]},t))}),o.jsx(Re,{to:"/register",className:"block",children:o.jsx(to,{size:"lg",className:"w-full bg-gradient-to-r from-emerald-500 to-cyan-500 hover:opacity-90 text-white min-h-[48px]",children:"Join Waitlist"})})]})]})]})]})}),GJ=()=>o.jsx(nu,{className:"p-6 md:p-8 bg-gradient-to-br from-slate-900 to-slate-700 border-slate-600",children:o.jsxs(su,{className:"text-center text-white p-0",children:[o.jsx("p",{className:"text-3xl md:text-4xl font-black mb-6 md:mb-8",children:"Free seat. 60 seconds."}),o.jsx("div",{className:"space-y-4",children:o.jsx(Re,{to:"/register",className:"block",children:o.jsx(to,{size:"lg",variant:"secondary",className:"w-full bg-white text-slate-900 hover:bg-slate-100 min-h-[48px] text-base md:text-lg",children:"Send My Login (no card)"})})}),o.jsx("p",{className:"mt-6 text-sm md:text-base opacity-80",children:"247 operators already inside"})]})}),YJ=()=>o.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 py-12 md:py-16",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("span",{className:"text-emerald-400 font-bold text-2xl",children:"R"}),o.jsx("span",{className:"text-white font-semibold text-lg",children:"RestaurantIQ"})]}),o.jsx("p",{className:"text-slate-400 text-sm md:text-base leading-relaxed",children:"Built by operators, for operators. Control your food costs without the spreadsheets."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold mb-4 text-base md:text-lg",children:"Product"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#pricing",className:"text-slate-400 hover:text-emerald-400 transition-colors text-sm md:text-base",children:"Pricing"})}),o.jsx("li",{children:o.jsx(Re,{to:"/register",className:"text-slate-400 hover:text-emerald-400 transition-colors text-sm md:text-base",children:"Get Started"})}),o.jsx("li",{children:o.jsx(Re,{to:"/login",className:"text-slate-400 hover:text-emerald-400 transition-colors text-sm md:text-base",children:"Sign In"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold mb-4 text-base md:text-lg",children:"Legal"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors text-sm md:text-base",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors text-sm md:text-base",children:"Terms of Service"})})]})]})]}),o.jsx("div",{className:"pt-8 border-t border-slate-800 text-center",children:o.jsxs("p",{className:"text-slate-500 text-sm",children:[" ",new Date().getFullYear()," RestaurantIQ. All rights reserved."]})})]})}),XJ=()=>o.jsxs("div",{className:"bg-obsidian text-slate-100 min-h-screen relative overflow-hidden",children:[o.jsx("div",{className:"fixed inset-0 opacity-[0.03] pointer-events-none z-0",children:o.jsx("div",{className:"w-full h-full bg-repeat animate-slow-drift",style:{backgroundImage:"url(/food-pattern.svg)",backgroundSize:"800px 800px"}})}),o.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-transparent via-obsidian/30 to-obsidian pointer-events-none z-0"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx(xJ,{}),o.jsx(yJ,{}),o.jsx("section",{className:"py-12 px-4 md:px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(FJ,{})})}),o.jsx(_J,{}),o.jsx("section",{className:"py-20 md:py-28 px-4 md:px-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-20 md:space-y-28",children:[o.jsx(UJ,{}),o.jsx(BJ,{}),o.jsx(VJ,{}),o.jsx(WJ,{}),o.jsx(KJ,{}),o.jsx(GJ,{})]})}),o.jsx(YJ,{})]})]});var Nm=e=>e.type==="checkbox",bc=e=>e instanceof Date,zn=e=>e==null;const H3=e=>typeof e=="object";var mr=e=>!zn(e)&&!Array.isArray(e)&&H3(e)&&!bc(e),K3=e=>mr(e)&&e.target?Nm(e.target)?e.target.checked:e.target.value:e,QJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,G3=(e,t)=>e.has(QJ(t)),JJ=e=>{const t=e.constructor&&e.constructor.prototype;return mr(t)&&t.hasOwnProperty("isPrototypeOf")},$k=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!($k&&(e instanceof Blob||n))&&(r||mr(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!JJ(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=yr(e[s]));else return e;return t}var _0=e=>/^\w*$/.test(e),Jt=e=>e===void 0,Lk=e=>Array.isArray(e)?e.filter(Boolean):[],Fk=e=>Lk(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ie=(e,t,r)=>{if(!t||!mr(e))return r;const n=(_0(t)?[t]:Fk(t)).reduce((s,i)=>zn(s)?s:s[i],e);return Jt(n)||n===e?Jt(e[t])?r:e[t]:n},os=e=>typeof e=="boolean",ht=(e,t,r)=>{let n=-1;const s=_0(t)?[t]:Fk(t),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==a){const u=e[l];c=mr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const kx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},va={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Uk=Ie.createContext(null);Uk.displayName="HookFormContext";const j0=()=>Ie.useContext(Uk),ZJ=e=>{const{children:t,...r}=e;return Ie.createElement(Uk.Provider,{value:r},t)};var Y3=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==vi.all&&(t._proxyFormState[a]=!n||vi.all),r&&(r[a]=!0),e[a]}});return s};const zk=typeof window<"u"?Ie.useLayoutEffect:Ie.useEffect;function eZ(e){const t=j0(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[a,l]=Ie.useState(r._formState),c=Ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return zk(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),Ie.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Ie.useMemo(()=>Y3(a,r,c.current,!1),[a,r])}var us=e=>typeof e=="string",X3=(e,t,r,n,s)=>us(e)?(n&&t.watch.add(e),ie(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ie(r,i))):(n&&(t.watchAll=!0),r),rS=e=>zn(e)||!H3(e);function Ra(e,t,r=new WeakSet){if(rS(e)||rS(t))return e===t;if(bc(e)&&bc(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(bc(a)&&bc(l)||mr(a)&&mr(l)||Array.isArray(a)&&Array.isArray(l)?!Ra(a,l,r):a!==l)return!1}}return!0}function tZ(e){const t=j0(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:a,compute:l}=e||{},c=Ie.useRef(s),u=Ie.useRef(l),d=Ie.useRef(void 0);u.current=l;const f=Ie.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=Ie.useState(u.current?u.current(f):f);return zk(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:v=>{if(!i){const g=X3(n,r._names,v.values||r._formValues,!1,c.current);if(u.current){const x=u.current(g);Ra(x,d.current)||(m(x),d.current=x)}else m(g)}}}),[r,i,n,a]),Ie.useEffect(()=>r._removeUnmounted()),h}function rZ(e){const t=j0(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:a}=e,l=G3(s._names.array,r),c=Ie.useMemo(()=>ie(s._formValues,r,ie(s._defaultValues,r,a)),[s,r,a]),u=tZ({control:s,name:r,defaultValue:c,exact:!0}),d=eZ({control:s,name:r,exact:!0}),f=Ie.useRef(e),h=Ie.useRef(void 0),m=Ie.useRef(s.register(r,{...e.rules,value:u,...os(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const v=Ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ie(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ie(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ie(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ie(d.validatingFields,r)},error:{enumerable:!0,get:()=>ie(d.errors,r)}}),[d,r]),g=Ie.useCallback(b=>m.current.onChange({target:{value:K3(b),name:r},type:kx.CHANGE}),[r]),x=Ie.useCallback(()=>m.current.onBlur({target:{value:ie(s._formValues,r),name:r},type:kx.BLUR}),[r,s._formValues]),y=Ie.useCallback(b=>{const _=ie(s._fields,r);_&&b&&(_._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:j=>b.setCustomValidity(j),reportValidity:()=>b.reportValidity()})},[s._fields,r]),w=Ie.useMemo(()=>({name:r,value:u,...os(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:x,ref:y}),[r,n,d.disabled,g,x,y,u]);return Ie.useEffect(()=>{const b=s._options.shouldUnregister||i,_=h.current;_&&_!==r&&!l&&s.unregister(_),s.register(r,{...f.current.rules,...os(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(S,N)=>{const E=ie(s._fields,S);E&&E._f&&(E._f.mount=N)};if(j(r,!0),b){const S=yr(ie(s._options.defaultValues,r,f.current.defaultValue));ht(s._defaultValues,r,S),Jt(ie(s._formValues,r))&&ht(s._formValues,r,S)}return!l&&s.register(r),h.current=r,()=>{(l?b&&!s._state.action:b)?s.unregister(r):j(r,!1)}},[r,s,l,i]),Ie.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),Ie.useMemo(()=>({field:w,formState:d,fieldState:v}),[w,d,v])}const nZ=e=>e.render(rZ(e));var Q3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},np=e=>Array.isArray(e)?e:[e],TO=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function J3(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&mr(s)&&i){const a=J3(s,i);mr(a)&&(r[n]=a)}else e[n]&&(r[n]=i)}return r}var Ln=e=>mr(e)&&!Object.keys(e).length,Bk=e=>e.type==="file",xi=e=>typeof e=="function",Cx=e=>{if(!$k)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Z3=e=>e.type==="select-multiple",Vk=e=>e.type==="radio",sZ=e=>Vk(e)||Nm(e),E_=e=>Cx(e)&&e.isConnected;function iZ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Jt(e)?n++:e[t[n++]];return e}function aZ(e){for(const t in e)if(e.hasOwnProperty(t)&&!Jt(e[t]))return!1;return!0}function or(e,t){const r=Array.isArray(t)?t:_0(t)?[t]:Fk(t),n=r.length===1?e:iZ(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(mr(n)&&Ln(n)||Array.isArray(n)&&aZ(n))&&or(e,r.slice(0,-1)),e}var oZ=e=>{for(const t in e)if(xi(e[t]))return!0;return!1};function eL(e){return Array.isArray(e)||mr(e)&&!oZ(e)}function nS(e,t={}){for(const r in e)eL(e[r])?(t[r]=Array.isArray(e[r])?[]:{},nS(e[r],t[r])):Jt(e[r])||(t[r]=!0);return t}function Ku(e,t,r){r||(r=nS(t));for(const n in e)eL(e[n])?Jt(t)||rS(r[n])?r[n]=nS(e[n],Array.isArray(e[n])?[]:{}):Ku(e[n],zn(t)?{}:t[n],r[n]):r[n]=!Ra(e[n],t[n]);return r}const RO={value:!1,isValid:!1},IO={value:!0,isValid:!0};var tL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Jt(e[0].attributes.value)?Jt(e[0].value)||e[0].value===""?IO:{value:e[0].value,isValid:!0}:IO:RO}return RO},rL=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Jt(e)?e:t?e===""?NaN:e&&+e:r&&us(e)?new Date(e):n?n(e):e;const DO={isValid:!1,value:null};var nL=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,DO):DO;function MO(e){const t=e.ref;return Bk(t)?t.files:Vk(t)?nL(e.refs).value:Z3(t)?[...t.selectedOptions].map(({value:r})=>r):Nm(t)?tL(e.refs).value:rL(Jt(t.value)?e.ref.value:t.value,e)}var lZ=(e,t,r,n)=>{const s={};for(const i of e){const a=ie(t,i);a&&ht(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Px=e=>e instanceof RegExp,ch=e=>Jt(e)?e:Px(e)?e.source:mr(e)?Px(e.value)?e.value.source:e.value:e,$O=e=>({isOnSubmit:!e||e===vi.onSubmit,isOnBlur:e===vi.onBlur,isOnChange:e===vi.onChange,isOnAll:e===vi.all,isOnTouch:e===vi.onTouched});const LO="AsyncFunction";var cZ=e=>!!e&&!!e.validate&&!!(xi(e.validate)&&e.validate.constructor.name===LO||mr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===LO)),uZ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),FO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const sp=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=ie(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(sp(l,t))break}else if(mr(l)&&sp(l,t))break}}};function UO(e,t,r){const n=ie(e,r);if(n||_0(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=ie(t,i),l=ie(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var dZ=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Ln(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||vi.all))},fZ=(e,t,r)=>!e||!t||e===t||np(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),hZ=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,pZ=(e,t)=>!Lk(ie(e,t)).length&&or(e,t),mZ=(e,t,r)=>{const n=np(ie(e,r));return ht(n,"root",t[r]),ht(e,r,n),e};function zO(e,t,r="validate"){if(us(e)||Array.isArray(e)&&e.every(us)||os(e)&&!e)return{type:r,message:us(e)?e:"",ref:t}}var Ru=e=>mr(e)&&!Px(e)?e:{value:e,message:""},BO=async(e,t,r,n,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:g,valueAsNumber:x,mount:y}=e._f,w=ie(r,g);if(!y||t.has(g))return{};const b=l?l[0]:a,_=k=>{s&&b.reportValidity&&(b.setCustomValidity(os(k)?"":k||""),b.reportValidity())},j={},S=Vk(a),N=Nm(a),E=S||N,A=(x||Bk(a))&&Jt(a.value)&&Jt(w)||Cx(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,P=Q3.bind(null,g,n,j),C=(k,D,T,L=va.maxLength,z=va.minLength)=>{const X=k?D:T;j[g]={type:k?L:z,message:X,ref:a,...P(k?L:z,X)}};if(i?!Array.isArray(w)||!w.length:c&&(!E&&(A||zn(w))||os(w)&&!w||N&&!tL(l).isValid||S&&!nL(l).isValid)){const{value:k,message:D}=us(c)?{value:!!c,message:c}:Ru(c);if(k&&(j[g]={type:va.required,message:D,ref:b,...P(va.required,D)},!n))return _(D),j}if(!A&&(!zn(f)||!zn(h))){let k,D;const T=Ru(h),L=Ru(f);if(!zn(w)&&!isNaN(w)){const z=a.valueAsNumber||w&&+w;zn(T.value)||(k=z>T.value),zn(L.value)||(D=z<L.value)}else{const z=a.valueAsDate||new Date(w),X=Q=>new Date(new Date().toDateString()+" "+Q),I=a.type=="time",M=a.type=="week";us(T.value)&&w&&(k=I?X(w)>X(T.value):M?w>T.value:z>new Date(T.value)),us(L.value)&&w&&(D=I?X(w)<X(L.value):M?w<L.value:z<new Date(L.value))}if((k||D)&&(C(!!k,T.message,L.message,va.max,va.min),!n))return _(j[g].message),j}if((u||d)&&!A&&(us(w)||i&&Array.isArray(w))){const k=Ru(u),D=Ru(d),T=!zn(k.value)&&w.length>+k.value,L=!zn(D.value)&&w.length<+D.value;if((T||L)&&(C(T,k.message,D.message),!n))return _(j[g].message),j}if(m&&!A&&us(w)){const{value:k,message:D}=Ru(m);if(Px(k)&&!w.match(k)&&(j[g]={type:va.pattern,message:D,ref:a,...P(va.pattern,D)},!n))return _(D),j}if(v){if(xi(v)){const k=await v(w,r),D=zO(k,b);if(D&&(j[g]={...D,...P(va.validate,D.message)},!n))return _(D.message),j}else if(mr(v)){let k={};for(const D in v){if(!Ln(k)&&!n)break;const T=zO(await v[D](w,r),b,D);T&&(k={...T,...P(D,T.message)},_(T.message),n&&(j[g]=k))}if(!Ln(k)&&(j[g]={ref:b,...k},!n))return j}}return _(!0),j};const gZ={mode:vi.onSubmit,reValidateMode:vi.onChange,shouldFocusError:!0};function vZ(e={}){let t={...gZ,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:xi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=mr(t.defaultValues)||mr(t.values)?yr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:yr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:TO(),state:TO()},m=t.criteriaMode===vi.all,v=R=>F=>{clearTimeout(u),u=setTimeout(R,F)},g=async R=>{if(!t.disabled&&(d.isValid||f.isValid||R)){const F=t.resolver?Ln((await N()).errors):await A(n,!0);F!==r.isValid&&h.state.next({isValid:F})}},x=(R,F)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((R||Array.from(l.mount)).forEach(Y=>{Y&&(F?ht(r.validatingFields,Y,F):or(r.validatingFields,Y))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ln(r.validatingFields)}))},y=(R,F=[],Y,de,U=!0,H=!0)=>{if(de&&Y&&!t.disabled){if(a.action=!0,H&&Array.isArray(ie(n,R))){const ae=Y(ie(n,R),de.argA,de.argB);U&&ht(n,R,ae)}if(H&&Array.isArray(ie(r.errors,R))){const ae=Y(ie(r.errors,R),de.argA,de.argB);U&&ht(r.errors,R,ae),pZ(r.errors,R)}if((d.touchedFields||f.touchedFields)&&H&&Array.isArray(ie(r.touchedFields,R))){const ae=Y(ie(r.touchedFields,R),de.argA,de.argB);U&&ht(r.touchedFields,R,ae)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ku(s,i)),h.state.next({name:R,isDirty:C(R,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ht(i,R,F)},w=(R,F)=>{ht(r.errors,R,F),h.state.next({errors:r.errors})},b=R=>{r.errors=R,h.state.next({errors:r.errors,isValid:!1})},_=(R,F,Y,de)=>{const U=ie(n,R);if(U){const H=ie(i,R,Jt(Y)?ie(s,R):Y);Jt(H)||de&&de.defaultChecked||F?ht(i,R,F?H:MO(U._f)):T(R,H),a.mount&&g()}},j=(R,F,Y,de,U)=>{let H=!1,ae=!1;const Me={name:R};if(!t.disabled){if(!Y||de){(d.isDirty||f.isDirty)&&(ae=r.isDirty,r.isDirty=Me.isDirty=C(),H=ae!==Me.isDirty);const Ge=Ra(ie(s,R),F);ae=!!ie(r.dirtyFields,R),Ge?or(r.dirtyFields,R):ht(r.dirtyFields,R,!0),Me.dirtyFields=r.dirtyFields,H=H||(d.dirtyFields||f.dirtyFields)&&ae!==!Ge}if(Y){const Ge=ie(r.touchedFields,R);Ge||(ht(r.touchedFields,R,Y),Me.touchedFields=r.touchedFields,H=H||(d.touchedFields||f.touchedFields)&&Ge!==Y)}H&&U&&h.state.next(Me)}return H?Me:{}},S=(R,F,Y,de)=>{const U=ie(r.errors,R),H=(d.isValid||f.isValid)&&os(F)&&r.isValid!==F;if(t.delayError&&Y?(c=v(()=>w(R,Y)),c(t.delayError)):(clearTimeout(u),c=null,Y?ht(r.errors,R,Y):or(r.errors,R)),(Y?!Ra(U,Y):U)||!Ln(de)||H){const ae={...de,...H&&os(F)?{isValid:F}:{},errors:r.errors,name:R};r={...r,...ae},h.state.next(ae)}},N=async R=>{x(R,!0);const F=await t.resolver(i,t.context,lZ(R||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(R),F},E=async R=>{const{errors:F}=await N(R);if(R)for(const Y of R){const de=ie(F,Y);de?ht(r.errors,Y,de):or(r.errors,Y)}else r.errors=F;return F},A=async(R,F,Y={valid:!0})=>{for(const de in R){const U=R[de];if(U){const{_f:H,...ae}=U;if(H){const Me=l.array.has(H.name),Ge=U._f&&cZ(U._f);Ge&&d.validatingFields&&x([H.name],!0);const Dr=await BO(U,l.disabled,i,m,t.shouldUseNativeValidation&&!F,Me);if(Ge&&d.validatingFields&&x([H.name]),Dr[H.name]&&(Y.valid=!1,F))break;!F&&(ie(Dr,H.name)?Me?mZ(r.errors,Dr,H.name):ht(r.errors,H.name,Dr[H.name]):or(r.errors,H.name))}!Ln(ae)&&await A(ae,F,Y)}}return Y.valid},P=()=>{for(const R of l.unMount){const F=ie(n,R);F&&(F._f.refs?F._f.refs.every(Y=>!E_(Y)):!E_(F._f.ref))&&pe(R)}l.unMount=new Set},C=(R,F)=>!t.disabled&&(R&&F&&ht(i,R,F),!Ra(Q(),s)),k=(R,F,Y)=>X3(R,l,{...a.mount?i:Jt(F)?s:us(R)?{[R]:F}:F},Y,F),D=R=>Lk(ie(a.mount?i:s,R,t.shouldUnregister?ie(s,R,[]):[])),T=(R,F,Y={})=>{const de=ie(n,R);let U=F;if(de){const H=de._f;H&&(!H.disabled&&ht(i,R,rL(F,H)),U=Cx(H.ref)&&zn(F)?"":F,Z3(H.ref)?[...H.ref.options].forEach(ae=>ae.selected=U.includes(ae.value)):H.refs?Nm(H.ref)?H.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(U)?ae.checked=!!U.find(Me=>Me===ae.value):ae.checked=U===ae.value||!!U)}):H.refs.forEach(ae=>ae.checked=ae.value===U):Bk(H.ref)?H.ref.value="":(H.ref.value=U,H.ref.type||h.state.next({name:R,values:yr(i)})))}(Y.shouldDirty||Y.shouldTouch)&&j(R,U,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&M(R)},L=(R,F,Y)=>{for(const de in F){if(!F.hasOwnProperty(de))return;const U=F[de],H=R+"."+de,ae=ie(n,H);(l.array.has(R)||mr(U)||ae&&!ae._f)&&!bc(U)?L(H,U,Y):T(H,U,Y)}},z=(R,F,Y={})=>{const de=ie(n,R),U=l.array.has(R),H=yr(F);ht(i,R,H),U?(h.array.next({name:R,values:yr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Y.shouldDirty&&h.state.next({name:R,dirtyFields:Ku(s,i),isDirty:C(R,H)})):de&&!de._f&&!zn(H)?L(R,H,Y):T(R,H,Y),FO(R,l)&&h.state.next({...r,name:R}),h.state.next({name:a.mount?R:void 0,values:yr(i)})},X=async R=>{a.mount=!0;const F=R.target;let Y=F.name,de=!0;const U=ie(n,Y),H=Ge=>{de=Number.isNaN(Ge)||bc(Ge)&&isNaN(Ge.getTime())||Ra(Ge,ie(i,Y,Ge))},ae=$O(t.mode),Me=$O(t.reValidateMode);if(U){let Ge,Dr;const si=F.type?MO(U._f):K3(R),Rs=R.type===kx.BLUR||R.type===kx.FOCUS_OUT,Xf=!uZ(U._f)&&!t.resolver&&!ie(r.errors,Y)&&!U._f.deps||hZ(Rs,ie(r.touchedFields,Y),r.isSubmitted,Me,ae),Zl=FO(Y,l,Rs);ht(i,Y,si),Rs?(!F||!F.readOnly)&&(U._f.onBlur&&U._f.onBlur(R),c&&c(0)):U._f.onChange&&U._f.onChange(R);const No=j(Y,si,Rs),Qf=!Ln(No)||Zl;if(!Rs&&h.state.next({name:Y,type:R.type,values:yr(i)}),Xf)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Rs&&g():Rs||g()),Qf&&h.state.next({name:Y,...Zl?{}:No});if(!Rs&&Zl&&h.state.next({...r}),t.resolver){const{errors:Au}=await N([Y]);if(H(si),de){const Jf=UO(r.errors,n,Y),Ou=UO(Au,n,Jf.name||Y);Ge=Ou.error,Y=Ou.name,Dr=Ln(Au)}}else x([Y],!0),Ge=(await BO(U,l.disabled,i,m,t.shouldUseNativeValidation))[Y],x([Y]),H(si),de&&(Ge?Dr=!1:(d.isValid||f.isValid)&&(Dr=await A(n,!0)));de&&(U._f.deps&&(!Array.isArray(U._f.deps)||U._f.deps.length>0)&&M(U._f.deps),S(Y,Dr,Ge,No))}},I=(R,F)=>{if(ie(r.errors,F)&&R.focus)return R.focus(),1},M=async(R,F={})=>{let Y,de;const U=np(R);if(t.resolver){const H=await E(Jt(R)?R:U);Y=Ln(H),de=R?!U.some(ae=>ie(H,ae)):Y}else R?(de=(await Promise.all(U.map(async H=>{const ae=ie(n,H);return await A(ae&&ae._f?{[H]:ae}:ae)}))).every(Boolean),!(!de&&!r.isValid)&&g()):de=Y=await A(n);return h.state.next({...!us(R)||(d.isValid||f.isValid)&&Y!==r.isValid?{}:{name:R},...t.resolver||!R?{isValid:Y}:{},errors:r.errors}),F.shouldFocus&&!de&&sp(n,I,R?U:l.mount),de},Q=(R,F)=>{let Y={...a.mount?i:s};return F&&(Y=J3(F.dirtyFields?r.dirtyFields:r.touchedFields,Y)),Jt(R)?Y:us(R)?ie(Y,R):R.map(de=>ie(Y,de))},J=(R,F)=>({invalid:!!ie((F||r).errors,R),isDirty:!!ie((F||r).dirtyFields,R),error:ie((F||r).errors,R),isValidating:!!ie(r.validatingFields,R),isTouched:!!ie((F||r).touchedFields,R)}),ee=R=>{R&&np(R).forEach(F=>or(r.errors,F)),h.state.next({errors:R?r.errors:{}})},Ee=(R,F,Y)=>{const de=(ie(n,R,{_f:{}})._f||{}).ref,U=ie(r.errors,R)||{},{ref:H,message:ae,type:Me,...Ge}=U;ht(r.errors,R,{...Ge,...F,ref:de}),h.state.next({name:R,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&de&&de.focus&&de.focus()},je=(R,F)=>xi(R)?h.state.subscribe({next:Y=>"values"in Y&&R(k(void 0,F),Y)}):k(R,F,!0),Fe=R=>h.state.subscribe({next:F=>{fZ(R.name,F.name,R.exact)&&dZ(F,R.formState||d,Et,R.reRenderRoot)&&R.callback({values:{...i},...r,...F,defaultValues:s})}}).unsubscribe,ze=R=>(a.mount=!0,f={...f,...R.formState},Fe({...R,formState:f})),pe=(R,F={})=>{for(const Y of R?np(R):l.mount)l.mount.delete(Y),l.array.delete(Y),F.keepValue||(or(n,Y),or(i,Y)),!F.keepError&&or(r.errors,Y),!F.keepDirty&&or(r.dirtyFields,Y),!F.keepTouched&&or(r.touchedFields,Y),!F.keepIsValidating&&or(r.validatingFields,Y),!t.shouldUnregister&&!F.keepDefaultValue&&or(s,Y);h.state.next({values:yr(i)}),h.state.next({...r,...F.keepDirty?{isDirty:C()}:{}}),!F.keepIsValid&&g()},Ke=({disabled:R,name:F})=>{(os(R)&&a.mount||R||l.disabled.has(F))&&(R?l.disabled.add(F):l.disabled.delete(F))},K=(R,F={})=>{let Y=ie(n,R);const de=os(F.disabled)||os(t.disabled);return ht(n,R,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:R}},name:R,mount:!0,...F}}),l.mount.add(R),Y?Ke({disabled:os(F.disabled)?F.disabled:t.disabled,name:R}):_(R,!0,F.value),{...de?{disabled:F.disabled||t.disabled}:{},...t.progressive?{required:!!F.required,min:ch(F.min),max:ch(F.max),minLength:ch(F.minLength),maxLength:ch(F.maxLength),pattern:ch(F.pattern)}:{},name:R,onChange:X,onBlur:X,ref:U=>{if(U){K(R,F),Y=ie(n,R);const H=Jt(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,ae=sZ(H),Me=Y._f.refs||[];if(ae?Me.find(Ge=>Ge===H):H===Y._f.ref)return;ht(n,R,{_f:{...Y._f,...ae?{refs:[...Me.filter(E_),H,...Array.isArray(ie(s,R))?[{}]:[]],ref:{type:H.type,name:R}}:{ref:H}}}),_(R,!1,void 0,H)}else Y=ie(n,R,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||F.shouldUnregister)&&!(G3(l.array,R)&&a.action)&&l.unMount.add(R)}}},re=()=>t.shouldFocusError&&sp(n,I,l.mount),fe=R=>{os(R)&&(h.state.next({disabled:R}),sp(n,(F,Y)=>{const de=ie(n,Y);de&&(F.disabled=de._f.disabled||R,Array.isArray(de._f.refs)&&de._f.refs.forEach(U=>{U.disabled=de._f.disabled||R}))},0,!1))},G=(R,F)=>async Y=>{let de;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let U=yr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:H,values:ae}=await N();r.errors=H,U=yr(ae)}else await A(n);if(l.disabled.size)for(const H of l.disabled)or(U,H);if(or(r.errors,"root"),Ln(r.errors)){h.state.next({errors:{}});try{await R(U,Y)}catch(H){de=H}}else F&&await F({...r.errors},Y),re(),setTimeout(re);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ln(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},Qe=(R,F={})=>{ie(n,R)&&(Jt(F.defaultValue)?z(R,yr(ie(s,R))):(z(R,F.defaultValue),ht(s,R,yr(F.defaultValue))),F.keepTouched||or(r.touchedFields,R),F.keepDirty||(or(r.dirtyFields,R),r.isDirty=F.defaultValue?C(R,yr(ie(s,R))):C()),F.keepError||(or(r.errors,R),d.isValid&&g()),h.state.next({...r}))},Ue=(R,F={})=>{const Y=R?yr(R):s,de=yr(Y),U=Ln(R),H=U?s:de;if(F.keepDefaultValues||(s=Y),!F.keepValues){if(F.keepDirtyValues){const ae=new Set([...l.mount,...Object.keys(Ku(s,i))]);for(const Me of Array.from(ae))ie(r.dirtyFields,Me)?ht(H,Me,ie(i,Me)):z(Me,ie(H,Me))}else{if($k&&Jt(R))for(const ae of l.mount){const Me=ie(n,ae);if(Me&&Me._f){const Ge=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(Cx(Ge)){const Dr=Ge.closest("form");if(Dr){Dr.reset();break}}}}if(F.keepFieldsRef)for(const ae of l.mount)z(ae,ie(H,ae));else n={}}i=t.shouldUnregister?F.keepDefaultValues?yr(s):{}:yr(H),h.array.next({values:{...H}}),h.state.next({values:{...H}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,a.watch=!!t.shouldUnregister,h.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:U?!1:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!Ra(R,s)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Ku(s,i):r.dirtyFields:F.keepDefaultValues&&R?Ku(s,R):F.keepDirty?r.dirtyFields:{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},vt=(R,F)=>Ue(xi(R)?R(i):R,F),wt=(R,F={})=>{const Y=ie(n,R),de=Y&&Y._f;if(de){const U=de.refs?de.refs[0]:de.ref;U.focus&&(U.focus(),F.shouldSelect&&xi(U.select)&&U.select())}},Et=R=>{r={...r,...R}},Ts={control:{register:K,unregister:pe,getFieldState:J,handleSubmit:G,setError:Ee,_subscribe:Fe,_runSchema:N,_focusError:re,_getWatch:k,_getDirty:C,_setValid:g,_setFieldArray:y,_setDisabledField:Ke,_setErrors:b,_getFieldArray:D,_reset:Ue,_resetDefaultValues:()=>xi(t.defaultValues)&&t.defaultValues().then(R=>{vt(R,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:fe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(R){a=R},get _defaultValues(){return s},get _names(){return l},set _names(R){l=R},get _formState(){return r},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:ze,trigger:M,register:K,handleSubmit:G,watch:je,setValue:z,getValues:Q,reset:vt,resetField:Qe,clearErrors:ee,unregister:pe,setError:Ee,setFocus:wt,getFieldState:J};return{...Ts,formControl:Ts}}function S0(e={}){const t=Ie.useRef(void 0),r=Ie.useRef(void 0),[n,s]=Ie.useState({isDirty:!1,isValidating:!1,isLoading:xi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:xi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!xi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=vZ(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,zk(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Ie.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ie.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Ie.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Ie.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Ie.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Ie.useEffect(()=>{e.values&&!Ra(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),Ie.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Y3(n,i),t.current}const VO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ie(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},sL=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?VO(n.ref,r,e):n.refs&&n.refs.forEach(s=>VO(s,r,e))}},xZ=(e,t)=>{t.shouldUseNativeValidation&&sL(e,t);const r={};for(const n in e){const s=ie(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(yZ(t.names||Object.keys(e),n)){const a=Object.assign({},ie(r,n));ht(a,"root",i),ht(r,n,a)}else ht(r,n,i)}return r},yZ=(e,t)=>e.some(r=>r.startsWith(t+"."));var bZ=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=Q3(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},N0=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&sL({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:xZ(bZ(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},it;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(it||(it={}));var WO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(WO||(WO={}));const we=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$o=e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return Number.isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},te=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ro extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ro))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ro.create=e=>new ro(e);const sS=(e,t)=>{let r;switch(e.code){case te.invalid_type:e.received===we.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case te.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,it.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:r=`Unrecognized key(s) in object: ${it.joinValues(e.keys,", ")}`;break;case te.invalid_union:r="Invalid input";break;case te.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${it.joinValues(e.options)}`;break;case te.invalid_enum_value:r=`Invalid enum value. Expected ${it.joinValues(e.options)}, received '${e.received}'`;break;case te.invalid_arguments:r="Invalid function arguments";break;case te.invalid_return_type:r="Invalid function return type";break;case te.invalid_date:r="Invalid date";break;case te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:it.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case te.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case te.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case te.custom:r="Invalid input";break;case te.invalid_intersection_types:r="Intersection results could not be merged";break;case te.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case te.not_finite:r="Number must be finite";break;default:r=t.defaultError,it.assertNever(e)}return{message:r}};let wZ=sS;function _Z(){return wZ}const jZ=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function he(e,t){const r=_Z(),n=jZ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===sS?void 0:sS].filter(s=>!!s)});e.common.issues.push(n)}class js{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Be;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return js.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Be;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const Be=Object.freeze({status:"aborted"}),Ih=e=>({status:"dirty",value:e}),ri=e=>({status:"valid",value:e}),qO=e=>e.status==="aborted",HO=e=>e.status==="dirty",Kd=e=>e.status==="valid",Ax=e=>typeof Promise<"u"&&e instanceof Promise;var Se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Se||(Se={}));class Ol{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const KO=(e,t)=>{if(Kd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ro(e.common.issues);return this._error=r,this._error}}};function Xe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class st{get description(){return this._def.description}_getType(t){return $o(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:$o(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new js,ctx:{common:t.parent.common,data:t.data,parsedType:$o(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ax(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$o(t)},s=this._parseSync({data:t,path:n.path,parent:n});return KO(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$o(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Kd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Kd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$o(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Ax(s)?s:Promise.resolve(s));return KO(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:te.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Xd({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return xl.create(this,this._def)}nullable(){return Qd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ea.create(this)}promise(){return Ix.create(this,this._def)}or(t){return Tx.create([this,t],this._def)}and(t){return Rx.create(this,t,this._def)}transform(t){return new Xd({...Xe(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new aS({...Xe(this._def),innerType:this,defaultValue:r,typeName:Ve.ZodDefault})}brand(){return new HZ({typeName:Ve.ZodBranded,type:this,...Xe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new oS({...Xe(this._def),innerType:this,catchValue:r,typeName:Ve.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Wk.create(this,t)}readonly(){return lS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const SZ=/^c[^\s-]{8,}$/i,NZ=/^[0-9a-z]+$/,EZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CZ=/^[a-z0-9_-]{21}$/i,PZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,AZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,TZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let k_;const RZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$Z=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FZ=new RegExp(`^${iL}$`);function aL(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function UZ(e){return new RegExp(`^${aL(e)}$`)}function zZ(e){let t=`${iL}T${aL(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function BZ(e,t){return!!((t==="v4"||!t)&&RZ.test(e)||(t==="v6"||!t)&&DZ.test(e))}function VZ(e,t){if(!PZ.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function WZ(e,t){return!!((t==="v4"||!t)&&IZ.test(e)||(t==="v6"||!t)&&MZ.test(e))}class nl extends st{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_type,expected:we.string,received:i.parsedType}),Be}const n=new js;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?he(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&he(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")OZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"email",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")k_||(k_=new RegExp(TZ,"u")),k_.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"emoji",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")kZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"uuid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")CZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"nanoid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")SZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")NZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid2",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")EZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ulid",code:te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),he(s,{validation:"url",code:te.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"regex",code:te.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?zZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?FZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?UZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:te.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?AZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"duration",code:te.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?BZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ip",code:te.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?VZ(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"jwt",code:te.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?WZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cidr",code:te.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?$Z.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"base64",code:te.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?LZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"base64url",code:te.invalid_string,message:i.message}),n.dirty()):it.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:te.invalid_string,...Se.errToObj(n)})}_addCheck(t){return new nl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Se.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Se.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Se.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Se.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Se.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Se.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Se.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Se.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Se.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Se.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Se.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Se.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Se.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Se.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Se.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Se.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Se.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Se.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Se.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Se.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Se.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Se.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Se.errToObj(r)})}nonempty(t){return this.min(1,Se.errToObj(t))}trim(){return new nl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new nl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new nl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}nl.create=e=>new nl({checks:[],typeName:Ve.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Xe(e)});function qZ(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class Gd extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_type,expected:we.number,received:i.parsedType}),Be}let n;const s=new js;for(const i of this._def.checks)i.kind==="int"?it.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:te.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qZ(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:te.not_finite,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,s){return new Gd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(s)}]})}_addCheck(t){return new Gd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&it.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Gd.create=e=>new Gd({checks:[],typeName:Ve.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Lp extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let n;const s=new js;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),he(n,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return he(r,{code:te.invalid_type,expected:we.bigint,received:r.parsedType}),Be}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,s){return new Lp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(s)}]})}_addCheck(t){return new Lp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Lp.create=e=>new Lp({checks:[],typeName:Ve.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Xe(e)});class GO extends st{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:we.boolean,received:n.parsedType}),Be}return ri(t.data)}}GO.create=e=>new GO({typeName:Ve.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Ox extends st{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_type,expected:we.date,received:i.parsedType}),Be}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return he(i,{code:te.invalid_date}),Be}const n=new js;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):it.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ox({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ox.create=e=>new Ox({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ve.ZodDate,...Xe(e)});class YO extends st{_parse(t){if(this._getType(t)!==we.symbol){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:we.symbol,received:n.parsedType}),Be}return ri(t.data)}}YO.create=e=>new YO({typeName:Ve.ZodSymbol,...Xe(e)});class XO extends st{_parse(t){if(this._getType(t)!==we.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:we.undefined,received:n.parsedType}),Be}return ri(t.data)}}XO.create=e=>new XO({typeName:Ve.ZodUndefined,...Xe(e)});class QO extends st{_parse(t){if(this._getType(t)!==we.null){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:we.null,received:n.parsedType}),Be}return ri(t.data)}}QO.create=e=>new QO({typeName:Ve.ZodNull,...Xe(e)});class JO extends st{constructor(){super(...arguments),this._any=!0}_parse(t){return ri(t.data)}}JO.create=e=>new JO({typeName:Ve.ZodAny,...Xe(e)});class ZO extends st{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ri(t.data)}}ZO.create=e=>new ZO({typeName:Ve.ZodUnknown,...Xe(e)});class Tl extends st{_parse(t){const r=this._getOrReturnCtx(t);return he(r,{code:te.invalid_type,expected:we.never,received:r.parsedType}),Be}}Tl.create=e=>new Tl({typeName:Ve.ZodNever,...Xe(e)});class eT extends st{_parse(t){if(this._getType(t)!==we.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:we.void,received:n.parsedType}),Be}return ri(t.data)}}eT.create=e=>new eT({typeName:Ve.ZodVoid,...Xe(e)});class ea extends st{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==we.array)return he(r,{code:te.invalid_type,expected:we.array,received:r.parsedType}),Be;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(he(r,{code:a?te.too_big:te.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(he(r,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(he(r,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new Ol(r,a,r.path,l)))).then(a=>js.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new Ol(r,a,r.path,l)));return js.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ea({...this._def,minLength:{value:t,message:Se.toString(r)}})}max(t,r){return new ea({...this._def,maxLength:{value:t,message:Se.toString(r)}})}length(t,r){return new ea({...this._def,exactLength:{value:t,message:Se.toString(r)}})}nonempty(t){return this.min(1,t)}}ea.create=(e,t)=>new ea({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...Xe(t)});function Gu(e){if(e instanceof cr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=xl.create(Gu(n))}return new cr({...e._def,shape:()=>t})}else return e instanceof ea?new ea({...e._def,type:Gu(e.element)}):e instanceof xl?xl.create(Gu(e.unwrap())):e instanceof Qd?Qd.create(Gu(e.unwrap())):e instanceof iu?iu.create(e.items.map(t=>Gu(t))):e}class cr extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=it.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==we.object){const u=this._getOrReturnCtx(t);return he(u,{code:te.invalid_type,expected:we.object,received:u.parsedType}),Be}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Tl&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ol(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Tl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(he(s,{code:te.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ol(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>js.mergeObjectSync(n,u)):js.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Se.errToObj,new cr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Se.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new cr({...this._def,unknownKeys:"strip"})}passthrough(){return new cr({...this._def,unknownKeys:"passthrough"})}extend(t){return new cr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new cr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ve.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new cr({...this._def,catchall:t})}pick(t){const r={};for(const n of it.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new cr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of it.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new cr({...this._def,shape:()=>r})}deepPartial(){return Gu(this)}partial(t){const r={};for(const n of it.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new cr({...this._def,shape:()=>r})}required(t){const r={};for(const n of it.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof xl;)i=i._def.innerType;r[n]=i}return new cr({...this._def,shape:()=>r})}keyof(){return oL(it.objectKeys(this.shape))}}cr.create=(e,t)=>new cr({shape:()=>e,unknownKeys:"strip",catchall:Tl.create(),typeName:Ve.ZodObject,...Xe(t)});cr.strictCreate=(e,t)=>new cr({shape:()=>e,unknownKeys:"strict",catchall:Tl.create(),typeName:Ve.ZodObject,...Xe(t)});cr.lazycreate=(e,t)=>new cr({shape:e,unknownKeys:"strip",catchall:Tl.create(),typeName:Ve.ZodObject,...Xe(t)});class Tx extends st{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new ro(l.ctx.common.issues));return he(r,{code:te.invalid_union,unionErrors:a}),Be}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new ro(c));return he(r,{code:te.invalid_union,unionErrors:l}),Be}}get options(){return this._def.options}}Tx.create=(e,t)=>new Tx({options:e,typeName:Ve.ZodUnion,...Xe(t)});function iS(e,t){const r=$o(e),n=$o(t);if(e===t)return{valid:!0,data:e};if(r===we.object&&n===we.object){const s=it.objectKeys(t),i=it.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=iS(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===we.array&&n===we.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=iS(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===we.date&&n===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Rx extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(qO(i)||qO(a))return Be;const l=iS(i.value,a.value);return l.valid?((HO(i)||HO(a))&&r.dirty(),{status:r.value,value:l.data}):(he(n,{code:te.invalid_intersection_types}),Be)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Rx.create=(e,t,r)=>new Rx({left:e,right:t,typeName:Ve.ZodIntersection,...Xe(r)});class iu extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.array)return he(n,{code:te.invalid_type,expected:we.array,received:n.parsedType}),Be;if(n.data.length<this._def.items.length)return he(n,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&n.data.length>this._def.items.length&&(he(n,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ol(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>js.mergeArray(r,a)):js.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new iu({...this._def,rest:t})}}iu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new iu({items:e,typeName:Ve.ZodTuple,rest:null,...Xe(t)})};class tT extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.map)return he(n,{code:te.invalid_type,expected:we.map,received:n.parsedType}),Be;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Ol(n,l,n.path,[u,"key"])),value:i._parse(new Ol(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Be;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Be;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}tT.create=(e,t,r)=>new tT({valueType:t,keyType:e,typeName:Ve.ZodMap,...Xe(r)});class Fp extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.set)return he(n,{code:te.invalid_type,expected:we.set,received:n.parsedType}),Be;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(he(n,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(he(n,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Be;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Ol(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new Fp({...this._def,minSize:{value:t,message:Se.toString(r)}})}max(t,r){return new Fp({...this._def,maxSize:{value:t,message:Se.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Fp.create=(e,t)=>new Fp({valueType:e,minSize:null,maxSize:null,typeName:Ve.ZodSet,...Xe(t)});class rT extends st{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}rT.create=(e,t)=>new rT({getter:e,typeName:Ve.ZodLazy,...Xe(t)});class nT extends st{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return he(r,{received:r.data,code:te.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:t.data}}get value(){return this._def.value}}nT.create=(e,t)=>new nT({value:e,typeName:Ve.ZodLiteral,...Xe(t)});function oL(e,t){return new Yd({values:e,typeName:Ve.ZodEnum,...Xe(t)})}class Yd extends st{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{expected:it.joinValues(n),received:r.parsedType,code:te.invalid_type}),Be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{received:r.data,code:te.invalid_enum_value,options:n}),Be}return ri(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Yd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Yd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Yd.create=oL;class sT extends st{_parse(t){const r=it.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==we.string&&n.parsedType!==we.number){const s=it.objectValues(r);return he(n,{expected:it.joinValues(s),received:n.parsedType,code:te.invalid_type}),Be}if(this._cache||(this._cache=new Set(it.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=it.objectValues(r);return he(n,{received:n.data,code:te.invalid_enum_value,options:s}),Be}return ri(t.data)}get enum(){return this._def.values}}sT.create=(e,t)=>new sT({values:e,typeName:Ve.ZodNativeEnum,...Xe(t)});class Ix extends st{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.promise&&r.common.async===!1)return he(r,{code:te.invalid_type,expected:we.promise,received:r.parsedType}),Be;const n=r.parsedType===we.promise?r.data:Promise.resolve(r.data);return ri(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ix.create=(e,t)=>new Ix({type:e,typeName:Ve.ZodPromise,...Xe(t)});class Xd extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{he(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Be;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Be:c.status==="dirty"||r.value==="dirty"?Ih(c.value):c});{if(r.value==="aborted")return Be;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Be:l.status==="dirty"||r.value==="dirty"?Ih(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Be:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Be:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Kd(a))return Be;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Kd(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):Be);it.assertNever(s)}}Xd.create=(e,t,r)=>new Xd({schema:e,typeName:Ve.ZodEffects,effect:t,...Xe(r)});Xd.createWithPreprocess=(e,t,r)=>new Xd({schema:t,effect:{type:"preprocess",transform:e},typeName:Ve.ZodEffects,...Xe(r)});class xl extends st{_parse(t){return this._getType(t)===we.undefined?ri(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xl.create=(e,t)=>new xl({innerType:e,typeName:Ve.ZodOptional,...Xe(t)});class Qd extends st{_parse(t){return this._getType(t)===we.null?ri(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qd.create=(e,t)=>new Qd({innerType:e,typeName:Ve.ZodNullable,...Xe(t)});class aS extends st{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===we.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}aS.create=(e,t)=>new aS({innerType:e,typeName:Ve.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xe(t)});class oS extends st{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ax(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ro(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ro(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}oS.create=(e,t)=>new oS({innerType:e,typeName:Ve.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xe(t)});class iT extends st{_parse(t){if(this._getType(t)!==we.nan){const n=this._getOrReturnCtx(t);return he(n,{code:te.invalid_type,expected:we.nan,received:n.parsedType}),Be}return{status:"valid",value:t.data}}}iT.create=e=>new iT({typeName:Ve.ZodNaN,...Xe(e)});class HZ extends st{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wk extends st{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Be:i.status==="dirty"?(r.dirty(),Ih(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Be:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Wk({in:t,out:r,typeName:Ve.ZodPipeline})}}class lS extends st{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Kd(s)&&(s.value=Object.freeze(s.value)),s);return Ax(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}lS.create=(e,t)=>new lS({innerType:e,typeName:Ve.ZodReadonly,...Xe(t)});var Ve;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const dr=nl.create,KZ=Gd.create;Tl.create;ea.create;const Em=cr.create;Tx.create;Rx.create;iu.create;const lL=Yd.create;Ix.create;xl.create;Qd.create;const GZ=ha("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),W=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?Wl:"button";return o.jsx(a,{className:$(GZ({variant:t,size:r,className:e})),ref:i,...s})});W.displayName="Button";const We=p.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:$("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));We.displayName="Input";const se=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("rounded-xl border bg-card text-card-foreground shadow",e),...t}));se.displayName="Card";const Ne=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("flex flex-col space-y-1.5 p-6",e),...t}));Ne.displayName="CardHeader";const Te=p.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:$("font-semibold leading-none tracking-tight",e),...t}));Te.displayName="CardTitle";const gn=p.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:$("text-sm text-muted-foreground",e),...t}));gn.displayName="CardDescription";const le=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("p-6 pt-0",e),...t}));le.displayName="CardContent";const YZ=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("flex items-center p-6 pt-0",e),...t}));YZ.displayName="CardFooter";var XZ="Label",cL=p.forwardRef((e,t)=>o.jsx(Oe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));cL.displayName=XZ;var uL=cL;const QZ=ha("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nn=p.forwardRef(({className:e,...t},r)=>o.jsx(uL,{ref:r,className:$(QZ(),e),...t}));Nn.displayName=uL.displayName;const E0=ZJ,dL=p.createContext({}),En=({...e})=>o.jsx(dL.Provider,{value:{name:e.name},children:o.jsx(nZ,{...e})}),k0=()=>{const e=p.useContext(dL),t=p.useContext(fL),{getFieldState:r,formState:n}=j0(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},fL=p.createContext({}),ln=p.forwardRef(({className:e,...t},r)=>{const n=p.useId();return o.jsx(fL.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:$("space-y-2",e),...t})})});ln.displayName="FormItem";const cn=p.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=k0();return o.jsx(Nn,{ref:r,className:$(n&&"text-destructive",e),htmlFor:s,...t})});cn.displayName="FormLabel";const un=p.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=k0();return o.jsx(Wl,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});un.displayName="FormControl";const JZ=p.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=k0();return o.jsx("p",{ref:r,id:n,className:$("text-[0.8rem] text-muted-foreground",e),...t})});JZ.displayName="FormDescription";const dn=p.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=k0(),a=s?String(s==null?void 0:s.message):t;return a?o.jsx("p",{ref:n,id:i,className:$("text-[0.8rem] font-medium text-destructive",e),...r,children:a}):null});dn.displayName="FormMessage";const ZZ=ha("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dt=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:$(ZZ({variant:t}),e),...r}));dt.displayName="Alert";const eee=p.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:$("mb-1 font-medium leading-none tracking-tight",e),...t}));eee.displayName="AlertTitle";const ft=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("text-sm [&_p]:leading-relaxed",e),...t}));ft.displayName="AlertDescription";const tee={},aT=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(v=>v(t,m))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(tee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},ree=e=>e?aT(e):aT;var hL={exports:{}},pL={},mL={exports:{}},gL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=p;function nee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var see=typeof Object.is=="function"?Object.is:nee,iee=Jd.useState,aee=Jd.useEffect,oee=Jd.useLayoutEffect,lee=Jd.useDebugValue;function cee(e,t){var r=t(),n=iee({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return oee(function(){s.value=r,s.getSnapshot=t,C_(s)&&i({inst:s})},[e,r,t]),aee(function(){return C_(s)&&i({inst:s}),e(function(){C_(s)&&i({inst:s})})},[e]),lee(r),r}function C_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!see(e,r)}catch{return!0}}function uee(e,t){return t()}var dee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uee:cee;gL.useSyncExternalStore=Jd.useSyncExternalStore!==void 0?Jd.useSyncExternalStore:dee;mL.exports=gL;var vL=mL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=p,fee=vL;function hee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pee=typeof Object.is=="function"?Object.is:hee,mee=fee.useSyncExternalStore,gee=C0.useRef,vee=C0.useEffect,xee=C0.useMemo,yee=C0.useDebugValue;pL.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=gee(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=xee(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var v=a.value;if(s(v,m))return f=v}return f=m}if(v=f,pee(d,m))return v;var g=n(m);return s!==void 0&&s(v,g)?(d=m,v):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=mee(e,i[0],i[1]);return vee(function(){a.hasValue=!0,a.value=l},[l]),yee(l),l};hL.exports=pL;var xL=hL.exports;const bee=ti(xL),yL={},{useDebugValue:wee}=Ie,{useSyncExternalStoreWithSelector:_ee}=bee;let oT=!1;const jee=e=>e;function See(e,t=jee,r){(yL?"production":void 0)!=="production"&&r&&!oT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),oT=!0);const n=_ee(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return wee(n),n}const lT=e=>{(yL?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ree(e):e,r=(n,s)=>See(t,n,s);return Object.assign(r,t),r},Nee=e=>e?lT(e):lT;function bL(e,t){return function(){return e.apply(t,arguments)}}const{toString:Eee}=Object.prototype,{getPrototypeOf:qk}=Object,{iterator:P0,toStringTag:wL}=Symbol,A0=(e=>t=>{const r=Eee.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mi=e=>(e=e.toLowerCase(),t=>A0(t)===e),O0=e=>t=>typeof t===e,{isArray:Nf}=Array,Zd=O0("undefined");function km(e){return e!==null&&!Zd(e)&&e.constructor!==null&&!Zd(e.constructor)&&Zn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _L=Mi("ArrayBuffer");function kee(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_L(e.buffer),t}const Cee=O0("string"),Zn=O0("function"),jL=O0("number"),Cm=e=>e!==null&&typeof e=="object",Pee=e=>e===!0||e===!1,Av=e=>{if(A0(e)!=="object")return!1;const t=qk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(wL in e)&&!(P0 in e)},Aee=e=>{if(!Cm(e)||km(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Oee=Mi("Date"),Tee=Mi("File"),Ree=Mi("Blob"),Iee=Mi("FileList"),Dee=e=>Cm(e)&&Zn(e.pipe),Mee=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zn(e.append)&&((t=A0(e))==="formdata"||t==="object"&&Zn(e.toString)&&e.toString()==="[object FormData]"))},$ee=Mi("URLSearchParams"),[Lee,Fee,Uee,zee]=["ReadableStream","Request","Response","Headers"].map(Mi),Bee=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Nf(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(km(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(n=0;n<a;n++)l=i[n],t.call(null,e[l],l,e)}}function SL(e,t){if(km(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const wc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,NL=e=>!Zd(e)&&e!==wc;function cS(){const{caseless:e,skipUndefined:t}=NL(this)&&this||{},r={},n=(s,i)=>{const a=e&&SL(r,i)||i;Av(r[a])&&Av(s)?r[a]=cS(r[a],s):Av(s)?r[a]=cS({},s):Nf(s)?r[a]=s.slice():(!t||!Zd(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Pm(arguments[s],n);return r}const Vee=(e,t,r,{allOwnKeys:n}={})=>(Pm(t,(s,i)=>{r&&Zn(s)?e[i]=bL(s,r):e[i]=s},{allOwnKeys:n}),e),Wee=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),qee=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Hee=(e,t,r,n)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!n||n(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=r!==!1&&qk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Kee=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Gee=e=>{if(!e)return null;if(Nf(e))return e;let t=e.length;if(!jL(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Yee=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qk(Uint8Array)),Xee=(e,t)=>{const n=(e&&e[P0]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Qee=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Jee=Mi("HTMLFormElement"),Zee=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),cT=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ete=Mi("RegExp"),EL=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Pm(r,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(n[i]=a||s)}),Object.defineProperties(e,n)},tte=e=>{EL(e,(t,r)=>{if(Zn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},rte=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Nf(e)?n(e):n(String(e).split(t)),r},nte=()=>{},ste=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ite(e){return!!(e&&Zn(e.append)&&e[wL]==="FormData"&&e[P0])}const ate=e=>{const t=new Array(10),r=(n,s)=>{if(Cm(n)){if(t.indexOf(n)>=0)return;if(km(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Nf(n)?[]:{};return Pm(n,(a,l)=>{const c=r(a,s+1);!Zd(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},ote=Mi("AsyncFunction"),lte=e=>e&&(Cm(e)||Zn(e))&&Zn(e.then)&&Zn(e.catch),kL=((e,t)=>e?setImmediate:t?((r,n)=>(wc.addEventListener("message",({source:s,data:i})=>{s===wc&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),wc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zn(wc.postMessage)),cte=typeof queueMicrotask<"u"?queueMicrotask.bind(wc):typeof process<"u"&&process.nextTick||kL,ute=e=>e!=null&&Zn(e[P0]),B={isArray:Nf,isArrayBuffer:_L,isBuffer:km,isFormData:Mee,isArrayBufferView:kee,isString:Cee,isNumber:jL,isBoolean:Pee,isObject:Cm,isPlainObject:Av,isEmptyObject:Aee,isReadableStream:Lee,isRequest:Fee,isResponse:Uee,isHeaders:zee,isUndefined:Zd,isDate:Oee,isFile:Tee,isBlob:Ree,isRegExp:ete,isFunction:Zn,isStream:Dee,isURLSearchParams:$ee,isTypedArray:Yee,isFileList:Iee,forEach:Pm,merge:cS,extend:Vee,trim:Bee,stripBOM:Wee,inherits:qee,toFlatObject:Hee,kindOf:A0,kindOfTest:Mi,endsWith:Kee,toArray:Gee,forEachEntry:Xee,matchAll:Qee,isHTMLForm:Jee,hasOwnProperty:cT,hasOwnProp:cT,reduceDescriptors:EL,freezeMethods:tte,toObjectSet:rte,toCamelCase:Zee,noop:nte,toFiniteNumber:ste,findKey:SL,global:wc,isContextDefined:NL,isSpecCompliantForm:ite,toJSONObject:ate,isAsyncFn:ote,isThenable:lte,setImmediate:kL,asap:cte,isIterable:ute};function qe(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}B.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const CL=qe.prototype,PL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{PL[e]={value:e}});Object.defineProperties(qe,PL);Object.defineProperty(CL,"isAxiosError",{value:!0});qe.from=(e,t,r,n,s,i)=>{const a=Object.create(CL);B.toFlatObject(e,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return qe.call(a,l,c,r,n,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const dte=null;function uS(e){return B.isPlainObject(e)||B.isArray(e)}function AL(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function uT(e,t,r){return e?e.concat(t).map(function(s,i){return s=AL(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function fte(e){return B.isArray(e)&&!e.some(uS)}const hte=B.toFlatObject(B,{},null,function(t){return/^is[A-Z]/.test(t)});function T0(e,t,r){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!B.isUndefined(x[g])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(B.isDate(v))return v.toISOString();if(B.isBoolean(v))return v.toString();if(!c&&B.isBlob(v))throw new qe("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(v)||B.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,g,x){let y=v;if(v&&!x&&typeof v=="object"){if(B.endsWith(g,"{}"))g=n?g:g.slice(0,-2),v=JSON.stringify(v);else if(B.isArray(v)&&fte(v)||(B.isFileList(v)||B.endsWith(g,"[]"))&&(y=B.toArray(v)))return g=AL(g),y.forEach(function(b,_){!(B.isUndefined(b)||b===null)&&t.append(a===!0?uT([g],_,i):a===null?g:g+"[]",u(b))}),!1}return uS(v)?!0:(t.append(uT(x,g,i),u(v)),!1)}const f=[],h=Object.assign(hte,{defaultVisitor:d,convertValue:u,isVisitable:uS});function m(v,g){if(!B.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),B.forEach(v,function(y,w){(!(B.isUndefined(y)||y===null)&&s.call(t,y,B.isString(w)?w.trim():w,g,h))===!0&&m(y,g?g.concat(w):[w])}),f.pop()}}if(!B.isObject(e))throw new TypeError("data must be an object");return m(e),t}function dT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Hk(e,t){this._pairs=[],e&&T0(e,this,t)}const OL=Hk.prototype;OL.append=function(t,r){this._pairs.push([t,r])};OL.toString=function(t){const r=t?function(n){return t.call(this,n,dT)}:dT;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function pte(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function TL(e,t,r){if(!t)return e;const n=r&&r.encode||pte;B.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=B.isURLSearchParams(t)?t.toString():new Hk(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class fT{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,function(n){n!==null&&t(n)})}}const RL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mte=typeof URLSearchParams<"u"?URLSearchParams:Hk,gte=typeof FormData<"u"?FormData:null,vte=typeof Blob<"u"?Blob:null,xte={isBrowser:!0,classes:{URLSearchParams:mte,FormData:gte,Blob:vte},protocols:["http","https","file","blob","url","data"]},Kk=typeof window<"u"&&typeof document<"u",dS=typeof navigator=="object"&&navigator||void 0,yte=Kk&&(!dS||["ReactNative","NativeScript","NS"].indexOf(dS.product)<0),bte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wte=Kk&&window.location.href||"http://localhost",_te=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kk,hasStandardBrowserEnv:yte,hasStandardBrowserWebWorkerEnv:bte,navigator:dS,origin:wte},Symbol.toStringTag,{value:"Module"})),fn={..._te,...xte};function jte(e,t){return T0(e,new fn.classes.URLSearchParams,{visitor:function(r,n,s,i){return fn.isNode&&B.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Ste(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Nte(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function IL(e){function t(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=r.length;return a=!a&&B.isArray(s)?s.length:a,c?(B.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!B.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],i)&&B.isArray(s[a])&&(s[a]=Nte(s[a])),!l)}if(B.isFormData(e)&&B.isFunction(e.entries)){const r={};return B.forEachEntry(e,(n,s)=>{t(Ste(n),s,r,0)}),r}return null}function Ete(e,t,r){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Am={transitional:RL,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=B.isObject(t);if(i&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return s?JSON.stringify(IL(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t)||B.isReadableStream(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return jte(t,this.formSerializer).toString();if((l=B.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return T0(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Ete(t)):t}],transformResponse:[function(t){const r=this.transitional||Am.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(B.isResponse(t)||B.isReadableStream(t))return t;if(t&&B.isString(t)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?qe.from(l,qe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],e=>{Am.headers[e]={}});const kte=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cte=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&kte[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},hT=Symbol("internals");function uh(e){return e&&String(e).trim().toLowerCase()}function Ov(e){return e===!1||e==null?e:B.isArray(e)?e.map(Ov):String(e)}function Pte(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Ate=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function P_(e,t,r,n,s){if(B.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!B.isString(t)){if(B.isString(n))return t.indexOf(n)!==-1;if(B.isRegExp(n))return n.test(t)}}function Ote(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Tte(e,t){const r=B.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,a){return this[n].call(this,t,s,i,a)},configurable:!0})})}let es=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=uh(c);if(!d)throw new Error("header name must be a non-empty string");const f=B.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ov(l))}const a=(l,c)=>B.forEach(l,(u,d)=>i(u,d,c));if(B.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(B.isString(t)&&(t=t.trim())&&!Ate(t))a(Cte(t),r);else if(B.isObject(t)&&B.isIterable(t)){let l={},c,u;for(const d of t){if(!B.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?B.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=uh(t),t){const n=B.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return Pte(s);if(B.isFunction(r))return r.call(this,s,n);if(B.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=uh(t),t){const n=B.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||P_(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(a){if(a=uh(a),a){const l=B.findKey(n,a);l&&(!r||P_(n,n[l],l,r))&&(delete n[l],s=!0)}}return B.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||P_(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return B.forEach(this,(s,i)=>{const a=B.findKey(n,i);if(a){r[a]=Ov(s),delete r[i];return}const l=t?Ote(i):String(i).trim();l!==i&&delete r[i],r[l]=Ov(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return B.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&B.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[hT]=this[hT]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=uh(a);n[l]||(Tte(s,a),n[l]=!0)}return B.isArray(t)?t.forEach(i):i(t),this}};es.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(es.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});B.freezeMethods(es);function A_(e,t){const r=this||Am,n=t||r,s=es.from(n.headers);let i=n.data;return B.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function DL(e){return!!(e&&e.__CANCEL__)}function Ef(e,t,r){qe.call(this,e??"canceled",qe.ERR_CANCELED,t,r),this.name="CanceledError"}B.inherits(Ef,qe,{__CANCEL__:!0});function ML(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new qe("Request failed with status code "+r.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Rte(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ite(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];a||(a=u),r[s]=c,n[s]=u;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function Dte(e,t){let r=0,n=1e3/t,s,i;const a=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},n-f)))},()=>s&&a(s)]}const Dx=(e,t,r=3)=>{let n=0;const s=Ite(50,250);return Dte(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-n,u=s(c),d=a<=l;n=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},pT=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},mT=e=>(...t)=>B.asap(()=>e(...t)),Mte=fn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,fn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(fn.origin),fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent)):()=>!0,$te=fn.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const a=[e+"="+encodeURIComponent(t)];B.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),B.isString(n)&&a.push("path="+n),B.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Lte(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fte(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $L(e,t,r){let n=!Lte(t);return e&&(n||r==!1)?Fte(e,t):t}const gT=e=>e instanceof es?{...e}:e;function au(e,t){t=t||{};const r={};function n(u,d,f,h){return B.isPlainObject(u)&&B.isPlainObject(d)?B.merge.call({caseless:h},u,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function s(u,d,f,h){if(B.isUndefined(d)){if(!B.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!B.isUndefined(d))return n(void 0,d)}function a(u,d){if(B.isUndefined(d)){if(!B.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(gT(u),gT(d),f,!0)};return B.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);B.isUndefined(h)&&f!==l||(r[d]=h)}),r}const LL=e=>{const t=au({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=es.from(a),t.url=TL($L(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),B.isFormData(r)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(B.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(fn.hasStandardBrowserEnv&&(n&&B.isFunction(n)&&(n=n(t)),n||n!==!1&&Mte(t.url))){const c=s&&i&&$te.read(i);c&&a.set(s,c)}return t},Ute=typeof XMLHttpRequest<"u",zte=Ute&&function(e){return new Promise(function(r,n){const s=LL(e);let i=s.data;const a=es.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,m,v;function g(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function y(){if(!x)return;const b=es.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};ML(function(N){r(N),g()},function(N){n(N),g()},j),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(n(new qe("Request aborted",qe.ECONNABORTED,e,x)),x=null)},x.onerror=function(_){const j=_&&_.message?_.message:"Network Error",S=new qe(j,qe.ERR_NETWORK,e,x);S.event=_||null,n(S),x=null},x.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||RL;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new qe(_,j.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,e,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&B.forEach(a.toJSON(),function(_,j){x.setRequestHeader(j,_)}),B.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),u&&([h,v]=Dx(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,m]=Dx(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=b=>{x&&(n(!b||b.type?new Ef(null,e,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const w=Rte(s.url);if(w&&fn.protocols.indexOf(w)===-1){n(new qe("Unsupported protocol "+w+":",qe.ERR_BAD_REQUEST,e));return}x.send(i||null)})},Bte=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof qe?d:new Ef(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>B.asap(l),c}},Vte=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Wte=async function*(e,t){for await(const r of qte(e))yield*Vte(r,t)},qte=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},vT=(e,t,r,n)=>{const s=Wte(e,t);let i=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},xT=64*1024,{isFunction:Ng}=B,Hte=(({Request:e,Response:t})=>({Request:e,Response:t}))(B.global),{ReadableStream:yT,TextEncoder:bT}=B.global,wT=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Kte=e=>{e=B.merge.call({skipUndefined:!0},Hte,e);const{fetch:t,Request:r,Response:n}=e,s=t?Ng(t):typeof fetch=="function",i=Ng(r),a=Ng(n);if(!s)return!1;const l=s&&Ng(yT),c=s&&(typeof bT=="function"?(v=>g=>v.encode(g))(new bT):async v=>new Uint8Array(await new r(v).arrayBuffer())),u=i&&l&&wT(()=>{let v=!1;const g=new r(fn.origin,{body:new yT,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),d=a&&l&&wT(()=>B.isReadableStream(new n("").body)),f={stream:d&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(g,x)=>{let y=g&&g[v];if(y)return y.call(g);throw new qe(`Response type '${v}' is not supported`,qe.ERR_NOT_SUPPORT,x)})});const h=async v=>{if(v==null)return 0;if(B.isBlob(v))return v.size;if(B.isSpecCompliantForm(v))return(await new r(fn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(B.isArrayBufferView(v)||B.isArrayBuffer(v))return v.byteLength;if(B.isURLSearchParams(v)&&(v=v+""),B.isString(v))return(await c(v)).byteLength},m=async(v,g)=>{const x=B.toFiniteNumber(v.getContentLength());return x??h(g)};return async v=>{let{url:g,method:x,data:y,signal:w,cancelToken:b,timeout:_,onDownloadProgress:j,onUploadProgress:S,responseType:N,headers:E,withCredentials:A="same-origin",fetchOptions:P}=LL(v),C=t||fetch;N=N?(N+"").toLowerCase():"text";let k=Bte([w,b&&b.toAbortSignal()],_),D=null;const T=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let L;try{if(S&&u&&x!=="get"&&x!=="head"&&(L=await m(E,y))!==0){let J=new r(g,{method:"POST",body:y,duplex:"half"}),ee;if(B.isFormData(y)&&(ee=J.headers.get("content-type"))&&E.setContentType(ee),J.body){const[Ee,je]=pT(L,Dx(mT(S)));y=vT(J.body,xT,Ee,je)}}B.isString(A)||(A=A?"include":"omit");const z=i&&"credentials"in r.prototype,X={...P,signal:k,method:x.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:z?A:void 0};D=i&&new r(g,X);let I=await(i?C(D,P):C(g,X));const M=d&&(N==="stream"||N==="response");if(d&&(j||M&&T)){const J={};["status","statusText","headers"].forEach(Fe=>{J[Fe]=I[Fe]});const ee=B.toFiniteNumber(I.headers.get("content-length")),[Ee,je]=j&&pT(ee,Dx(mT(j),!0))||[];I=new n(vT(I.body,xT,Ee,()=>{je&&je(),T&&T()}),J)}N=N||"text";let Q=await f[B.findKey(f,N)||"text"](I,v);return!M&&T&&T(),await new Promise((J,ee)=>{ML(J,ee,{data:Q,headers:es.from(I.headers),status:I.status,statusText:I.statusText,config:v,request:D})})}catch(z){throw T&&T(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,v,D),{cause:z.cause||z}):qe.from(z,z&&z.code,v,D)}}},Gte=new Map,FL=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let a=i.length,l=a,c,u,d=Gte;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Kte(t)),d=u;return u};FL();const fS={http:dte,xhr:zte,fetch:{get:FL}};B.forEach(fS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _T=e=>`- ${e}`,Yte=e=>B.isFunction(e)||e===null||e===!1,UL={getAdapter:(e,t)=>{e=B.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let a=0;a<r;a++){n=e[a];let l;if(s=n,!Yte(n)&&(s=fS[(l=String(n)).toLowerCase()],s===void 0))throw new qe(`Unknown adapter '${l}'`);if(s&&(B.isFunction(s)||(s=s.get(t))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(_T).join(`
`):" "+_T(a[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:fS};function O_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ef(null,e)}function jT(e){return O_(e),e.headers=es.from(e.headers),e.data=A_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),UL.getAdapter(e.adapter||Am.adapter,e)(e).then(function(n){return O_(e),n.data=A_.call(e,e.transformResponse,n),n.headers=es.from(n.headers),n},function(n){return DL(n)||(O_(e),n&&n.response&&(n.response.data=A_.call(e,e.transformResponse,n.response),n.response.headers=es.from(n.response.headers))),Promise.reject(n)})}const zL="1.12.2",R0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{R0[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ST={};R0.transitional=function(t,r,n){function s(i,a){return"[Axios v"+zL+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(t===!1)throw new qe(s(a," has been removed"+(r?" in "+r:"")),qe.ERR_DEPRECATED);return r&&!ST[a]&&(ST[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,l):!0}};R0.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Xte(e,t,r){if(typeof e!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new qe("option "+i+" must be "+c,qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qe("Unknown option "+i,qe.ERR_BAD_OPTION)}}const Tv={assertOptions:Xte,validators:R0},zi=Tv.validators;let Uc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new fT,response:new fT}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=au(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Tv.assertOptions(n,{silentJSONParsing:zi.transitional(zi.boolean),forcedJSONParsing:zi.transitional(zi.boolean),clarifyTimeoutError:zi.transitional(zi.boolean)},!1),s!=null&&(B.isFunction(s)?r.paramsSerializer={serialize:s}:Tv.assertOptions(s,{encode:zi.function,serialize:zi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tv.assertOptions(r,{baseUrl:zi.spelling("baseURL"),withXsrfToken:zi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&B.merge(i.common,i[r.method]);i&&B.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=es.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const v=[jT.bind(this),void 0];for(v.unshift(...l),v.push(...u),h=v.length,d=Promise.resolve(r);f<h;)d=d.then(v[f++],v[f++]);return d}h=l.length;let m=r;for(;f<h;){const v=l[f++],g=l[f++];try{m=v(m)}catch(x){g.call(this,x);break}}try{d=jT.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=au(this.defaults,t);const r=$L(t.baseURL,t.url,t.allowAbsoluteUrls);return TL(r,t.params,t.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(t){Uc.prototype[t]=function(r,n){return this.request(au(n||{},{method:t,url:r,data:(n||{}).data}))}});B.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,l){return this.request(au(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Uc.prototype[t]=r(),Uc.prototype[t+"Form"]=r(!0)});let Qte=class BL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,l){n.reason||(n.reason=new Ef(i,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new BL(function(s){t=s}),cancel:t}}};function Jte(e){return function(r){return e.apply(null,r)}}function Zte(e){return B.isObject(e)&&e.isAxiosError===!0}const hS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hS).forEach(([e,t])=>{hS[t]=e});function VL(e){const t=new Uc(e),r=bL(Uc.prototype.request,t);return B.extend(r,Uc.prototype,t,{allOwnKeys:!0}),B.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return VL(au(e,s))},r}const er=VL(Am);er.Axios=Uc;er.CanceledError=Ef;er.CancelToken=Qte;er.isCancel=DL;er.VERSION=zL;er.toFormData=T0;er.AxiosError=qe;er.Cancel=er.CanceledError;er.all=function(t){return Promise.all(t)};er.spread=Jte;er.isAxiosError=Zte;er.mergeConfig=au;er.AxiosHeaders=es;er.formToJSON=e=>IL(B.isHTMLForm(e)?new FormData(e):e);er.getAdapter=UL.getAdapter;er.HttpStatusCode=hS;er.default=er;const{Axios:qOe,AxiosError:HOe,CanceledError:KOe,isCancel:GOe,CancelToken:YOe,VERSION:XOe,all:QOe,Cancel:JOe,isAxiosError:ZOe,spread:eTe,toFormData:tTe,AxiosHeaders:rTe,HttpStatusCode:nTe,formToJSON:sTe,getAdapter:iTe,mergeConfig:aTe}=er;class ere{constructor(){ig(this,"client");this.client=er.create({baseURL:"https://restaurantiq.us",timeout:6e5,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}async login(t){console.log(" API Service: Making login request to",this.client.defaults.baseURL+"/api/v1/auth/login");const r=await this.client.post("/api/v1/auth/login",t);return console.log(" API Service: Login response received",r.status),r.data}async register(t){return(await this.client.post("/api/v1/auth/register",t)).data}async logout(){await this.client.post("/api/v1/auth/logout")}async getProfile(){return(await this.client.get("/api/v1/auth/me")).data}async createReviewAnalysis(t){console.log(" FRONTEND API: Starting analysis request"),console.log(" FRONTEND API: Request data:",JSON.stringify(t,null,2)),console.log(" FRONTEND API: Target URL:",this.client.defaults.baseURL+"/api/v1/analysis/run");const r=Date.now();try{const n=await this.client.post("/api/v1/analysis/run",{...t,analysis_type:"review"}),s=Date.now()-r;return console.log(" FRONTEND API: Analysis request successful"),console.log(" FRONTEND API: Response status:",n.status),console.log(" FRONTEND API: Response time:",s+"ms"),console.log(" FRONTEND API: Response headers:",JSON.stringify(n.headers,null,2)),console.log(" FRONTEND API: Response data:",JSON.stringify(n.data,null,2)),n.data}catch(n){const s=Date.now()-r;throw console.error(" FRONTEND API: Analysis request failed"),console.error(" FRONTEND API: Error after:",s+"ms"),console.error(" FRONTEND API: Error details:",n),n}}async getAnalysisStatus(t){return(await this.client.get(`/api/v1/analysis/${t}/status`)).data}async getReviewAnalysisResults(t){return(await this.client.get(`/api/v1/analysis/${t}`)).data}setupInterceptors(){this.client.interceptors.response.use(t=>t,async t=>{var a,l,c,u,d,f,h;const r=t.config,n=(a=r.url)==null?void 0:a.includes("/auth/");if(((l=t.response)==null?void 0:l.status)===401&&!r._retry&&!n){r._retry=!0;try{return await this.client.post("/api/v1/auth/refresh"),this.client(r)}catch(m){return window.location.href="/login",Promise.reject(m)}}((c=t.response)==null?void 0:c.status)===401&&n&&!((u=r.url)!=null&&u.includes("/login"))&&!((d=r.url)!=null&&d.includes("/register"))&&(window.location.href="/login");const s=(h=(f=t.response)==null?void 0:f.data)==null?void 0:h.code,i=this.getErrorMessage(s);throw console.error("API Error:",t),new Error(i)})}getErrorMessage(t){const r={ANALYSIS_NO_COMPETITORS:"No competitors found in this area. Try expanding your search radius.",ANALYSIS_QUOTA_EXCEEDED:"Monthly analysis limit reached. Upgrade to continue analyzing.",GOOGLE_PLACES_QUOTA:"Service temporarily busy. Please try again in a few minutes.",REVIEW_FETCH_FAILED:"Unable to fetch competitor reviews. Please try again.",AUTH_TOKEN_EXPIRED:"Session expired. Please log in again.",AUTH_INVALID_CREDENTIALS:"Invalid email or password.",AUTH_USER_EXISTS:"An account with this email already exists.",AUTH_WEAK_PASSWORD:"Password must be at least 8 characters with special characters.",NETWORK_ERROR:"Connection problem. Check internet and retry.",SERVER_ERROR:"Service temporarily unavailable. We're working on it."};return r[t]||r.SERVER_ERROR}}const _c=new ere,go=Nee(e=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,subscriptionTier:"free",login:async t=>{try{console.log(" Login attempt started",{email:t.email}),e({isLoading:!0,error:null});const r=await _c.login(t);console.log(" Login successful, cookies set by backend"),e({user:r.user,isAuthenticated:!0,subscriptionTier:r.user.subscription_tier,isLoading:!1,error:null})}catch(r){throw console.error(" Login failed",r),e({user:null,isAuthenticated:!1,isLoading:!1,error:r instanceof Error?r.message:"Login failed"}),r}},register:async t=>{try{e({isLoading:!0,error:null});const r=await _c.register(t),n="user"in r?r.user:r;e({user:n,isAuthenticated:!0,subscriptionTier:n.subscription_tier,isLoading:!1})}catch(r){throw e({isLoading:!1,error:r instanceof Error?r.message:"Registration failed"}),r}},logout:async()=>{e({user:null,isAuthenticated:!1,subscriptionTier:"free",isLoading:!1,error:null});try{await _c.logout()}catch{}},checkAuth:async()=>{try{e({isLoading:!0});const t=await _c.getProfile();e({user:t,isAuthenticated:!0,subscriptionTier:t.subscription_tier,isLoading:!1})}catch{e({user:null,isAuthenticated:!1,subscriptionTier:"free",isLoading:!1})}},clearError:()=>{e({error:null})}}));function WL(e,t="login"){var i,a,l,c,u;const r=(i=e==null?void 0:e.response)==null?void 0:i.status,n=((l=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:l.detail)||((u=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:u.message)||(e==null?void 0:e.message)||"",s=n.toLowerCase();if(t==="login"){if(r===401||s.includes("invalid credentials")||s.includes("incorrect password")||s.includes("wrong password"))return{title:"Invalid Credentials",description:"The email or password you entered is incorrect. Please try again."};if(r===404||s.includes("not found")||s.includes("no account")||s.includes("user does not exist"))return{title:"Account Not Found",description:"No account exists with this email address. Would you like to create one?"};if(r===423||s.includes("locked")||s.includes("suspended")||s.includes("disabled"))return{title:"Account Locked",description:"Your account has been temporarily locked. Please contact support for assistance."}}if(t==="register"){if(r===409||s.includes("already exists")||s.includes("email taken")||s.includes("already registered"))return{title:"Email Already Registered",description:"An account with this email already exists. Try logging in instead."};if(r===422||s.includes("invalid email")||s.includes("email format"))return{title:"Invalid Email",description:"Please enter a valid email address."};if(s.includes("password")&&(s.includes("weak")||s.includes("too short")||s.includes("must contain")))return{title:"Weak Password",description:"Password must be at least 8 characters and include a special character."}}return r===429||s.includes("too many")||s.includes("rate limit")?{title:"Too Many Attempts",description:`Too many ${t} attempts. Please wait a few minutes and try again.`}:r&&r>=500?{title:"Server Error",description:"Our servers are experiencing issues. Please try again in a few moments."}:s.includes("network")||s.includes("fetch")||s.includes("connection")||r===0?{title:"Connection Error",description:"Unable to connect to the server. Please check your internet connection."}:s.includes("timeout")||s.includes("timed out")?{title:"Request Timeout",description:"The request took too long. Please try again."}:{title:t==="login"?"Login Failed":"Registration Failed",description:n||`Unable to ${t==="login"?"sign in":"create account"}. Please try again.`}}function qL(e,t){var i,a,l,c,u;const r=(i=e==null?void 0:e.response)==null?void 0:i.status,n=((l=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:l.detail)||((u=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:u.message)||(e==null?void 0:e.message)||"",s=n.toLowerCase();return s.includes("network")||s.includes("fetch")||s.includes("connection")||r===0?{title:"Connection Error",description:`Unable to load ${t}. Please check your internet connection and try again.`}:r===401?{title:"Login Required",description:`Please log in to view ${t}.`}:r===403?{title:"Access Denied",description:`You don't have permission to view this ${t}.`}:r===404?{title:`${t.charAt(0).toUpperCase()+t.slice(1)} Not Found`,description:`The ${t} you're looking for doesn't exist or has been deleted.`}:r&&r>=500?{title:"Server Error",description:`Unable to load ${t} right now. Our servers are experiencing issues. Please try again in a moment.`}:s.includes("timeout")||s.includes("timed out")?{title:"Request Timeout",description:`Loading ${t} is taking too long. Please try again.`}:{title:`Unable to Load ${t.charAt(0).toUpperCase()+t.slice(1)}`,description:n||`Failed to load ${t}. Please try again or contact support if the problem persists.`}}function HL(e,t){var i,a,l,c,u;const r=(i=e==null?void 0:e.response)==null?void 0:i.status,n=((l=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:l.detail)||((u=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:u.message)||(e==null?void 0:e.message)||"",s=n.toLowerCase();return r===409||s.includes("in use")||s.includes("referenced")||s.includes("linked")?{title:`Cannot Delete ${t.charAt(0).toUpperCase()+t.slice(1)}`,description:n||`This ${t} is currently in use. Remove any links or references before deleting.`}:r===403?{title:"Permission Denied",description:`You don't have permission to delete this ${t}.`}:r===404?{title:`${t.charAt(0).toUpperCase()+t.slice(1)} Not Found`,description:`The ${t} may have already been deleted or doesn't exist.`}:r&&r>=500?{title:"Server Error",description:`Unable to delete ${t} right now. Please try again in a moment.`}:s.includes("network")||s.includes("fetch")||r===0?{title:"Connection Error",description:"Delete failed due to connection issues. Please check your internet and try again."}:{title:"Delete Failed",description:n||`Unable to delete ${t}. Please try again or contact support.`}}var pS=function(e,t){return pS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},pS(e,t)};function KL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Bs=function(){return Bs=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Bs.apply(this,arguments)};function ql(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function GL(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function YL(e,t){return function(r,n){t(r,n,e)}}function XL(e,t,r,n,s,i){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var v={};for(var g in n)v[g]=g==="access"?{}:n[g];for(var g in n.access)v.access[g]=n.access[g];v.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(y||null))};var x=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],v);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=a(x.get))&&(d.get=f),(f=a(x.set))&&(d.set=f),(f=a(x.init))&&s.unshift(f)}else(f=a(x))&&(l==="field"?s.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function QL(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function JL(e){return typeof e=="symbol"?e:"".concat(e)}function ZL(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function eF(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ge(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function tF(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var I0=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function rF(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&I0(t,e,r)}function Mx(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gk(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function nF(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gk(arguments[t]));return e}function sF(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function Yk(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ef(e){return this instanceof ef?(this.v=e,this):new ef(e)}function iF(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(m){return function(v){return Promise.resolve(v).then(m,f)}}function l(m,v){n[m]&&(s[m]=function(g){return new Promise(function(x,y){i.push([m,g,x,y])>1||c(m,g)})},v&&(s[m]=v(s[m])))}function c(m,v){try{u(n[m](v))}catch(g){h(i[0][3],g)}}function u(m){m.value instanceof ef?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,v){m(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function aF(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:ef(e[s](a)),done:!1}:i?i(a):a}:i}}function oF(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Mx=="function"?Mx(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,c){a=e[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function lF(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var tre=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},mS=function(e){return mS=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},mS(e)};function cF(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=mS(e),n=0;n<r.length;n++)r[n]!=="default"&&I0(t,e,r[n]);return tre(t,e),t}function uF(e){return e&&e.__esModule?e:{default:e}}function dF(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function fF(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function hF(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function pF(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var rre=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function mF(e){function t(i){e.error=e.hasError?new rre(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function gF(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const nre={__extends:KL,__assign:Bs,__rest:ql,__decorate:GL,__param:YL,__esDecorate:XL,__runInitializers:QL,__propKey:JL,__setFunctionName:ZL,__metadata:eF,__awaiter:ge,__generator:tF,__createBinding:I0,__exportStar:rF,__values:Mx,__read:Gk,__spread:nF,__spreadArrays:sF,__spreadArray:Yk,__await:ef,__asyncGenerator:iF,__asyncDelegator:aF,__asyncValues:oF,__makeTemplateObject:lF,__importStar:cF,__importDefault:uF,__classPrivateFieldGet:dF,__classPrivateFieldSet:fF,__classPrivateFieldIn:hF,__addDisposableResource:pF,__disposeResources:mF,__rewriteRelativeImportExtension:gF},sre=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pF,get __assign(){return Bs},__asyncDelegator:aF,__asyncGenerator:iF,__asyncValues:oF,__await:ef,__awaiter:ge,__classPrivateFieldGet:dF,__classPrivateFieldIn:hF,__classPrivateFieldSet:fF,__createBinding:I0,__decorate:GL,__disposeResources:mF,__esDecorate:XL,__exportStar:rF,__extends:KL,__generator:tF,__importDefault:uF,__importStar:cF,__makeTemplateObject:lF,__metadata:eF,__param:YL,__propKey:JL,__read:Gk,__rest:ql,__rewriteRelativeImportExtension:gF,__runInitializers:QL,__setFunctionName:ZL,__spread:nF,__spreadArray:Yk,__spreadArrays:sF,__values:Mx,default:nre},Symbol.toStringTag,{value:"Module"})),ire=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Xk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class NT extends Xk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ET extends Xk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kT extends Xk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gS||(gS={}));class are{constructor(t,{headers:r={},customFetch:n,region:s=gS.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=ire(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ge(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:a,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new NT(y)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new ET(m);if(!m.ok)throw new kT(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield m.json():g==="application/octet-stream"||g==="application/pdf"?x=yield m.blob():g==="text/event-stream"?x=m:g==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new NT(i)}:{data:null,error:i,response:i instanceof kT||i instanceof ET?i.context:void 0}}})}}var _n={};const kf=lK(sre);var Eg={},kg={},Cg={},Pg={},Ag={},Og={},CT;function vF(){if(CT)return Og;CT=1,Object.defineProperty(Og,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Og.default=e,Og}var PT;function xF(){if(PT)return Ag;PT=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=kf.__importDefault(vF());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let m=null,v=null,g=null,x=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=j:v=JSON.parse(j))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&_&&_.length>1&&(g=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(m={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,g=null,x=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const b=await c.text();try{m=JSON.parse(b),Array.isArray(m)&&c.status===404&&(v=[],m=null,x=200,y="OK")}catch{c.status===404&&b===""?(x=204,y="No Content"):m={message:b}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,x=200,y="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:v,count:g,status:x,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Ag.default=r,Ag}var AT;function yF(){if(AT)return Pg;AT=1,Object.defineProperty(Pg,"__esModule",{value:!0});const t=kf.__importDefault(xF());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Pg.default=r,Pg}var OT;function Qk(){if(OT)return Cg;OT=1,Object.defineProperty(Cg,"__esModule",{value:!0});const t=kf.__importDefault(yF()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Cg.default=n,Cg}var TT;function bF(){if(TT)return kg;TT=1,Object.defineProperty(kg,"__esModule",{value:!0});const t=kf.__importDefault(Qk());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return kg.default=r,kg}var RT;function ore(){if(RT)return Eg;RT=1,Object.defineProperty(Eg,"__esModule",{value:!0});const e=kf,t=e.__importDefault(bF()),r=e.__importDefault(Qk());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{h.searchParams.append(g,x)})):(f="POST",m=a);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Eg.default=n,Eg}Object.defineProperty(_n,"__esModule",{value:!0});var wF=_n.PostgrestError=OF=_n.PostgrestBuilder=PF=_n.PostgrestTransformBuilder=kF=_n.PostgrestFilterBuilder=NF=_n.PostgrestQueryBuilder=jF=_n.PostgrestClient=void 0;const Cf=kf,_F=Cf.__importDefault(ore());var jF=_n.PostgrestClient=_F.default;const SF=Cf.__importDefault(bF());var NF=_n.PostgrestQueryBuilder=SF.default;const EF=Cf.__importDefault(Qk());var kF=_n.PostgrestFilterBuilder=EF.default;const CF=Cf.__importDefault(yF());var PF=_n.PostgrestTransformBuilder=CF.default;const AF=Cf.__importDefault(xF());var OF=_n.PostgrestBuilder=AF.default;const TF=Cf.__importDefault(vF());wF=_n.PostgrestError=TF.default;var RF=_n.default={PostgrestClient:_F.default,PostgrestQueryBuilder:SF.default,PostgrestFilterBuilder:EF.default,PostgrestTransformBuilder:CF.default,PostgrestBuilder:AF.default,PostgrestError:TF.default};const lre=BM({__proto__:null,get PostgrestBuilder(){return OF},get PostgrestClient(){return jF},get PostgrestError(){return wF},get PostgrestFilterBuilder(){return kF},get PostgrestQueryBuilder(){return NF},get PostgrestTransformBuilder(){return PF},default:RF},[_n]),{PostgrestClient:cre,PostgrestQueryBuilder:oTe,PostgrestFilterBuilder:lTe,PostgrestTransformBuilder:cTe,PostgrestBuilder:uTe,PostgrestError:dTe}=RF||lre;class ure{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const dre="2.79.0",fre=`realtime-js/${dre}`,hre="1.0.0",vS=1e4,pre=1e3,mre=100;var ip;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ip||(ip={}));var br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(br||(br={}));var mi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mi||(mi={}));var xS;(function(e){e.websocket="websocket"})(xS||(xS={}));var fc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fc||(fc={}));class gre{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class IF{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const IT=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=vre(a,e,t,s),i),{}):{}},vre=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?DF(i,a):yS(a)},DF=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wre(t,r)}switch(e){case kt.bool:return xre(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return yre(t);case kt.json:case kt.jsonb:return bre(t);case kt.timestamp:return _re(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return yS(t);default:return yS(t)}},yS=e=>e,xre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>DF(t,l))}return e},_re=e=>typeof e=="string"?e.replace(" ","T"):e,MF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class T_{constructor(t,r,n={},s=vS){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var DT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(DT||(DT={}));class ap{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ap.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=ap.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ap.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),v=d.filter(x=>m.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(MT||(MT={}));var op;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(op||(op={}));var ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class Jk{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new T_(this,mi.join,this.params,this.timeout),this.rejoinTimer=new IF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=br.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mi.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new ap(this),this.broadcastEndpointURL=MF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==br.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[op.PRESENCE]&&this.bindings[op.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ja.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(ja.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<x;w++){const b=g[w],{filter:{event:_,schema:j,table:S,filter:N}}=b,E=m&&m[w];if(E&&E.event===_&&E.schema===j&&E.table===S&&E.filter===N)y.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=br.errored,t==null||t(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ja.SUBSCRIBED);return}}).receive("error",m=>{this.state=br.errored,t==null||t(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===br.joined&&t===op.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=br.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new T_(this,mi.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=br.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new T_(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=mi;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,g,x,y,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(w=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:x,commit_timestamp:y,type:w,errors:b}=v;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===br.closed}_isJoined(){return this.state===br.joined}_isJoining(){return this.state===br.joining}_isLeaving(){return this.state===br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Jk.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mi.close,{},t)}_onError(t){this._on(mi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=IT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=IT(t.columns,t.old_record)),r}}const R_=()=>{},Tg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jre=[1e3,2e3,5e3,1e4],Sre=1e4,Nre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ere{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vS,this.transport=null,this.heartbeatIntervalMs=Tg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R_,this.ref=0,this.reconnectTimer=null,this.logger=R_,this.conn=null,this.sendBuffer=[],this.serializer=new gre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xS.websocket}`,this.httpEndpoint=MF(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ure.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hre}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ip.connecting:return fc.Connecting;case ip.open:return fc.Open;case ip.closing:return fc.Closing;default:return fc.Closed}}isConnected(){return this.connectionState()===fc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Jk(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Tg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Nre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:fre};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(mi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new IF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:vS,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Tg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:R_,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>jre[f-1]||Sre,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Zk extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kre extends Zk{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bS extends Zk{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const eC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cre=()=>Response,wS=e=>{if(Array.isArray(e))return e.map(r=>wS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=wS(n)}),t},Pre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},I_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Are=(e,t,r)=>ge(void 0,void 0,void 0,function*(){const n=yield Cre();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new kre(I_(s),i,a))}).catch(s=>{t(new bS(I_(s),s))}):t(new bS(I_(e),e))}),Ore=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Pre(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Om(e,t,r,n,s,i){return ge(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Ore(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Are(c,l,n))})})}function Up(e,t,r,n){return ge(this,void 0,void 0,function*(){return Om(e,"GET",t,r,n)})}function di(e,t,r,n,s){return ge(this,void 0,void 0,function*(){return Om(e,"POST",t,n,s,r)})}function _S(e,t,r,n,s){return ge(this,void 0,void 0,function*(){return Om(e,"PUT",t,n,s,r)})}function Tre(e,t,r,n){return ge(this,void 0,void 0,function*(){return Om(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function tC(e,t,r,n,s){return ge(this,void 0,void 0,function*(){return Om(e,"DELETE",t,n,s,r)})}class Rre{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}var $F;class Ire{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[$F]="BlobDownloadBuilder",this.promise=null}asStream(){return new Rre(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Bt(t))return{data:null,error:t};throw t}})}}$F=Symbol.toStringTag;const Dre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$T={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mre{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=eC(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return ge(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},$T),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?_S:di)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:$T.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield _S(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Bt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield di(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Zk("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield di(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield di(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ge(this,void 0,void 0,function*(){try{const s=yield di(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Up(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Ire(c,this.shouldThrowOnError)}info(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Up(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wS(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}exists(t){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Tre(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n)&&n instanceof bS){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ge(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Dre),r),{prefix:t||""});return{data:yield di(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}listV2(t,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield di(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const LF="2.79.0",FF={"X-Client-Info":`storage-js/${LF}`};class $re{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FF),r),this.fetch=eC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Up(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield Up(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}createBucket(t){return ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield _S(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Lre{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FF),r),this.fetch=eC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Up(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}}const rC={"X-Client-Info":`storage-js/${LF}`,"Content-Type":"application/json"};class UF extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ds(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class D_ extends UF{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fre extends UF{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var LT;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(LT||(LT={}));const nC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ure=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},FT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zre=(e,t,r)=>ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new D_(FT(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new D_(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new D_(l,s,a))}}else t(new Fre(FT(e),e))}),Bre=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Ure(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Vre(e,t,r,n,s,i){return ge(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Bre(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>zre(c,l,n))})})}function fs(e,t,r,n,s){return ge(this,void 0,void 0,function*(){return Vre(e,"POST",t,n,s,r)})}class Wre{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rC),r),this.fetch=nC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield fs(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ds(n))return{data:null,error:n};throw n}})}listIndexes(t){return ge(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ge(this,void 0,void 0,function*(){try{return{data:(yield fs(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ds(n))return{data:null,error:n};throw n}})}}class qre{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rC),r),this.fetch=nC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fs(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}getVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}listVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield fs(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}queryVectors(t){return ge(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fs(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}}class Hre{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rC),r),this.fetch=nC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield fs(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}getBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}listBuckets(){return ge(this,arguments,void 0,function*(t={}){try{return{data:yield fs(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ge(this,void 0,void 0,function*(){try{return{data:(yield fs(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ds(r))return{data:null,error:r};throw r}})}}class Kre extends Hre{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Gre(this.url,this.headers,t,this.fetch)}}class Gre extends Wre{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Yre(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Yre extends qre{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Xre extends $re{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Mre(this.url,this.headers,t,this.fetch)}get vectors(){return new Kre(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Lre(this.url+"/iceberg",this.headers,this.fetch)}}const Qre="2.79.0";let Dh="";typeof Deno<"u"?Dh="deno":typeof document<"u"?Dh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dh="react-native":Dh="node";const Jre={"X-Client-Info":`supabase-js-${Dh}/${Qre}`},Zre={headers:Jre},ene={schema:"public"},tne={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rne={},nne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sne=()=>Headers,ine=(e,t,r)=>{const n=nne(r),s=sne();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))}};function ane(e){return e.endsWith("/")?e:e+"/"}function one(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function lne(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ane(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zF="2.79.0",Yu=30*1e3,jS=3,M_=jS*Yu,cne="http://localhost:9999",une="supabase.auth.token",dne={"X-Client-Info":`gotrue-js/${zF}`},SS="X-Supabase-Api-Version",BF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hne=10*60*1e3;class zp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pne extends zp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mne(e){return Pe(e)&&e.name==="AuthApiError"}class hc extends zp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hl extends zp{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ai extends Hl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gne(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Iu extends Hl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rg extends Hl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ig extends Hl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vne(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class UT extends Hl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class NS extends Hl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $_(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class zT extends Hl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ES extends Hl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BT=` 	
\r=`.split(""),xne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<BT.length;t+=1)e[BT[t].charCodeAt(0)]=-2;for(let t=0;t<$x.length;t+=1)e[$x[t].charCodeAt(0)]=t;return e})();function VT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($x[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($x[n]),t.queuedBits-=6}}function VF(e,t,r){const n=xne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function WT(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{wne(a,n,r)};for(let a=0;a<e.length;a+=1)VF(e.charCodeAt(a),s,i);return t.join("")}function yne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bne(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}yne(n,t)}}function wne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wd(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)VF(e.charCodeAt(s),r,n);return new Uint8Array(t)}function _ne(e){const t=[];return bne(e,r=>t.push(r)),new Uint8Array(t)}function jc(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>VT(s,r,n)),VT(null,r,n),t.join("")}function jne(e){return Math.round(Date.now()/1e3)+e}function Sne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",ec={tested:!1,writable:!1},WF=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ec.tested)return ec.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ec.tested=!0,ec.writable=!0}catch{ec.tested=!0,ec.writable=!1}return ec.writable};function Nne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const qF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ene=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Po=async(e,t)=>{await e.removeItem(t)};class D0{constructor(){this.promise=new D0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}D0.promiseConstructor=Promise;function L_(e){const t=e.split(".");if(t.length!==3)throw new ES("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fne.test(t[n]))throw new ES("JWT not in base64url format");return{header:JSON.parse(WT(t[0])),payload:JSON.parse(WT(t[1])),signature:wd(t[2]),raw:{header:t[0],payload:t[1]}}}async function kne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cne(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Pne(e){return("0"+e.toString(16)).substr(-2)}function Ane(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Pne).join("")}async function One(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Tne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await One(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Du(e,t,r=!1){const n=Ane();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xu(e,`${t}-code-verifier`,s);const i=await Tne(n);return[i,n===i?"plain":"s256"]}const Rne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ine(e){const t=e.headers.get(SS);if(!t||!t.match(Rne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Dne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Mne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $ne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mu(e){if(!$ne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function F_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lne(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function qT(e){return JSON.parse(JSON.stringify(e))}const oc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fne=[502,503,504];async function HT(e){var t;if(!Ene(e))throw new NS(oc(e),0);if(Fne.includes(e.status))throw new NS(oc(e),e.status);let r;try{r=await e.json()}catch(i){throw new hc(oc(i),i)}let n;const s=Ine(e);if(s&&s.getTime()>=BF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zT(oc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ai}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new zT(oc(r),e.status,r.weak_password.reasons);throw new pne(oc(r),e.status||500,n)}const Une=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $e(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[SS]||(i[SS]=BF["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await zne(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function zne(e,t,r,n,s,i){const a=Une(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new NS(oc(c),0)}if(l.ok||await HT(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await HT(c)}}function oi(e){var t;let r=null;Wne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=jne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function KT(e){const t=oi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Bne(e){return{data:e,error:null}}function Vne(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=ql(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function GT(e){return e}function Wne(e){return e.access_token&&e.refresh_token&&e.expires_in}const U_=["global","local","others"];class qne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=qF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=U_[0]){if(U_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${U_.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vo})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ql(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Vne,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vo})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:GT});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mu(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vo})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Mu(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vo})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Mu(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vo})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Mu(t.userId);try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Mu(t.userId),Mu(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:GT});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function YT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const $u={debug:!!(globalThis&&WF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Hne extends HF{}async function Kne(e,t,r){$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw $u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($u.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Gne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Yne(e){return parseInt(e,16)}function Xne(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Qne(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=KF(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${x}
${y}`}class lr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Lx extends lr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Jne({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new lr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new lr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new lr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new lr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new lr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new lr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new lr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new lr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(GF(a)){if(i.rp.id!==a)return new lr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new lr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new lr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Zne({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new lr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new lr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(GF(n)){if(r.rpId!==n)return new lr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new lr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ese{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tse=new ese;function rse(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ql(e,["challenge","user","excludeCredentials"]),i=wd(t).buffer,a=Object.assign(Object.assign({},r),{id:wd(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:wd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function nse(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ql(e,["challenge","allowCredentials"]),s=wd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:wd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function sse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jc(new Uint8Array(e.response.attestationObject)),clientDataJSON:jc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ise(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jc(new Uint8Array(s.authenticatorData)),clientDataJSON:jc(new Uint8Array(s.clientDataJSON)),signature:jc(new Uint8Array(s.signature)),userHandle:s.userHandle?jc(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function GF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function XT(){var e,t;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ase(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lx("Browser returned unexpected credential type",t)}:{data:null,error:new Lx("Empty credential response",t)}}catch(t){return{data:null,error:Jne({error:t,options:e})}}}async function ose(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lx("Browser returned unexpected credential type",t)}:{data:null,error:new Lx("Empty credential response",t)}}catch(t){return{data:null,error:Zne({error:t,options:e})}}}const lse={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},cse={userVerification:"preferred",hints:["security-key"]};function Fx(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Fx(l,a):n[i]=Fx(a)}else n[i]=a}return n}function use(e,t){return Fx(lse,e,t||{})}function dse(e,t){return Fx(cse,e,t||{})}class fse{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??tse.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=use(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await ase({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=dse(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await ose(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return Pe(a)?{data:null,error:a}:{data:null,error:new hc("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new zp("rpId is required for WebAuthn authentication")};try{if(!XT())return{data:null,error:new hc("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return Pe(a)?{data:null,error:a}:{data:null,error:new hc("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new zp("rpId is required for WebAuthn registration")};try{if(!XT())return{data:null,error:new hc("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Pe(a)?{data:null,error:a}:{data:null,error:new hc("Unexpected error in register",a)}}}}Gne();const hse={url:cne,storageKey:une,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function QT(e,t,r){return await r()}const Lu={};class Bp{get jwks(){var t,r;return(r=(t=Lu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Lu[this.storageKey]=Object.assign(Object.assign({},Lu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Lu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Lu[this.storageKey]=Object.assign(Object.assign({},Lu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bp.nextInstanceID,Bp.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hse),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qne({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qF(s.fetch),this.lock=s.lock||QT,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kne:this.lock=QT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fse(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:WF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YT(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=YT(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zF}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(tn()&&(r=Nne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),tn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),vne(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new hc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:oi}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Du(this.storage,this.storageKey)),i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:oi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:oi})}else throw new Rg("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:KT})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:KT})}else throw new Rg("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Iu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:y,options:w}=t;let b;if(tn())if(typeof x=="object")b=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=KF(j[0]);let N=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const A=await b.request({method:"eth_chainId"});N=Yne(A)}const E={domain:_.host,address:S,statement:y,uri:_.href,version:"1",chainId:N,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=Qne(E),v=await b.request({method:"personal_sign",params:[Xne(m),S]})}try{const{data:g,error:x}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:oi});if(x)throw x;if(!g||!g.session||!g.user){const y=new Iu;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(Pe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,f,h,m;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:x,wallet:y,statement:w,options:b}=t;let _;if(tn())if(typeof y=="object")_=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:x,error:y}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:jc(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:oi});if(y)throw y;if(!x||!x.session||!x.user){const w=new Iu;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(Pe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await tc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oi});if(await Po(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Iu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:oi}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Iu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Du(this.storage,this.storageKey));const{error:f}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Rg("You must provide either an email or phone number.")}catch(l){if(Pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:oi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Du(this.storage,this.storageKey));const l=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Bne});return this._returnResult(l)}catch(i){if(Pe(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ai;const{error:s}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Rg("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await tc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<M_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await tc(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=F_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Lne(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vo}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ai}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Vo})})}catch(r){if(Pe(r))return gne(r)&&(await this._removeSession(),await Po(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ai;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Du(this.storage,this.storageKey));const{data:u,error:d}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Vo});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ai;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=L_(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ai;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!tn())throw new Ig("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ig(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new UT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ig("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new UT("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Ig("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Yu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await tc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(mne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Po(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Sne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Du(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Pe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,f=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:oi}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Iu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Cne(async s=>(s>0&&await kne(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oi})),(s,i)=>{const a=200*Math.pow(2,s);return i&&$_(i)&&Date.now()+a-n<Yu})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await tc(this.storage,this.storageKey);if(s&&this.userStorage){let a=await tc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Xu(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:F_()}else if(s&&!s.user&&!s.user){const a=await tc(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Po(this.storage,this.storageKey+"-user"),await Xu(this.storage,this.storageKey,s)):s.user=F_()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<M_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${M_}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),$_(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new D0;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ai;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Pe(i)){const a={data:null,error:i};return $_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xu(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=qT(s);await Xu(this.storage,this.storageKey,i)}else{const s=qT(r);await Xu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Po(this.storage,this.storageKey),await Po(this.storage,this.storageKey+"-code-verifier"),await Po(this.storage,this.storageKey+"-user"),this.userStorage&&await Po(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Yu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yu}ms, refresh threshold is ${jS} ticks`),s<=jS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof HF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Du(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?sse(t.webauthn.credential_response):ise(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rse(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nse(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=L_(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ai})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ai});const a=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ai});const a=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+hne>s)return n;const{data:i,error:a}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=L_(n);r!=null&&r.allowExpired||Dne(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=Mne(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,_ne(`${l}.${c}`)))throw new ES("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}Bp.nextInstanceID=0;const pse=Bp;class mse extends pse{constructor(t){super(t)}}class gse{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=lne(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:ene,realtime:rne,auth:Object.assign(Object.assign({},tne),{storageKey:c}),global:Zre},d=one(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=ine(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new cre(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Xre(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new are(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mse({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ere(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vse=(e,t,r)=>new gse(e,t,r);function xse(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}xse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yse="https://kapbytccfblkfqrdviec.supabase.co",bse="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthcGJ5dGNjZmJsa2ZxcmR2aWVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNjk2MTgsImV4cCI6MjA3NzcyOTYxOH0.lzi_ro76RuF7qkBMTmTnW2pPOwoynzl4W4rzqtzJj3U",YF=vse(yse,bse),wse=1,_se=1e6;let z_=0;function jse(){return z_=(z_+1)%Number.MAX_SAFE_INTEGER,z_.toString()}const B_=new Map,JT=e=>{if(B_.has(e))return;const t=setTimeout(()=>{B_.delete(e),lp({type:"REMOVE_TOAST",toastId:e})},_se);B_.set(e,t)},Sse=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,wse)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?JT(r):e.toasts.forEach(n=>{JT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Rv=[];let Iv={toasts:[]};function lp(e){Iv=Sse(Iv,e),Rv.forEach(t=>{t(Iv)})}function Vp({...e}){const t=jse(),r=s=>lp({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>lp({type:"DISMISS_TOAST",toastId:t});return lp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Tn(){const[e,t]=p.useState(Iv);return p.useEffect(()=>(Rv.push(t),()=>{const r=Rv.indexOf(t);r>-1&&Rv.splice(r,1)}),[e]),{...e,toast:Vp,dismiss:r=>lp({type:"DISMISS_TOAST",toastId:r})}}const Nse=Em({email:dr().email("Please enter a valid email address"),password:dr().min(1,"Password is required")});function Ese(){const e=Nt(),{login:t,isLoading:r,error:n,clearError:s}=go(),[i,a]=p.useState(!1),l=S0({resolver:N0(Nse),defaultValues:{email:"",password:""}}),c=async d=>{try{s(),await t(d),e("/dashboard")}catch(f){console.error("Login error:",f)}},u=async()=>{try{const{error:d}=await YF.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});d&&Vp({title:"Sign in failed",description:"Unable to sign in with Google. Please try again.",variant:"destructive"})}catch(d){console.error("Google sign-in error:",d),Vp({title:"Sign in failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"min-h-screen bg-obsidian flex items-center justify-center px-4 py-12",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative w-full max-w-md",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Re,{to:"/",className:"inline-flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-8 w-8 text-emerald-500"}),o.jsx("span",{className:"text-2xl font-bold",children:"RestaurantIQ"})]})}),o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsxs(Ne,{className:"text-center space-y-2 pb-6",children:[o.jsx(Te,{className:"text-3xl font-bold text-white",children:"Welcome Back"}),o.jsx(gn,{className:"text-slate-400 text-base",children:"Sign in to access your restaurant intelligence"})]}),o.jsxs(le,{className:"space-y-6",children:[n&&(()=>{const d=WL({message:n},"login");return o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-4 w-4"}),o.jsx(ft,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"font-semibold",children:d.title}),o.jsx("p",{className:"text-sm",children:d.description})]})})]})})(),o.jsxs(W,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium bg-white hover:bg-gray-50 text-gray-900 border-gray-300",onClick:u,disabled:r,children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-white/10"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card-dark px-2 text-slate-500",children:"Or continue with email"})})]}),o.jsx(E0,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-5",children:[o.jsx(En,{control:l.control,name:"email",render:({field:d})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"Email"}),o.jsx(un,{children:o.jsx(We,{...d,type:"email",placeholder:"you@restaurant.com",className:"h-12 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20",autoComplete:"email","data-testid":"email-input"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:l.control,name:"password",render:({field:d})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"Password"}),o.jsx(un,{children:o.jsxs("div",{className:"relative",children:[o.jsx(We,{...d,type:i?"text":"password",placeholder:"Enter your password",className:"h-12 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20 pr-12",autoComplete:"current-password","data-testid":"password-input"}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",onClick:()=>a(!i),children:i?o.jsx(eS,{className:"h-5 w-5"}):o.jsx(Cl,{className:"h-5 w-5"})})]})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(W,{type:"submit",className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25 transition-all duration-200",disabled:r,"data-testid":"login-button",children:r?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing In..."]}):"Sign In"})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-white/10"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card-dark px-2 text-slate-500",children:"New here?"})})]}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",o.jsx(Re,{to:"/register",className:"font-semibold text-emerald-400 hover:text-emerald-300 transition-colors",children:"Create one free"})]})})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx(Re,{to:"/",className:"text-sm text-slate-400 hover:text-white transition-colors",children:" Back to home"})})]})]})}function kse(){return o.jsx(Ese,{})}const Cse=Em({first_name:dr().min(1,"First name is required"),last_name:dr().min(1,"Last name is required"),email:dr().email("Please enter a valid email address"),password:dr().min(8,"Password must be at least 8 characters").regex(/[!@#$%^&*(),.?":{}|<>]/,"Password must contain at least one special character"),confirm_password:dr().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]});function Pse(){const e=Nt(),{register:t,isLoading:r,error:n,clearError:s}=go(),[i,a]=p.useState(!1),[l,c]=p.useState(!1),u=S0({resolver:N0(Cse),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:""}}),d=async h=>{try{s(),await t(h),e("/dashboard")}catch(m){console.error("Registration error:",m)}},f=async()=>{try{const{error:h}=await YF.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});h&&Vp({title:"Sign in failed",description:"Unable to sign in with Google. Please try again.",variant:"destructive"})}catch(h){console.error("Google sign-in error:",h),Vp({title:"Sign in failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"min-h-screen bg-obsidian flex items-center justify-center px-4 py-12",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative w-full max-w-lg",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Re,{to:"/",className:"inline-flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-8 w-8 text-emerald-500"}),o.jsx("span",{className:"text-2xl font-bold",children:"RestaurantIQ"})]})}),o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsxs(Ne,{className:"text-center space-y-2 pb-6",children:[o.jsx(Te,{className:"text-3xl font-bold text-white",children:"Create Account"}),o.jsx(gn,{className:"text-slate-400 text-base",children:"Start analyzing your competition in minutes"})]}),o.jsxs(le,{className:"space-y-6",children:[n&&(()=>{const h=WL({message:n},"register");return o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-4 w-4"}),o.jsx(ft,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"font-semibold",children:h.title}),o.jsx("p",{className:"text-sm",children:h.description}),h.title==="Email Already Registered"&&o.jsx(Re,{to:"/login",className:"text-sm underline hover:text-red-300 block mt-2",children:"Go to login "})]})})]})})(),o.jsxs(W,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium bg-white hover:bg-gray-50 text-gray-900 border-gray-300",onClick:f,disabled:r,children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-white/10"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card-dark px-2 text-slate-500",children:"Or sign up with email"})})]}),o.jsx(E0,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(En,{control:u.control,name:"first_name",render:({field:h})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"First Name"}),o.jsx(un,{children:o.jsx(We,{...h,placeholder:"John",className:"h-11 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20",autoComplete:"given-name"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:u.control,name:"last_name",render:({field:h})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"Last Name"}),o.jsx(un,{children:o.jsx(We,{...h,placeholder:"Doe",className:"h-11 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20",autoComplete:"family-name"})}),o.jsx(dn,{className:"text-red-400"})]})})]}),o.jsx(En,{control:u.control,name:"email",render:({field:h})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"Email"}),o.jsx(un,{children:o.jsx(We,{...h,type:"email",placeholder:"you@restaurant.com",className:"h-11 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20",autoComplete:"email"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:u.control,name:"password",render:({field:h})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"Password"}),o.jsx(un,{children:o.jsxs("div",{className:"relative",children:[o.jsx(We,{...h,type:i?"text":"password",placeholder:"Min. 8 characters with special char",className:"h-11 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20 pr-12",autoComplete:"new-password"}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",onClick:()=>a(!i),children:i?o.jsx(eS,{className:"h-5 w-5"}):o.jsx(Cl,{className:"h-5 w-5"})})]})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:u.control,name:"confirm_password",render:({field:h})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"Confirm Password"}),o.jsx(un,{children:o.jsxs("div",{className:"relative",children:[o.jsx(We,{...h,type:l?"text":"password",placeholder:"Re-enter your password",className:"h-11 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20 pr-12",autoComplete:"new-password"}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",onClick:()=>c(!l),children:l?o.jsx(eS,{className:"h-5 w-5"}):o.jsx(Cl,{className:"h-5 w-5"})})]})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(W,{type:"submit",className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25 transition-all duration-200 mt-6",disabled:r,children:r?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-white/10"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card-dark px-2 text-slate-500",children:"Already registered?"})})]}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-slate-400",children:["Already have an account?"," ",o.jsx(Re,{to:"/login",className:"font-semibold text-emerald-400 hover:text-emerald-300 transition-colors",children:"Sign in"})]})})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx(Re,{to:"/",className:"text-sm text-slate-400 hover:text-white transition-colors",children:" Back to home"})})]})]})}function Ase(){return o.jsx(Pse,{})}const Ose=ha("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,...r}){return o.jsx("div",{className:$(Ose({variant:t}),e),...r})}function Tse(){const{user:e,logout:t}=go();if(!e)return null;const n=(i=>{switch(i){case"premium":return{color:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",icon:tu};case"enterprise":return{color:"bg-purple-500/10 text-purple-400 border-purple-500/30",icon:b0};default:return{color:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",icon:$p}}})(e.subscription_tier),s=n.icon;return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-slate-500/10 text-slate-400",children:o.jsx($p,{className:"h-5 w-5"})}),o.jsx(Te,{className:"text-white",children:"Profile"})]})}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),o.jsxs("p",{className:"text-base text-white mt-1",children:[e.first_name," ",e.last_name]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),o.jsx("p",{className:"text-sm text-slate-300 mt-1",children:e.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Subscription"}),o.jsx("div",{className:"mt-2",children:o.jsxs(ke,{className:`${n.color} border font-semibold px-3 py-1`,children:[o.jsx(s,{className:"h-3 w-3 mr-1.5"}),e.subscription_tier.charAt(0).toUpperCase()+e.subscription_tier.slice(1)]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Member Since"}),o.jsx("p",{className:"text-sm text-slate-300 mt-1",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),o.jsx("div",{className:"pt-2 border-t border-white/10",children:o.jsxs(W,{variant:"outline",onClick:t,className:"w-full border-white/10 text-slate-300 hover:bg-red-500/10 hover:text-red-400 hover:border-red-500/30 transition-colors",children:[o.jsx(k3,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})]})]})}const V_=768;function Rse(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const r=window.matchMedia(`(max-width: ${V_-1}px)`),n=()=>{t(window.innerWidth<V_)};return r.addEventListener("change",n),t(window.innerWidth<V_),()=>r.removeEventListener("change",n)},[]),!!e}var Ise=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dse=Ise.reduce((e,t)=>{const r=Ak(`Primitive.${t}`),n=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Mse="Separator",ZT="horizontal",$se=["horizontal","vertical"],XF=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=ZT,...s}=e,i=Lse(n)?n:ZT,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Dse.div,{"data-orientation":i,...l,...s,ref:t})});XF.displayName=Mse;function Lse(e){return $se.includes(e)}var QF=XF;const sC=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(QF,{ref:s,decorative:r,orientation:t,className:$("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));sC.displayName=QF.displayName;function ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var vr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Fse=bm[" useId ".trim().toString()]||(()=>{}),Use=0;function Ei(e){const[t,r]=p.useState(Fse());return vr(()=>{r(n=>n??String(Use++))},[e]),e||(t?`radix-${t}`:"")}var zse=bm[" useInsertionEffect ".trim().toString()]||vr;function ia({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=Bse({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=Vse(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else i(d)},[l,e,i,a]);return[c,u]}function Bse({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),i=p.useRef(t);return zse(()=>{i.current=t},[t]),p.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function Vse(e){return typeof e=="function"}function Pn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Wse(e,t=globalThis==null?void 0:globalThis.document){const r=Pn(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qse="DismissableLayer",kS="dismissableLayer.update",Hse="dismissableLayer.pointerDownOutside",Kse="dismissableLayer.focusOutside",eR,JF=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pf=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=p.useContext(JF),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),v=tt(t,N=>f(N)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),w=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,j=Yse(N=>{const E=N.target,A=[...u.branches].some(P=>P.contains(E));!_||A||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},h),S=Xse(N=>{const E=N.target;[...u.branches].some(P=>P.contains(E))||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},h);return Wse(N=>{w===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=eR)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tR())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(kS,N),()=>document.removeEventListener(kS,N)},[]),o.jsx(Oe.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,j.onPointerDownCapture)})});Pf.displayName=qse;var Gse="DismissableLayerBranch",ZF=p.forwardRef((e,t)=>{const r=p.useContext(JF),n=p.useRef(null),s=tt(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Oe.div,{...e,ref:s})});ZF.displayName=Gse;function Yse(e,t=globalThis==null?void 0:globalThis.document){const r=Pn(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){eU(Hse,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Xse(e,t=globalThis==null?void 0:globalThis.document){const r=Pn(e),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&eU(Kse,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tR(){const e=new CustomEvent(kS);document.dispatchEvent(e)}function eU(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ik(s,i):s.dispatchEvent(i)}var Qse=Pf,Jse=ZF,W_="focusScope.autoFocusOnMount",q_="focusScope.autoFocusOnUnmount",rR={bubbles:!1,cancelable:!0},Zse="FocusScope",M0=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=p.useState(null),u=Pn(s),d=Pn(i),f=p.useRef(null),h=tt(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ro(f.current,{select:!0})},x=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ro(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Ro(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){sR.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(W_,rR);l.addEventListener(W_,u),l.dispatchEvent(y),y.defaultPrevented||(eie(iie(tU(l)),{select:!0}),document.activeElement===g&&Ro(l))}return()=>{l.removeEventListener(W_,u),setTimeout(()=>{const y=new CustomEvent(q_,rR);l.addEventListener(q_,d),l.dispatchEvent(y),y.defaultPrevented||Ro(g??document.body,{select:!0}),l.removeEventListener(q_,d),sR.remove(m)},0)}}},[l,u,d,m]);const v=p.useCallback(g=>{if(!r&&!n||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const w=g.currentTarget,[b,_]=tie(w);b&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&Ro(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&Ro(_,{select:!0})):y===w&&g.preventDefault()}},[r,n,m.paused]);return o.jsx(Oe.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});M0.displayName=Zse;function eie(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ro(n,{select:t}),document.activeElement!==r)return}function tie(e){const t=tU(e),r=nR(t,e),n=nR(t.reverse(),e);return[r,n]}function tU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nR(e,t){for(const r of e)if(!rie(r,{upTo:t}))return r}function rie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nie(e){return e instanceof HTMLInputElement&&"select"in e}function Ro(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&nie(e)&&t&&e.select()}}var sR=sie();function sie(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=iR(e,t),e.unshift(t)},remove(t){var r;e=iR(e,t),(r=e[0])==null||r.resume()}}}function iR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function iie(e){return e.filter(t=>t.tagName!=="A")}var aie="Portal",Af=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=p.useState(!1);vr(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?IY.createPortal(o.jsx(Oe.div,{...n,ref:t}),a):null});Af.displayName=aie;function oie(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Ps=e=>{const{present:t,children:r}=e,n=lie(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=tt(n.ref,cie(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};Ps.displayName="Presence";function lie(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=oie(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Dg(n.current);i.current=l==="mounted"?u:"none"},[l]),vr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Dg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),vr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Dg(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(i.current=Dg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dg(e){return(e==null?void 0:e.animationName)||"none"}function cie(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var H_=0;function iC(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??aR()),document.body.insertAdjacentElement("beforeend",e[1]??aR()),H_++,()=>{H_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),H_--}},[])}function aR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dv="right-scroll-bar-position",Mv="width-before-scroll-bar",uie="with-scroll-bars-hidden",die="--removed-body-scroll-bar-size";function K_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fie(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var hie=typeof window<"u"?p.useLayoutEffect:p.useEffect,oR=new WeakMap;function pie(e,t){var r=fie(null,function(n){return e.forEach(function(s){return K_(s,n)})});return hie(function(){var n=oR.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||K_(l,null)}),i.forEach(function(l){s.has(l)||K_(l,a)})}oR.set(r,e)},[e]),r}function mie(e){return e}function gie(e,t){t===void 0&&(t=mie);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function vie(e){e===void 0&&(e={});var t=gie(null);return t.options=Bs({async:!0,ssr:!1},e),t}var rU=function(e){var t=e.sideCar,r=ql(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Bs({},r))};rU.isSideCarExport=!0;function xie(e,t){return e.useMedium(t),rU}var nU=vie(),G_=function(){},$0=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:G_,onWheelCapture:G_,onTouchMoveCapture:G_}),s=n[0],i=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,g=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,b=e.gapMode,_=ql(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=pie([r,t]),N=Bs(Bs({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(j,{sideCar:nU,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:b}),a?p.cloneElement(p.Children.only(l),Bs(Bs({},N),{ref:S})):p.createElement(w,Bs({},N,{className:c,ref:S}),l))});$0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$0.classNames={fullWidth:Mv,zeroRight:Dv};var yie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yie();return t&&e.setAttribute("nonce",t),e}function wie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _ie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jie=function(){var e=0,t=null;return{add:function(r){e==0&&(t=bie())&&(wie(t,r),_ie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Sie=function(){var e=jie();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sU=function(){var e=Sie(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Nie={left:0,top:0,right:0,gap:0},Y_=function(e){return parseInt(e||"",10)||0},Eie=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Y_(r),Y_(n),Y_(s)]},kie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Nie;var t=Eie(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Cie=sU(),_d="data-scroll-locked",Pie=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(uie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_d,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dv," .").concat(Dv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Mv," .").concat(Mv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_d,`] {
    `).concat(die,": ").concat(l,`px;
  }
`)},lR=function(){var e=parseInt(document.body.getAttribute(_d)||"0",10);return isFinite(e)?e:0},Aie=function(){p.useEffect(function(){return document.body.setAttribute(_d,(lR()+1).toString()),function(){var e=lR()-1;e<=0?document.body.removeAttribute(_d):document.body.setAttribute(_d,e.toString())}},[])},Oie=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Aie();var i=p.useMemo(function(){return kie(s)},[s]);return p.createElement(Cie,{styles:Pie(i,!t,s,r?"":"!important")})},CS=!1;if(typeof window<"u")try{var Mg=Object.defineProperty({},"passive",{get:function(){return CS=!0,!0}});window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch{CS=!1}var Fu=CS?{passive:!1}:!1,Tie=function(e){return e.tagName==="TEXTAREA"},iU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Tie(e)&&r[t]==="visible")},Rie=function(e){return iU(e,"overflowY")},Iie=function(e){return iU(e,"overflowX")},cR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=aU(e,n);if(s){var i=oU(e,n),a=i[1],l=i[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Die=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Mie=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aU=function(e,t){return e==="v"?Rie(t):Iie(t)},oU=function(e,t){return e==="v"?Die(t):Mie(t)},$ie=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lie=function(e,t,r,n,s){var i=$ie(e,window.getComputedStyle(t).direction),a=i*n,l=r.target,c=t.contains(l),u=!1,d=a>0,f=0,h=0;do{if(!l)break;var m=oU(e,l),v=m[0],g=m[1],x=m[2],y=g-x-i*v;(v||y)&&aU(e,l)&&(f+=y,h+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},$g=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uR=function(e){return[e.deltaX,e.deltaY]},dR=function(e){return e&&"current"in e?e.current:e},Fie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zie=0,Uu=[];function Bie(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(zie++)[0],i=p.useState(sU)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Yk([e.lockRef.current],(e.shards||[]).map(dR),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=$g(g),w=r.current,b="deltaX"in g?g.deltaX:w[0]-y[0],_="deltaY"in g?g.deltaY:w[1]-y[1],j,S=g.target,N=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&N==="h"&&S.type==="range")return!1;var E=cR(N,S);if(!E)return!0;if(E?j=N:(j=N==="v"?"h":"v",E=cR(N,S)),!E)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=j),!j)return!0;var A=n.current||j;return Lie(A,x,g,A==="h"?b:_)},[]),c=p.useCallback(function(g){var x=g;if(!(!Uu.length||Uu[Uu.length-1]!==i)){var y="deltaY"in x?uR(x):$g(x),w=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&Fie(j.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(dR).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=b.length>0?l(x,b[0]):!a.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(g,x,y,w){var b={name:g,delta:x,target:y,should:w,shadowParent:Vie(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(g){r.current=$g(g),n.current=void 0},[]),f=p.useCallback(function(g){u(g.type,uR(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,$g(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return Uu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fu),document.addEventListener("touchmove",c,Fu),document.addEventListener("touchstart",d,Fu),function(){Uu=Uu.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Fu),document.removeEventListener("touchmove",c,Fu),document.removeEventListener("touchstart",d,Fu)}},[]);var m=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(i,{styles:Uie(s)}):null,m?p.createElement(Oie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Vie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Wie=xie(nU,Bie);var L0=p.forwardRef(function(e,t){return p.createElement($0,Bs({},e,{ref:t,sideCar:Wie}))});L0.classNames=$0.classNames;var qie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zu=new WeakMap,Lg=new WeakMap,Fg={},X_=0,lU=function(e){return e&&(e.host||lU(e.parentNode))},Hie=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=lU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Kie=function(e,t,r,n){var s=Hie(t,Array.isArray(e)?e:[e]);Fg[r]||(Fg[r]=new WeakMap);var i=Fg[r],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",g=(zu.get(h)||0)+1,x=(i.get(h)||0)+1;zu.set(h,g),i.set(h,x),a.push(h),g===1&&v&&Lg.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),X_++,function(){a.forEach(function(f){var h=zu.get(f)-1,m=i.get(f)-1;zu.set(f,h),i.set(f,m),h||(Lg.has(f)||f.removeAttribute(n),Lg.delete(f)),m||f.removeAttribute(r)}),X_--,X_||(zu=new WeakMap,zu=new WeakMap,Lg=new WeakMap,Fg={})}},aC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=qie(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Kie(n,s,r,"aria-hidden")):function(){return null}};function Gie(e){const t=Yie(e),r=p.forwardRef((n,s)=>{const{children:i,...a}=n,l=p.Children.toArray(i),c=l.find(Qie);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Yie(e){const t=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const a=Zie(s),l=Jie(i,s.props);return s.type!==p.Fragment&&(l.ref=n?mo(n,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xie=Symbol("radix.slottable");function Qie(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xie}function Jie(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Zie(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var F0="Dialog",[cU]=Cs(F0),[eae,$i]=cU(F0),uU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=ia({prop:n,defaultProp:s??!1,onChange:i,caller:F0});return o.jsx(eae,{scope:t,triggerRef:l,contentRef:c,contentId:Ei(),titleId:Ei(),descriptionId:Ei(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};uU.displayName=F0;var dU="DialogTrigger",tae=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$i(dU,r),i=tt(t,s.triggerRef);return o.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cC(s.open),...n,ref:i,onClick:ne(e.onClick,s.onOpenToggle)})});tae.displayName=dU;var oC="DialogPortal",[rae,fU]=cU(oC,{forceMount:void 0}),hU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=$i(oC,t);return o.jsx(rae,{scope:t,forceMount:r,children:p.Children.map(n,a=>o.jsx(Ps,{present:r||i.open,children:o.jsx(Af,{asChild:!0,container:s,children:a})}))})};hU.displayName=oC;var Ux="DialogOverlay",pU=p.forwardRef((e,t)=>{const r=fU(Ux,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=$i(Ux,e.__scopeDialog);return i.modal?o.jsx(Ps,{present:n||i.open,children:o.jsx(sae,{...s,ref:t})}):null});pU.displayName=Ux;var nae=Gie("DialogOverlay.RemoveScroll"),sae=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$i(Ux,r);return o.jsx(L0,{as:nae,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Oe.div,{"data-state":cC(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ou="DialogContent",mU=p.forwardRef((e,t)=>{const r=fU(ou,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=$i(ou,e.__scopeDialog);return o.jsx(Ps,{present:n||i.open,children:i.modal?o.jsx(iae,{...s,ref:t}):o.jsx(aae,{...s,ref:t})})});mU.displayName=ou;var iae=p.forwardRef((e,t)=>{const r=$i(ou,e.__scopeDialog),n=p.useRef(null),s=tt(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return aC(i)},[]),o.jsx(gU,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,i=>i.preventDefault())})}),aae=p.forwardRef((e,t)=>{const r=$i(ou,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return o.jsx(gU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gU=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=$i(ou,r),c=p.useRef(null),u=tt(t,c);return iC(),o.jsxs(o.Fragment,{children:[o.jsx(M0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Pf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cC(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(oae,{titleId:l.titleId}),o.jsx(cae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lC="DialogTitle",vU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$i(lC,r);return o.jsx(Oe.h2,{id:s.titleId,...n,ref:t})});vU.displayName=lC;var xU="DialogDescription",yU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$i(xU,r);return o.jsx(Oe.p,{id:s.descriptionId,...n,ref:t})});yU.displayName=xU;var bU="DialogClose",wU=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=$i(bU,r);return o.jsx(Oe.button,{type:"button",...n,ref:t,onClick:ne(e.onClick,()=>s.onOpenChange(!1))})});wU.displayName=bU;function cC(e){return e?"open":"closed"}var _U="DialogTitleWarning",[fTe,jU]=jJ(_U,{contentName:ou,titleName:lC,docsSlug:"dialog"}),oae=({titleId:e})=>{const t=jU(_U),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},lae="DialogDescriptionWarning",cae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jU(lae).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SU=uU,uC=hU,Of=pU,Tf=mU,Rf=vU,If=yU,dC=wU;function Tm(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var uae=["color"],dae=p.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Tm(e,uae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),fae=["color"],hae=p.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Tm(e,fae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),pae=["color"],NU=p.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Tm(e,pae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),mae=["color"],gae=p.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Tm(e,mae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))}),vae=["color"],xae=p.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Tm(e,vae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M8 2H13.5C13.7761 2 14 2.22386 14 2.5V12.5C14 12.7761 13.7761 13 13.5 13H8V2ZM7 2H1.5C1.22386 2 1 2.22386 1 2.5V12.5C1 12.7761 1.22386 13 1.5 13H7V2ZM0 2.5C0 1.67157 0.671573 1 1.5 1H13.5C14.3284 1 15 1.67157 15 2.5V12.5C15 13.3284 14.3284 14 13.5 14H1.5C0.671573 14 0 13.3284 0 12.5V2.5Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))});const yae=SU,bae=uC,EU=p.forwardRef(({className:e,...t},r)=>o.jsx(Of,{className:$("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));EU.displayName=Of.displayName;const wae=ha("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),kU=p.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(bae,{children:[o.jsx(EU,{}),o.jsxs(Tf,{ref:s,className:$(wae({side:e}),t),...n,children:[o.jsxs(dC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(NU,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));kU.displayName=Tf.displayName;const CU=({className:e,...t})=>o.jsx("div",{className:$("flex flex-col space-y-2 text-center sm:text-left",e),...t});CU.displayName="SheetHeader";const PU=p.forwardRef(({className:e,...t},r)=>o.jsx(Rf,{ref:r,className:$("text-lg font-semibold text-foreground",e),...t}));PU.displayName=Rf.displayName;const AU=p.forwardRef(({className:e,...t},r)=>o.jsx(If,{ref:r,className:$("text-sm text-muted-foreground",e),...t}));AU.displayName=If.displayName;function qt({className:e,...t}){return o.jsx("div",{className:$("animate-pulse rounded-md bg-primary/10",e),...t})}const _ae=["top","right","bottom","left"],Rl=Math.min,cs=Math.max,zx=Math.round,Ug=Math.floor,ta=e=>({x:e,y:e}),jae={left:"right",right:"left",bottom:"top",top:"bottom"},Sae={start:"end",end:"start"};function PS(e,t,r){return cs(e,Rl(t,r))}function no(e,t){return typeof e=="function"?e(t):e}function so(e){return e.split("-")[0]}function Df(e){return e.split("-")[1]}function fC(e){return e==="x"?"y":"x"}function hC(e){return e==="y"?"height":"width"}const Nae=new Set(["top","bottom"]);function Gi(e){return Nae.has(so(e))?"y":"x"}function pC(e){return fC(Gi(e))}function Eae(e,t,r){r===void 0&&(r=!1);const n=Df(e),s=pC(e),i=hC(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Bx(a)),[a,Bx(a)]}function kae(e){const t=Bx(e);return[AS(e),t,AS(t)]}function AS(e){return e.replace(/start|end/g,t=>Sae[t])}const fR=["left","right"],hR=["right","left"],Cae=["top","bottom"],Pae=["bottom","top"];function Aae(e,t,r){switch(e){case"top":case"bottom":return r?t?hR:fR:t?fR:hR;case"left":case"right":return t?Cae:Pae;default:return[]}}function Oae(e,t,r,n){const s=Df(e);let i=Aae(so(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(AS)))),i}function Bx(e){return e.replace(/left|right|bottom|top/g,t=>jae[t])}function Tae(e){return{top:0,right:0,bottom:0,left:0,...e}}function OU(e){return typeof e!="number"?Tae(e):{top:e,right:e,bottom:e,left:e}}function Vx(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function pR(e,t,r){let{reference:n,floating:s}=e;const i=Gi(t),a=pC(t),l=hC(a),c=so(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Df(t)){case"start":m[a]-=h*(r&&u?-1:1);break;case"end":m[a]+=h*(r&&u?-1:1);break}return m}const Rae=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=pR(u,n,c),h=n,m={},v=0;for(let g=0;g<l.length;g++){const{name:x,fn:y}=l[g],{x:w,y:b,data:_,reset:j}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=w??d,f=b??f,m={...m,[x]:{...m[x],..._}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=pR(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Wp(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=no(t,e),v=OU(m),x=l[h?f==="floating"?"reference":"floating":f],y=Vx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Vx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(y.top-j.top+v.top)/_.y,bottom:(j.bottom-y.bottom+v.bottom)/_.y,left:(y.left-j.left+v.left)/_.x,right:(j.right-y.right+v.right)/_.x}}const Iae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=no(e,t)||{};if(u==null)return{};const f=OU(d),h={x:r,y:n},m=pC(s),v=hC(m),g=await a.getDimensions(u),x=m==="y",y=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-h[m]-i.floating[v],j=h[m]-i.reference[m],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=S?S[b]:0;(!N||!await(a.isElement==null?void 0:a.isElement(S)))&&(N=l.floating[b]||i.floating[v]);const E=_/2-j/2,A=N/2-g[v]/2-1,P=Rl(f[y],A),C=Rl(f[w],A),k=P,D=N-g[v]-C,T=N/2-g[v]/2+E,L=PS(k,T,D),z=!c.arrow&&Df(s)!=null&&T!==L&&i.reference[v]/2-(T<k?P:C)-g[v]/2<0,X=z?T<k?T-k:T-D:0;return{[m]:h[m]+X,data:{[m]:L,centerOffset:T-L-X,...z&&{alignmentOffset:X}},reset:z}}}),Dae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=no(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=so(s),w=Gi(l),b=so(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!g?[Bx(l)]:kae(l)),S=v!=="none";!h&&S&&j.push(...Oae(l,g,v,_));const N=[l,...j],E=await Wp(t,x),A=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(E[y]),f){const T=Eae(s,a,_);A.push(E[T[0]],E[T[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(T=>T<=0)){var C,k;const T=(((C=i.flip)==null?void 0:C.index)||0)+1,L=N[T];if(L&&(!(f==="alignment"?w!==Gi(L):!1)||P.every(I=>Gi(I.placement)===w?I.overflows[0]>0:!0)))return{data:{index:T,overflows:P},reset:{placement:L}};let z=(k=P.filter(X=>X.overflows[0]<=0).sort((X,I)=>X.overflows[1]-I.overflows[1])[0])==null?void 0:k.placement;if(!z)switch(m){case"bestFit":{var D;const X=(D=P.filter(I=>{if(S){const M=Gi(I.placement);return M===w||M==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(M=>M>0).reduce((M,Q)=>M+Q,0)]).sort((I,M)=>I[1]-M[1])[0])==null?void 0:D[0];X&&(z=X);break}case"initialPlacement":z=l;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function mR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gR(e){return _ae.some(t=>e[t]>=0)}const Mae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=no(e,t);switch(n){case"referenceHidden":{const i=await Wp(t,{...s,elementContext:"reference"}),a=mR(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:gR(a)}}}case"escaped":{const i=await Wp(t,{...s,altBoundary:!0}),a=mR(i,r.floating);return{data:{escapedOffsets:a,escaped:gR(a)}}}default:return{}}}}},TU=new Set(["left","top"]);async function $ae(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=so(r),l=Df(r),c=Gi(r)==="y",u=TU.has(a)?-1:1,d=i&&c?-1:1,f=no(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Lae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await $ae(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},Fae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...c}=no(e,t),u={x:r,y:n},d=await Wp(t,c),f=Gi(so(s)),h=fC(f);let m=u[h],v=u[f];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=m+d[x],b=m-d[y];m=PS(w,m,b)}if(a){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=v+d[x],b=v-d[y];v=PS(w,v,b)}const g=l.fn({...t,[h]:m,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:a}}}}}},Uae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=no(e,t),d={x:r,y:n},f=Gi(s),h=fC(f);let m=d[h],v=d[f];const g=no(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+x.mainAxis,j=i.reference[h]+i.reference[b]-x.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var y,w;const b=h==="y"?"width":"height",_=TU.has(so(s)),j=i.reference[f]-i.floating[b]+(_&&((y=a.offset)==null?void 0:y[f])||0)+(_?0:x.crossAxis),S=i.reference[f]+i.reference[b]+(_?0:((w=a.offset)==null?void 0:w[f])||0)-(_?x.crossAxis:0);v<j?v=j:v>S&&(v=S)}return{[h]:m,[f]:v}}}},zae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=no(e,t),d=await Wp(t,u),f=so(s),h=Df(s),m=Gi(s)==="y",{width:v,height:g}=i.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,b=v-d.left-d.right,_=Rl(g-d[x],w),j=Rl(v-d[y],b),S=!t.middlewareData.shift;let N=_,E=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=w),S&&!h){const P=cs(d.left,0),C=cs(d.right,0),k=cs(d.top,0),D=cs(d.bottom,0);m?E=v-2*(P!==0||C!==0?P+C:cs(d.left,d.right)):N=g-2*(k!==0||D!==0?k+D:cs(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const A=await a.getDimensions(l.floating);return v!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function U0(){return typeof window<"u"}function Mf(e){return RU(e)?(e.nodeName||"").toLowerCase():"#document"}function xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pa(e){var t;return(t=(RU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RU(e){return U0()?e instanceof Node||e instanceof xs(e).Node:!1}function Oi(e){return U0()?e instanceof Element||e instanceof xs(e).Element:!1}function aa(e){return U0()?e instanceof HTMLElement||e instanceof xs(e).HTMLElement:!1}function vR(e){return!U0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xs(e).ShadowRoot}const Bae=new Set(["inline","contents"]);function Rm(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Bae.has(s)}const Vae=new Set(["table","td","th"]);function Wae(e){return Vae.has(Mf(e))}const qae=[":popover-open",":modal"];function z0(e){return qae.some(t=>{try{return e.matches(t)}catch{return!1}})}const Hae=["transform","translate","scale","rotate","perspective"],Kae=["transform","translate","scale","rotate","perspective","filter"],Gae=["paint","layout","strict","content"];function mC(e){const t=gC(),r=Oi(e)?Ti(e):e;return Hae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Kae.some(n=>(r.willChange||"").includes(n))||Gae.some(n=>(r.contain||"").includes(n))}function Yae(e){let t=Il(e);for(;aa(t)&&!tf(t);){if(mC(t))return t;if(z0(t))return null;t=Il(t)}return null}function gC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xae=new Set(["html","body","#document"]);function tf(e){return Xae.has(Mf(e))}function Ti(e){return xs(e).getComputedStyle(e)}function B0(e){return Oi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Il(e){if(Mf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vR(e)&&e.host||pa(e);return vR(t)?t.host:t}function IU(e){const t=Il(e);return tf(t)?e.ownerDocument?e.ownerDocument.body:e.body:aa(t)&&Rm(t)?t:IU(t)}function qp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=IU(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=xs(s);if(i){const l=OS(a);return t.concat(a,a.visualViewport||[],Rm(s)?s:[],l&&r?qp(l):[])}return t.concat(s,qp(s,[],r))}function OS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DU(e){const t=Ti(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=aa(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=zx(r)!==i||zx(n)!==a;return l&&(r=i,n=a),{width:r,height:n,$:l}}function vC(e){return Oi(e)?e:e.contextElement}function jd(e){const t=vC(e);if(!aa(t))return ta(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=DU(t);let a=(i?zx(r.width):r.width)/n,l=(i?zx(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Qae=ta(0);function MU(e){const t=xs(e);return!gC()||!t.visualViewport?Qae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Jae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==xs(e)?!1:t}function lu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=vC(e);let a=ta(1);t&&(n?Oi(n)&&(a=jd(n)):a=jd(e));const l=Jae(i,r,n)?MU(i):ta(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const h=xs(i),m=n&&Oi(n)?xs(n):n;let v=h,g=OS(v);for(;g&&n&&m!==v;){const x=jd(g),y=g.getBoundingClientRect(),w=Ti(g),b=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,_=y.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=_,v=xs(g),g=OS(v)}}return Vx({width:d,height:f,x:c,y:u})}function V0(e,t){const r=B0(e).scrollLeft;return t?t.left+r:lu(pa(e)).left+r}function $U(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-V0(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function Zae(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=pa(n),l=t?z0(t.floating):!1;if(n===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ta(1);const d=ta(0),f=aa(n);if((f||!f&&!i)&&((Mf(n)!=="body"||Rm(a))&&(c=B0(n)),aa(n))){const m=lu(n);u=jd(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=a&&!f&&!i?$U(a,c):ta(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function eoe(e){return Array.from(e.getClientRects())}function toe(e){const t=pa(e),r=B0(e),n=e.ownerDocument.body,s=cs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=cs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+V0(e);const l=-r.scrollTop;return Ti(n).direction==="rtl"&&(a+=cs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:l}}const xR=25;function roe(e,t){const r=xs(e),n=pa(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const d=gC();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=V0(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-m);v<=xR&&(i-=v)}else u<=xR&&(i+=u);return{width:i,height:a,x:l,y:c}}const noe=new Set(["absolute","fixed"]);function soe(e,t){const r=lu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=aa(e)?jd(e):ta(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:l,x:c,y:u}}function yR(e,t,r){let n;if(t==="viewport")n=roe(e,r);else if(t==="document")n=toe(pa(e));else if(Oi(t))n=soe(t,r);else{const s=MU(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Vx(n)}function LU(e,t){const r=Il(e);return r===t||!Oi(r)||tf(r)?!1:Ti(r).position==="fixed"||LU(r,t)}function ioe(e,t){const r=t.get(e);if(r)return r;let n=qp(e,[],!1).filter(l=>Oi(l)&&Mf(l)!=="body"),s=null;const i=Ti(e).position==="fixed";let a=i?Il(e):e;for(;Oi(a)&&!tf(a);){const l=Ti(a),c=mC(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&noe.has(s.position)||Rm(a)&&!c&&LU(e,a))?n=n.filter(d=>d!==a):s=l,a=Il(a)}return t.set(e,n),n}function aoe(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?z0(t)?[]:ioe(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const f=yR(t,d,s);return u.top=cs(f.top,u.top),u.right=Rl(f.right,u.right),u.bottom=Rl(f.bottom,u.bottom),u.left=cs(f.left,u.left),u},yR(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ooe(e){const{width:t,height:r}=DU(e);return{width:t,height:r}}function loe(e,t,r){const n=aa(t),s=pa(t),i=r==="fixed",a=lu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ta(0);function u(){c.x=V0(s)}if(n||!n&&!i)if((Mf(t)!=="body"||Rm(s))&&(l=B0(t)),n){const m=lu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?$U(s,l):ta(0),f=a.left+l.scrollLeft-c.x-d.x,h=a.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function Q_(e){return Ti(e).position==="static"}function bR(e,t){if(!aa(e)||Ti(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return pa(e)===r&&(r=r.ownerDocument.body),r}function FU(e,t){const r=xs(e);if(z0(e))return r;if(!aa(e)){let s=Il(e);for(;s&&!tf(s);){if(Oi(s)&&!Q_(s))return s;s=Il(s)}return r}let n=bR(e,t);for(;n&&Wae(n)&&Q_(n);)n=bR(n,t);return n&&tf(n)&&Q_(n)&&!mC(n)?r:n||Yae(e)||r}const coe=async function(e){const t=this.getOffsetParent||FU,r=this.getDimensions,n=await r(e.floating);return{reference:loe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function uoe(e){return Ti(e).direction==="rtl"}const doe={convertOffsetParentRelativeRectToViewportRelativeRect:Zae,getDocumentElement:pa,getClippingRect:aoe,getOffsetParent:FU,getElementRects:coe,getClientRects:eoe,getDimensions:ooe,getScale:jd,isElement:Oi,isRTL:uoe};function UU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function foe(e,t){let r=null,n;const s=pa(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=Ug(f),g=Ug(s.clientWidth-(d+h)),x=Ug(s.clientHeight-(f+m)),y=Ug(d),b={rootMargin:-v+"px "+-g+"px "+-x+"px "+-y+"px",threshold:cs(0,Rl(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!UU(u,e.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(j,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return a(!0),i}function hoe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=vC(e),d=s||i?[...u?qp(u):[],...qp(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&l?foe(u,r):null;let h=-1,m=null;a&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?lu(e):null;c&&x();function x(){const y=lu(e);g&&!UU(g,y)&&r(),g=y,v=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const poe=Lae,moe=Fae,goe=Dae,voe=zae,xoe=Mae,wR=Iae,yoe=Uae,boe=(e,t,r)=>{const n=new Map,s={platform:doe,...r},i={...s.platform,_c:n};return Rae(e,t,{...s,platform:i})};var woe=typeof document<"u",_oe=function(){},$v=woe?p.useLayoutEffect:_oe;function Wx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Wx(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Wx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function zU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _R(e,t){const r=zU(e);return Math.round(t*r)/r}function J_(e){const t=p.useRef(e);return $v(()=>{t.current=e}),t}function joe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);Wx(h,n)||m(n);const[v,g]=p.useState(null),[x,y]=p.useState(null),w=p.useCallback(I=>{I!==S.current&&(S.current=I,g(I))},[]),b=p.useCallback(I=>{I!==N.current&&(N.current=I,y(I))},[]),_=i||v,j=a||x,S=p.useRef(null),N=p.useRef(null),E=p.useRef(d),A=c!=null,P=J_(c),C=J_(s),k=J_(u),D=p.useCallback(()=>{if(!S.current||!N.current)return;const I={placement:t,strategy:r,middleware:h};C.current&&(I.platform=C.current),boe(S.current,N.current,I).then(M=>{const Q={...M,isPositioned:k.current!==!1};T.current&&!Wx(E.current,Q)&&(E.current=Q,zl.flushSync(()=>{f(Q)}))})},[h,t,r,C,k]);$v(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const T=p.useRef(!1);$v(()=>(T.current=!0,()=>{T.current=!1}),[]),$v(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(P.current)return P.current(_,j,D);D()}},[_,j,D,P,A]);const L=p.useMemo(()=>({reference:S,floating:N,setReference:w,setFloating:b}),[w,b]),z=p.useMemo(()=>({reference:_,floating:j}),[_,j]),X=p.useMemo(()=>{const I={position:r,left:0,top:0};if(!z.floating)return I;const M=_R(z.floating,d.x),Q=_R(z.floating,d.y);return l?{...I,transform:"translate("+M+"px, "+Q+"px)",...zU(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:Q}},[r,l,z.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:D,refs:L,elements:z,floatingStyles:X}),[d,D,L,z,X])}const Soe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?wR({element:n.current,padding:s}).fn(r):{}:n?wR({element:n,padding:s}).fn(r):{}}}},Noe=(e,t)=>({...poe(e),options:[e,t]}),Eoe=(e,t)=>({...moe(e),options:[e,t]}),koe=(e,t)=>({...yoe(e),options:[e,t]}),Coe=(e,t)=>({...goe(e),options:[e,t]}),Poe=(e,t)=>({...voe(e),options:[e,t]}),Aoe=(e,t)=>({...xoe(e),options:[e,t]}),Ooe=(e,t)=>({...Soe(e),options:[e,t]});var Toe="Arrow",BU=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(Oe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});BU.displayName=Toe;var Roe=BU;function xC(e){const[t,r]=p.useState(void 0);return vr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var yC="Popper",[VU,$f]=Cs(yC),[Ioe,WU]=VU(yC),qU=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return o.jsx(Ioe,{scope:t,anchor:n,onAnchorChange:s,children:r})};qU.displayName=yC;var HU="PopperAnchor",KU=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=WU(HU,r),a=p.useRef(null),l=tt(t,a),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(Oe.div,{...s,ref:l})});KU.displayName=HU;var bC="PopperContent",[Doe,Moe]=VU(bC),GU=p.forwardRef((e,t)=>{var pe,Ke,K,re,fe,G;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=e,x=WU(bC,r),[y,w]=p.useState(null),b=tt(t,Qe=>w(Qe)),[_,j]=p.useState(null),S=xC(_),N=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,A=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],k=C.length>0,D={padding:P,boundary:C.filter(Loe),altBoundary:k},{refs:T,floatingStyles:L,placement:z,isPositioned:X,middlewareData:I}=joe({strategy:"fixed",placement:A,whileElementsMounted:(...Qe)=>hoe(...Qe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Noe({mainAxis:s+E,alignmentAxis:a}),c&&Eoe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?koe():void 0,...D}),c&&Coe({...D}),Poe({...D,apply:({elements:Qe,rects:Ue,availableWidth:vt,availableHeight:wt})=>{const{width:Et,height:ma}=Ue.reference,Ts=Qe.floating.style;Ts.setProperty("--radix-popper-available-width",`${vt}px`),Ts.setProperty("--radix-popper-available-height",`${wt}px`),Ts.setProperty("--radix-popper-anchor-width",`${Et}px`),Ts.setProperty("--radix-popper-anchor-height",`${ma}px`)}}),_&&Ooe({element:_,padding:l}),Foe({arrowWidth:N,arrowHeight:E}),h&&Aoe({strategy:"referenceHidden",...D})]}),[M,Q]=QU(z),J=Pn(v);vr(()=>{X&&(J==null||J())},[X,J]);const ee=(pe=I.arrow)==null?void 0:pe.x,Ee=(Ke=I.arrow)==null?void 0:Ke.y,je=((K=I.arrow)==null?void 0:K.centerOffset)!==0,[Fe,ze]=p.useState();return vr(()=>{y&&ze(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:X?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(re=I.transformOrigin)==null?void 0:re.x,(fe=I.transformOrigin)==null?void 0:fe.y].join(" "),...((G=I.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Doe,{scope:r,placedSide:M,onArrowChange:j,arrowX:ee,arrowY:Ee,shouldHideArrow:je,children:o.jsx(Oe.div,{"data-side":M,"data-align":Q,...g,ref:b,style:{...g.style,animation:X?void 0:"none"}})})})});GU.displayName=bC;var YU="PopperArrow",$oe={top:"bottom",right:"left",bottom:"top",left:"right"},XU=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=Moe(YU,n),a=$oe[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Roe,{...s,ref:r,style:{...s.style,display:"block"}})})});XU.displayName=YU;function Loe(e){return e!==null}var Foe=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=QU(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=a?f:`${h}px`,g=`${-c}px`):u==="top"?(v=a?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=a?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=a?f:`${m}px`),{data:{x:v,y:g}}}});function QU(e){const[t,r="center"]=e.split("-");return[t,r]}var wC=qU,_C=KU,jC=GU,SC=XU,Uoe=Symbol("radix.slottable");function zoe(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Uoe,t}var JU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Boe="VisuallyHidden",W0=p.forwardRef((e,t)=>o.jsx(Oe.span,{...e,ref:t,style:{...JU,...e.style}}));W0.displayName=Boe;var Voe=W0,[q0]=Cs("Tooltip",[$f]),H0=$f(),ZU="TooltipProvider",Woe=700,TS="tooltip.open",[qoe,NC]=q0(ZU),e6=e=>{const{__scopeTooltip:t,delayDuration:r=Woe,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(qoe,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};e6.displayName=ZU;var Hp="Tooltip",[Hoe,Im]=q0(Hp),t6=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,c=NC(Hp,e.__scopeTooltip),u=H0(t),[d,f]=p.useState(null),h=Ei(),m=p.useRef(0),v=a??c.disableHoverableContent,g=l??c.delayDuration,x=p.useRef(!1),[y,w]=ia({prop:n,defaultProp:s??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(TS))):c.onClose(),i==null||i(N)},caller:Hp}),b=p.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),_=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,w(!0)},[w]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,w(!0),m.current=0},g)},[g,w]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),o.jsx(wC,{...u,children:o.jsx(Hoe,{scope:t,contentId:h,open:y,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:p.useCallback(()=>{v?j():(window.clearTimeout(m.current),m.current=0)},[j,v]),onOpen:_,onClose:j,disableHoverableContent:v,children:r})})};t6.displayName=Hp;var RS="TooltipTrigger",r6=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Im(RS,r),i=NC(RS,r),a=H0(r),l=p.useRef(null),c=tt(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(_C,{asChild:!0,...a,children:o.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ne(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ne(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ne(e.onBlur,s.onClose),onClick:ne(e.onClick,s.onClose)})})});r6.displayName=RS;var EC="TooltipPortal",[Koe,Goe]=q0(EC,{forceMount:void 0}),n6=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:s}=e,i=Im(EC,t);return o.jsx(Koe,{scope:t,forceMount:r,children:o.jsx(Ps,{present:r||i.open,children:o.jsx(Af,{asChild:!0,container:s,children:n})})})};n6.displayName=EC;var rf="TooltipContent",s6=p.forwardRef((e,t)=>{const r=Goe(rf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=Im(rf,e.__scopeTooltip);return o.jsx(Ps,{present:n||a.open,children:a.disableHoverableContent?o.jsx(i6,{side:s,...i,ref:t}):o.jsx(Yoe,{side:s,...i,ref:t})})}),Yoe=p.forwardRef((e,t)=>{const r=Im(rf,e.__scopeTooltip),n=NC(rf,e.__scopeTooltip),s=p.useRef(null),i=tt(t,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((v,g)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},w=ele(y,x.getBoundingClientRect()),b=tle(y,w),_=rle(g.getBoundingClientRect()),j=sle([...b,..._]);l(j),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const v=x=>m(x,d),g=x=>m(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),p.useEffect(()=>{if(a){const v=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!nle(y,a);w?h():b&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,h]),o.jsx(i6,{...e,ref:i})}),[Xoe,Qoe]=q0(Hp,{isInside:!1}),Joe=zoe("TooltipContent"),i6=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Im(rf,r),u=H0(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(TS,d),()=>document.removeEventListener(TS,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(jC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Joe,{children:n}),o.jsx(Xoe,{scope:r,isInside:!0,children:o.jsx(Voe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});s6.displayName=rf;var a6="TooltipArrow",Zoe=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=H0(r);return Qoe(a6,r).isInside?null:o.jsx(SC,{...s,...n,ref:t})});Zoe.displayName=a6;function ele(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function tle(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function rle(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function nle(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function sle(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ile(t)}function ile(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var ale=e6,ole=t6,lle=r6,cle=n6,K0=s6;const ule=ale,dle=ole,fle=lle,o6=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(cle,{children:o.jsx(K0,{ref:n,sideOffset:t,className:$("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));o6.displayName=K0.displayName;const hle="sidebar_state",ple=60*60*24*7,mle="16rem",gle="18rem",vle="3rem",xle="b",l6=p.createContext(null);function G0(){const e=p.useContext(l6);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const cp=p.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:i,...a},l)=>{const c=Rse(),[u,d]=p.useState(!1),[f,h]=p.useState(e),m=t??f,v=p.useCallback(w=>{const b=typeof w=="function"?w(m):w;r?r(b):h(b),document.cookie=`${hle}=${b}; path=/; max-age=${ple}`},[r,m]),g=p.useCallback(()=>c?d(w=>!w):v(w=>!w),[c,v,d]);p.useEffect(()=>{const w=b=>{b.key===xle&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),g())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[g]);const x=m?"expanded":"collapsed",y=p.useMemo(()=>({state:x,open:m,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[x,m,v,c,u,d,g]);return o.jsx(l6.Provider,{value:y,children:o.jsx(ule,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":mle,"--sidebar-width-icon":vle,...s},className:$("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...a,children:i})})})});cp.displayName="SidebarProvider";const c6=p.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...i},a)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=G0();return r==="none"?o.jsx("div",{className:$("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...i,children:s}):l?o.jsx(yae,{open:u,onOpenChange:d,...i,children:o.jsxs(kU,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":gle},side:e,children:[o.jsxs(CU,{className:"sr-only",children:[o.jsx(PU,{children:"Sidebar"}),o.jsx(AU,{children:"Displays the mobile sidebar."})]}),o.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):o.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[o.jsx("div",{className:$("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:$("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});c6.displayName="Sidebar";const Y0=p.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=G0();return o.jsxs(W,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:$("h-7 w-7",e),onClick:i=>{t==null||t(i),s()},...r,children:[o.jsx(xae,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Y0.displayName="SidebarTrigger";const yle=p.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=G0();return o.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:$("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});yle.displayName="SidebarRail";const Lv=p.forwardRef(({className:e,...t},r)=>o.jsx("main",{ref:r,className:$("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Lv.displayName="SidebarInset";const ble=p.forwardRef(({className:e,...t},r)=>o.jsx(We,{ref:r,"data-sidebar":"input",className:$("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));ble.displayName="SidebarInput";const u6=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"header",className:$("flex flex-col gap-2 p-2",e),...t}));u6.displayName="SidebarHeader";const d6=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"footer",className:$("flex flex-col gap-2 p-2",e),...t}));d6.displayName="SidebarFooter";const wle=p.forwardRef(({className:e,...t},r)=>o.jsx(sC,{ref:r,"data-sidebar":"separator",className:$("mx-2 w-auto bg-sidebar-border",e),...t}));wle.displayName="SidebarSeparator";const f6=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"content",className:$("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));f6.displayName="SidebarContent";const IS=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"group",className:$("relative flex w-full min-w-0 flex-col p-2",e),...t}));IS.displayName="SidebarGroup";const DS=p.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Wl:"div";return o.jsx(s,{ref:n,"data-sidebar":"group-label",className:$("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});DS.displayName="SidebarGroupLabel";const _le=p.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Wl:"button";return o.jsx(s,{ref:n,"data-sidebar":"group-action",className:$("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});_le.displayName="SidebarGroupAction";const MS=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"group-content",className:$("w-full text-sm",e),...t}));MS.displayName="SidebarGroupContent";const $S=p.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu",className:$("flex w-full min-w-0 flex-col gap-1",e),...t}));$S.displayName="SidebarMenu";const LS=p.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,"data-sidebar":"menu-item",className:$("group/menu-item relative",e),...t}));LS.displayName="SidebarMenuItem";const jle=ha("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),FS=p.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:i,...a},l)=>{const c=e?Wl:"button",{isMobile:u,state:d}=G0(),f=o.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:$(jle({variant:r,size:n}),i),...a});return s?(typeof s=="string"&&(s={children:s}),o.jsxs(dle,{children:[o.jsx(fle,{asChild:!0,children:f}),o.jsx(o6,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):f});FS.displayName="SidebarMenuButton";const Sle=p.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const i=t?Wl:"button";return o.jsx(i,{ref:s,"data-sidebar":"menu-action",className:$("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});Sle.displayName="SidebarMenuAction";const Nle=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:$("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Nle.displayName="SidebarMenuBadge";const Ele=p.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:$("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&o.jsx(qt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(qt,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});Ele.displayName="SidebarMenuSkeleton";const kle=p.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:$("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));kle.displayName="SidebarMenuSub";const Cle=p.forwardRef(({...e},t)=>o.jsx("li",{ref:t,...e}));Cle.displayName="SidebarMenuSubItem";const Ple=p.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},i)=>{const a=e?Wl:"a";return o.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:$("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});Ple.displayName="SidebarMenuSubButton";const Ale=[{title:"Dashboard",href:"/dashboard",icon:x0},{title:"Review Analysis",href:"/analysis/new",icon:pr},{title:"Invoices",href:"/invoices",icon:Si},{title:"Menu Management",href:"/menu/dashboard",icon:Wa},{title:"COGS Tracker",href:"/cogs",icon:po},{title:"Menu Comparison",href:"/menu-comparison",icon:Qs},{title:"Price Analytics",href:"/analytics",icon:Zc}],Ole=[{title:"Saved Analyses",href:"/analysis/saved",icon:pr},{title:"Saved Comparisons",href:"/menu-comparison/saved",icon:Qs}];function Fv(){const e=ho(),{user:t,logout:r}=go(),n=i=>i==="/dashboard"?e.pathname==="/dashboard":e.pathname.startsWith(i),s=(t==null?void 0:t.subscription_tier)==="premium";return o.jsxs(c6,{children:[o.jsxs(u6,{className:"border-b border-white/10 p-4",children:[o.jsxs(Re,{to:"/dashboard",className:"flex items-center gap-2",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold text-white",children:"RestaurantIQ"})]}),s&&o.jsxs(ke,{className:"mt-2 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white border-0",children:[o.jsx(tu,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),o.jsxs(f6,{children:[o.jsxs(IS,{children:[o.jsx(DS,{children:"Main Menu"}),o.jsx(MS,{children:o.jsx($S,{children:Ale.map(i=>{const a=i.icon,l=n(i.href);return o.jsx(LS,{children:o.jsx(FS,{asChild:!0,isActive:l,children:o.jsxs(Re,{to:i.href,children:[o.jsx(a,{className:"h-4 w-4"}),o.jsx("span",{children:i.title}),i.badge&&o.jsx(ke,{variant:"secondary",className:"ml-auto",children:i.badge})]})})},i.href)})})})]}),o.jsxs(IS,{children:[o.jsx(DS,{children:"Reports"}),o.jsx(MS,{children:o.jsx($S,{children:Ole.map(i=>{const a=i.icon,l=n(i.href);return o.jsx(LS,{children:o.jsx(FS,{asChild:!0,isActive:l,children:o.jsxs(Re,{to:i.href,children:[o.jsx(a,{className:"h-4 w-4"}),o.jsx("span",{children:i.title})]})})},i.href)})})})]})]}),o.jsx(d6,{className:"border-t border-white/10 p-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-2",children:[o.jsx($p,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:t==null?void 0:t.email})]}),o.jsxs(W,{variant:"outline",size:"sm",onClick:r,className:"w-full border-white/10 text-slate-400 hover:text-white hover:bg-white/5",children:[o.jsx(k3,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})})]})}const jR={"/dashboard":{label:"Dashboard",icon:x0},"/cogs":{label:"COGS Tracker",parent:"/dashboard",icon:po},"/analysis/new":{label:"New Analysis",parent:"/dashboard",icon:pr},"/analysis/:analysisId/progress":{label:"Analysis Progress",parent:"/analysis/new"},"/analysis/:analysisId/results":{label:"Results",parent:"/analysis/new"},"/analysis/saved":{label:"Saved Analyses",parent:"/dashboard",icon:pr},"/invoices":{label:"Invoices",parent:"/dashboard",icon:Si},"/invoices/upload":{label:"Upload Invoice",parent:"/invoices"},"/invoices/:invoiceId":{label:"Invoice Detail",parent:"/invoices",dynamic:!0},"/menu/dashboard":{label:"Menu Management",parent:"/dashboard",icon:Wa},"/menu/upload":{label:"Upload Menu",parent:"/menu/dashboard"},"/menu/items/:menuItemId/recipe":{label:"Recipe Builder",parent:"/menu/dashboard",dynamic:!0},"/menu-comparison":{label:"Menu Comparison",parent:"/dashboard",icon:Qs},"/menu-comparison/:analysisId/select":{label:"Select Competitors",parent:"/menu-comparison"},"/menu-comparison/:analysisId/parse":{label:"Parsing Menus",parent:"/menu-comparison"},"/menu-comparison/:analysisId/results":{label:"Results",parent:"/menu-comparison"},"/menu-comparison/saved":{label:"Saved Comparisons",parent:"/dashboard",icon:Qs},"/analytics":{label:"Price Analytics",parent:"/dashboard",icon:Zc},"/analytics/alerts":{label:"Price Alerts",parent:"/analytics"},"/analytics/opportunities":{label:"Savings Opportunities",parent:"/analytics"},"/settings/alerts":{label:"Alert Settings",parent:"/analytics",icon:y0}};function Tle(){const e=ho(),t=Vl();let r=e.pathname;Object.keys(t).forEach(a=>{const l=t[a];l&&(r=r.replace(l,`:${a}`))});const n=[];let s=jR[r],i=e.pathname;for(;s&&(n.unshift({label:s.label,href:s.parent?i:void 0,icon:s.icon}),s.parent);){const a=jR[s.parent];if(a){const l=s.parent.split("/").filter(Boolean);i="/"+e.pathname.split("/").filter(Boolean).slice(0,l.length).join("/"),s=a}else break}return n}function Rle(){const e=Tle();return e.length===0?null:o.jsx("nav",{className:"flex items-center gap-2 text-sm",children:e.map((t,r)=>{const n=r===e.length-1,s=t.icon;return o.jsxs("div",{className:"flex items-center gap-2",children:[r>0&&o.jsx(ju,{className:"h-4 w-4 text-slate-600"}),t.href&&!n?o.jsxs(Re,{to:t.href,className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[s&&o.jsx(s,{className:"h-4 w-4"}),o.jsx("span",{children:t.label})]}):o.jsxs("div",{className:"flex items-center gap-2 text-white font-medium",children:[s&&o.jsx(s,{className:"h-4 w-4"}),o.jsx("span",{children:t.label})]})]},r)})})}function Ur({children:e,maxWidth:t="default"}){const r=t==="full"?"w-full px-4":t==="wide"?"container mx-auto px-4 max-w-[1600px]":"container mx-auto px-4 max-w-7xl";return o.jsx(cp,{children:o.jsxs("div",{className:"flex min-h-screen w-full bg-obsidian",children:[o.jsx(Fv,{}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsx("div",{className:"sticky top-0 z-10 border-b border-white/10 bg-card-dark/50 backdrop-blur-sm",children:o.jsx("div",{className:r,children:o.jsxs("div",{className:"flex items-center gap-4 py-4",children:[o.jsx(Y0,{className:"text-slate-400 hover:text-white"}),o.jsx(Rle,{})]})})}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsx("div",{className:"relative",children:o.jsx("div",{className:`${r} py-8`,children:e})})]})]})]})})}const Ile=()=>{const e=er.create({baseURL:"https://restaurantiq.us",withCredentials:!0,timeout:12e4,headers:{"Content-Type":"application/json"}});return e.interceptors.response.use(t=>t,async t=>{var a,l,c,u,d,f,h,m,v;const r=t.config,n=(a=r.url)==null?void 0:a.includes("/auth/"),s=t.code==="ECONNABORTED"||t.code==="ERR_NETWORK"||((l=t.response)==null?void 0:l.status)>=500&&((c=t.response)==null?void 0:c.status)<600,i=((u=r.method)==null?void 0:u.toLowerCase())==="post"&&((d=r.url)==null?void 0:d.includes("/upload"));if(s&&!n&&!i&&(r._retryCount=r._retryCount||0,r._retryCount<2)){r._retryCount+=1;const g=1e3*r._retryCount;return await new Promise(x=>setTimeout(x,g)),e(r)}if(((f=t.response)==null?void 0:f.status)===401&&!r._retry&&!n){r._retry=!0;try{return await e.post("/api/v1/auth/refresh"),e(r)}catch(g){return window.location.href="/login",Promise.reject(g)}}return((h=t.response)==null?void 0:h.status)===401&&n&&!((m=r.url)!=null&&m.includes("/login"))&&!((v=r.url)!=null&&v.includes("/register"))&&(window.location.href="/login"),Promise.reject(t)}),e},De=Ile();typeof window<"u"&&(setTimeout(()=>{De.get("/health").catch(()=>{})},1e4),setInterval(()=>{De.get("/health").catch(()=>{})},5*60*1e3));function X0(e,t=!0){const[r,n]=p.useState(null),[s,i]=p.useState(t),[a,l]=p.useState(null),c=async()=>{try{i(!0),l(null);const u=await De.get(`/api/v1/usage/check/${e}`);u.data.success?n(u.data):l(u.data.error||"Failed to check limit")}catch(u){console.error("Failed to check usage limit:",u),l(u instanceof Error?u.message:"Failed to check limit")}finally{i(!1)}};return p.useEffect(()=>{t&&c()},[e,t]),{limit:r,loading:s,error:a,checkLimit:c,isAllowed:(r==null?void 0:r.allowed)??!0,isBlocked:(r==null?void 0:r.allowed)===!1}}function Dle(){const[e,t]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(null),a=async()=>{try{n(!0),i(null);const l=await De.get("/api/v1/usage/summary");l.data.success||l.data.subscription_tier?t(l.data):i(l.data.error||"Failed to fetch summary")}catch(l){console.error("Failed to fetch usage summary:",l),i(l instanceof Error?l.message:"Failed to fetch summary")}finally{n(!1)}};return p.useEffect(()=>{a()},[]),{summary:e,loading:r,error:s,refresh:a,isPremium:(e==null?void 0:e.subscription_tier)==="premium"||(e==null?void 0:e.subscription_tier)==="enterprise",isUnlimited:(e==null?void 0:e.unlimited)??!1}}function Mle(){const{user:e}=go(),{summary:t,loading:r,isPremium:n,isUnlimited:s}=Dle();return o.jsxs(Ur,{maxWidth:"wide",children:[o.jsxs("div",{className:"mb-8 md:mb-10",children:[o.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:["Welcome back, ",(e==null?void 0:e.first_name)||"there","! "]}),o.jsx("p",{className:"text-base md:text-lg text-slate-400",children:"Your command center for competitive intelligence and operational insights"})]}),o.jsx("section",{className:"mb-10 md:mb-12",children:o.jsx($le,{summary:t,loading:r,isPremium:n,isUnlimited:s})}),o.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent mb-10 md:mb-12"}),o.jsxs("section",{className:"mb-10 md:mb-12",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[o.jsx(zg,{icon:o.jsx(pr,{className:"h-6 w-6"}),title:"Start New Analysis",description:"Analyze competitor reviews and discover insights",buttonText:"Analyze Competitors",buttonIcon:o.jsx(Ni,{className:"h-4 w-4 mr-2"}),linkTo:"/analysis/new",colorClass:"emerald"}),o.jsx(zg,{icon:o.jsx(Si,{className:"h-6 w-6"}),title:"Invoice Management",description:"Upload and manage your food service invoices",buttonText:"Manage Invoices",buttonIcon:o.jsx(Si,{className:"h-4 w-4 mr-2"}),linkTo:"/invoices",colorClass:"cyan"}),o.jsx(zg,{icon:o.jsx(Wa,{className:"h-6 w-6"}),title:"Menu Management",description:"Upload and manage your restaurant menu",buttonText:"View Menu",buttonIcon:o.jsx(Wa,{className:"h-4 w-4 mr-2"}),linkTo:"/menu/dashboard",colorClass:"orange"}),o.jsx(zg,{icon:o.jsx(Zc,{className:"h-6 w-6"}),title:"Price Analytics",description:"View price trends and savings opportunities",buttonText:"View Analytics",buttonIcon:o.jsx(Zc,{className:"h-4 w-4 mr-2"}),linkTo:"/analytics",colorClass:"purple"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-6",children:"Reports & Account"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-violet-500/50 transition-all duration-200 hover:shadow-lg hover:shadow-violet-500/10",children:[o.jsxs(Ne,{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-lg bg-violet-500/10 text-violet-400",children:o.jsx(Qs,{className:"h-5 w-5"})}),o.jsx(Te,{className:"text-white text-lg",children:"Menu Comparison"})]}),o.jsx(gn,{className:"text-slate-400 text-sm",children:"Compare competitor menus and pricing"})]}),o.jsxs(le,{className:"space-y-2",children:[o.jsx(Re,{to:"/menu-comparison",children:o.jsxs(W,{className:"w-full bg-gradient-to-r from-violet-500 to-violet-600 hover:from-violet-600 hover:to-violet-700 text-white",children:[o.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Compare Menus"]})}),o.jsx(Re,{to:"/menu-comparison/saved",children:o.jsxs(W,{variant:"outline",className:"w-full border-violet-500/30 text-violet-400 hover:bg-violet-500/10",children:[o.jsx(Si,{className:"h-4 w-4 mr-2"}),"Saved Reports"]})})]})]}),o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-slate-500/50 transition-all duration-200 hover:shadow-lg hover:shadow-slate-500/10",children:[o.jsxs(Ne,{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-lg bg-slate-500/10 text-slate-400",children:o.jsx(Jn,{className:"h-5 w-5"})}),o.jsx(Te,{className:"text-white text-lg",children:"Saved Analyses"})]}),o.jsx(gn,{className:"text-slate-400 text-sm",children:"View your previous competitive analyses"})]}),o.jsx(le,{children:o.jsx(Re,{to:"/analysis/saved",children:o.jsxs(W,{className:"w-full bg-gradient-to-r from-slate-500 to-slate-600 hover:from-slate-600 hover:to-slate-700 text-white",children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"View History"]})})})]}),o.jsx("div",{className:"md:col-span-2 lg:col-span-1",children:o.jsx(Tse,{})})]})]})]})}function $le({summary:e,loading:t,isPremium:r,isUnlimited:n}){if(t)return o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white flex items-center gap-2",children:[o.jsx(hr,{className:"h-5 w-5 animate-spin"}),"Loading Usage..."]})})});if(n)return o.jsxs(se,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/30",children:[o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white flex items-center gap-2 text-xl",children:[o.jsx(tu,{className:"h-6 w-6 text-emerald-400"}),"Premium Account"]})}),o.jsxs(le,{children:[o.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 mb-2",children:[o.jsx(_s,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold text-lg",children:"Unlimited Access"})]}),o.jsx("p",{className:"text-sm text-slate-400",children:"You have unlimited access to all features"})]})]});if(!(e!=null&&e.weekly))return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white flex items-center gap-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-yellow-400"}),"Usage Limits"]})}),o.jsx(le,{children:o.jsx("p",{className:"text-slate-400 text-sm",children:"Unable to load usage data"})})]});const s=[{name:"Invoice Uploads",used:e.weekly.invoice_uploads.used,limit:e.weekly.invoice_uploads.limit,color:"emerald"},{name:"Menu Uploads",used:e.weekly.menu_uploads.used,limit:e.weekly.menu_uploads.limit,color:"cyan"},{name:"Free Analyses",used:e.weekly.free_analyses.used,limit:e.weekly.free_analyses.limit,color:"blue"},{name:"Menu Comparisons",used:e.weekly.menu_comparisons.used,limit:e.weekly.menu_comparisons.limit,color:"purple"}],i=new Date(e.weekly.invoice_uploads.reset_date).toLocaleDateString("en-US",{month:"short",day:"numeric"});return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{className:"pb-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsx(Te,{className:"text-white text-xl",children:"Weekly Pulse"}),o.jsxs(ke,{variant:"outline",className:"text-xs text-slate-400 border-slate-600 w-fit",children:["Resets ",i]})]})}),o.jsxs(le,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-4",children:s.map((a,l)=>{const c=a.used/a.limit*100,d=a.limit-a.used===0;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"font-medium text-slate-300",children:a.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-slate-400",children:[a.used," / ",a.limit]}),d&&o.jsx(ke,{variant:"outline",className:"text-xs text-red-400 border-red-500/30 bg-red-500/10",children:"Limit Reached"})]})]}),o.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${d?"bg-red-500":a.color==="emerald"?"bg-emerald-400":a.color==="cyan"?"bg-cyan-400":a.color==="blue"?"bg-blue-400":"bg-purple-400"}`,style:{width:`${Math.min(c,100)}%`}})})]},l)})}),!r&&o.jsx("div",{className:"pt-4 mt-4 border-t border-white/10",children:o.jsx(Re,{to:"/pricing",className:"block",children:o.jsxs(W,{size:"lg",className:"w-full bg-gradient-to-r from-emerald-500 to-cyan-500 hover:opacity-90 text-white font-semibold shadow-lg shadow-emerald-500/25",children:[o.jsx(tu,{className:"h-4 w-4 mr-2"}),"Upgrade for Unlimited Access"]})})})]})]})}function zg({icon:e,title:t,description:r,buttonText:n,buttonIcon:s,linkTo:i,colorClass:a}){return o.jsxs(se,{className:`bg-card-dark border-white/10 hover:border-${a}-500/50 transition-all duration-200 hover:shadow-lg hover:shadow-${a}-500/10 hover:-translate-y-1`,children:[o.jsxs(Ne,{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:`p-3 rounded-lg bg-${a}-500/10 text-${a}-400`,children:e}),o.jsx(Te,{className:"text-white text-lg",children:t})]}),o.jsx(gn,{className:"text-slate-400 text-sm",children:r})]}),o.jsx(le,{children:o.jsx(Re,{to:i,children:o.jsxs(W,{size:"lg",className:`w-full bg-gradient-to-r from-${a}-500 to-${a}-600 hover:from-${a}-600 hover:to-${a}-700 text-white shadow-lg shadow-${a}-500/25 font-semibold`,children:[s,n]})})})]})}function SR(e){const t=Lle(e),r=p.forwardRef((n,s)=>{const{children:i,...a}=n,l=p.Children.toArray(i),c=l.find(Ule);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Lle(e){const t=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const a=Ble(s),l=zle(i,s.props);return s.type!==p.Fragment&&(l.ref=n?mo(n,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fle=Symbol("radix.slottable");function Ule(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fle}function zle(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Ble(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Q0(e){const t=e+"CollectionProvider",[r,n]=Cs(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:x,children:y}=g,w=Ie.useRef(null),b=Ie.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:b,collectionRef:w,children:y})};a.displayName=t;const l=e+"CollectionSlot",c=SR(l),u=Ie.forwardRef((g,x)=>{const{scope:y,children:w}=g,b=i(l,y),_=tt(x,b.collectionRef);return o.jsx(c,{ref:_,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=SR(d),m=Ie.forwardRef((g,x)=>{const{scope:y,children:w,...b}=g,_=Ie.useRef(null),j=tt(x,_),S=i(d,y);return Ie.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:j,children:w})});m.displayName=d;function v(g){const x=i(e+"CollectionConsumer",g);return Ie.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,N)=>b.indexOf(S.ref.current)-b.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},v,n]}var Vle=p.createContext(void 0);function J0(e){const t=p.useContext(Vle);return e||t||"ltr"}var Z_="rovingFocusGroup.onEntryFocus",Wle={bubbles:!1,cancelable:!0},Dm="RovingFocusGroup",[US,h6,qle]=Q0(Dm),[Hle,Z0]=Cs(Dm,[qle]),[Kle,Gle]=Hle(Dm),p6=p.forwardRef((e,t)=>o.jsx(US.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(US.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Yle,{...e,ref:t})})}));p6.displayName=Dm;var Yle=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=tt(t,h),v=J0(i),[g,x]=ia({prop:a,defaultProp:l??null,onChange:c,caller:Dm}),[y,w]=p.useState(!1),b=Pn(u),_=h6(r),j=p.useRef(!1),[S,N]=p.useState(0);return p.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Z_,b),()=>E.removeEventListener(Z_,b)},[b]),o.jsx(Kle,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(E=>x(E),[x]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>N(E=>E-1),[]),children:o.jsx(Oe.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{j.current=!0}),onFocus:ne(e.onFocus,E=>{const A=!j.current;if(E.target===E.currentTarget&&A&&!y){const P=new CustomEvent(Z_,Wle);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const C=_().filter(z=>z.focusable),k=C.find(z=>z.active),D=C.find(z=>z.id===g),L=[k,D,...C].filter(Boolean).map(z=>z.ref.current);v6(L,d)}}j.current=!1}),onBlur:ne(e.onBlur,()=>w(!1))})})}),m6="RovingFocusGroupItem",g6=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=Ei(),u=i||c,d=Gle(m6,r),f=d.currentTabStopId===u,h=h6(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),o.jsx(US.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ne(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=Jle(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(x.currentTarget);b=d.loop?Zle(b,_+1):b.slice(_+1)}setTimeout(()=>v6(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});g6.displayName=m6;var Xle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jle(e,t,r){const n=Qle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Xle[n]}function v6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Zle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var x6=p6,y6=g6;function ece(e){const t=tce(e),r=p.forwardRef((n,s)=>{const{children:i,...a}=n,l=p.Children.toArray(i),c=l.find(nce);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function tce(e){const t=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const a=ice(s),l=sce(i,s.props);return s.type!==p.Fragment&&(l.ref=n?mo(n,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rce=Symbol("radix.slottable");function nce(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rce}function sce(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ice(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zS=["Enter"," "],ace=["ArrowDown","PageUp","Home"],b6=["ArrowUp","PageDown","End"],oce=[...ace,...b6],lce={ltr:[...zS,"ArrowRight"],rtl:[...zS,"ArrowLeft"]},cce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mm="Menu",[Kp,uce,dce]=Q0(Mm),[Su,w6]=Cs(Mm,[dce,$f,Z0]),eb=$f(),_6=Z0(),[fce,Nu]=Su(Mm),[hce,$m]=Su(Mm),j6=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,l=eb(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Pn(i),h=J0(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(wC,{...l,children:o.jsx(fce,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(hce,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:n})})})};j6.displayName=Mm;var pce="MenuAnchor",kC=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=eb(r);return o.jsx(_C,{...s,...n,ref:t})});kC.displayName=pce;var CC="MenuPortal",[mce,S6]=Su(CC,{forceMount:void 0}),N6=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Nu(CC,t);return o.jsx(mce,{scope:t,forceMount:r,children:o.jsx(Ps,{present:r||i.open,children:o.jsx(Af,{asChild:!0,container:s,children:n})})})};N6.displayName=CC;var Hs="MenuContent",[gce,PC]=Su(Hs),E6=p.forwardRef((e,t)=>{const r=S6(Hs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Nu(Hs,e.__scopeMenu),a=$m(Hs,e.__scopeMenu);return o.jsx(Kp.Provider,{scope:e.__scopeMenu,children:o.jsx(Ps,{present:n||i.open,children:o.jsx(Kp.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(vce,{...s,ref:t}):o.jsx(xce,{...s,ref:t})})})})}),vce=p.forwardRef((e,t)=>{const r=Nu(Hs,e.__scopeMenu),n=p.useRef(null),s=tt(t,n);return p.useEffect(()=>{const i=n.current;if(i)return aC(i)},[]),o.jsx(AC,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),xce=p.forwardRef((e,t)=>{const r=Nu(Hs,e.__scopeMenu);return o.jsx(AC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yce=ece("MenuContent.ScrollLock"),AC=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...g}=e,x=Nu(Hs,r),y=$m(Hs,r),w=eb(r),b=_6(r),_=uce(r),[j,S]=p.useState(null),N=p.useRef(null),E=tt(t,N,x.onContentChange),A=p.useRef(0),P=p.useRef(""),C=p.useRef(0),k=p.useRef(null),D=p.useRef("right"),T=p.useRef(0),L=v?L0:p.Fragment,z=v?{as:yce,allowPinchZoom:!0}:void 0,X=M=>{var pe,Ke;const Q=P.current+M,J=_().filter(K=>!K.disabled),ee=document.activeElement,Ee=(pe=J.find(K=>K.ref.current===ee))==null?void 0:pe.textValue,je=J.map(K=>K.textValue),Fe=Oce(je,Q,Ee),ze=(Ke=J.find(K=>K.textValue===Fe))==null?void 0:Ke.ref.current;(function K(re){P.current=re,window.clearTimeout(A.current),re!==""&&(A.current=window.setTimeout(()=>K(""),1e3))})(Q),ze&&setTimeout(()=>ze.focus())};p.useEffect(()=>()=>window.clearTimeout(A.current),[]),iC();const I=p.useCallback(M=>{var J,ee;return D.current===((J=k.current)==null?void 0:J.side)&&Rce(M,(ee=k.current)==null?void 0:ee.area)},[]);return o.jsx(gce,{scope:r,searchRef:P,onItemEnter:p.useCallback(M=>{I(M)&&M.preventDefault()},[I]),onItemLeave:p.useCallback(M=>{var Q;I(M)||((Q=N.current)==null||Q.focus(),S(null))},[I]),onTriggerLeave:p.useCallback(M=>{I(M)&&M.preventDefault()},[I]),pointerGraceTimerRef:C,onPointerGraceIntentChange:p.useCallback(M=>{k.current=M},[]),children:o.jsx(L,{...z,children:o.jsx(M0,{asChild:!0,trapped:s,onMountAutoFocus:ne(i,M=>{var Q;M.preventDefault(),(Q=N.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(x6,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:ne(c,M=>{y.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(jC,{role:"menu","aria-orientation":"vertical","data-state":B6(x.open),"data-radix-menu-content":"",dir:y.dir,...w,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,M=>{const J=M.target.closest("[data-radix-menu-content]")===M.currentTarget,ee=M.ctrlKey||M.altKey||M.metaKey,Ee=M.key.length===1;J&&(M.key==="Tab"&&M.preventDefault(),!ee&&Ee&&X(M.key));const je=N.current;if(M.target!==je||!oce.includes(M.key))return;M.preventDefault();const ze=_().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);b6.includes(M.key)&&ze.reverse(),Pce(ze)}),onBlur:ne(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(A.current),P.current="")}),onPointerMove:ne(e.onPointerMove,Gp(M=>{const Q=M.target,J=T.current!==M.clientX;if(M.currentTarget.contains(Q)&&J){const ee=M.clientX>T.current?"right":"left";D.current=ee,T.current=M.clientX}}))})})})})})})});E6.displayName=Hs;var bce="MenuGroup",OC=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Oe.div,{role:"group",...n,ref:t})});OC.displayName=bce;var wce="MenuLabel",k6=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Oe.div,{...n,ref:t})});k6.displayName=wce;var qx="MenuItem",NR="menu.itemSelect",tb=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=p.useRef(null),a=$m(qx,e.__scopeMenu),l=PC(qx,e.__scopeMenu),c=tt(t,i),u=p.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(NR,{bubbles:!0,cancelable:!0});f.addEventListener(NR,m=>n==null?void 0:n(m),{once:!0}),Ik(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(C6,{...s,ref:c,disabled:r,onClick:ne(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ne(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ne(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||zS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});tb.displayName=qx;var C6=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=PC(qx,r),l=_6(r),c=p.useRef(null),u=tt(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),o.jsx(Kp.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:o.jsx(y6,{asChild:!0,...l,focusable:!n,children:o.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ne(e.onPointerMove,Gp(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(e.onPointerLeave,Gp(v=>a.onItemLeave(v))),onFocus:ne(e.onFocus,()=>f(!0)),onBlur:ne(e.onBlur,()=>f(!1))})})})}),_ce="MenuCheckboxItem",P6=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(I6,{scope:e.__scopeMenu,checked:r,children:o.jsx(tb,{role:"menuitemcheckbox","aria-checked":Hx(r)?"mixed":r,...s,ref:t,"data-state":RC(r),onSelect:ne(s.onSelect,()=>n==null?void 0:n(Hx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});P6.displayName=_ce;var A6="MenuRadioGroup",[jce,Sce]=Su(A6,{value:void 0,onValueChange:()=>{}}),O6=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Pn(n);return o.jsx(jce,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(OC,{...s,ref:t})})});O6.displayName=A6;var T6="MenuRadioItem",R6=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=Sce(T6,e.__scopeMenu),i=r===s.value;return o.jsx(I6,{scope:e.__scopeMenu,checked:i,children:o.jsx(tb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":RC(i),onSelect:ne(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});R6.displayName=T6;var TC="MenuItemIndicator",[I6,Nce]=Su(TC,{checked:!1}),D6=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Nce(TC,r);return o.jsx(Ps,{present:n||Hx(i.checked)||i.checked===!0,children:o.jsx(Oe.span,{...s,ref:t,"data-state":RC(i.checked)})})});D6.displayName=TC;var Ece="MenuSeparator",M6=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});M6.displayName=Ece;var kce="MenuArrow",$6=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=eb(r);return o.jsx(SC,{...s,...n,ref:t})});$6.displayName=kce;var Cce="MenuSub",[hTe,L6]=Su(Cce),Mh="MenuSubTrigger",F6=p.forwardRef((e,t)=>{const r=Nu(Mh,e.__scopeMenu),n=$m(Mh,e.__scopeMenu),s=L6(Mh,e.__scopeMenu),i=PC(Mh,e.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(kC,{asChild:!0,...u,children:o.jsx(C6,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":B6(r.open),...e,ref:mo(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,Gp(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ne(e.onPointerLeave,Gp(f=>{var m,v;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(v=r.content)==null?void 0:v.dataset.side,x=g==="right",y=x?-5:5,w=h[x?"left":"right"],b=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||lce[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});F6.displayName=Mh;var U6="MenuSubContent",z6=p.forwardRef((e,t)=>{const r=S6(Hs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Nu(Hs,e.__scopeMenu),a=$m(Hs,e.__scopeMenu),l=L6(U6,e.__scopeMenu),c=p.useRef(null),u=tt(t,c);return o.jsx(Kp.Provider,{scope:e.__scopeMenu,children:o.jsx(Ps,{present:n||i.open,children:o.jsx(Kp.Slot,{scope:e.__scopeMenu,children:o.jsx(AC,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ne(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=cce[a.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});z6.displayName=U6;function B6(e){return e?"open":"closed"}function Hx(e){return e==="indeterminate"}function RC(e){return Hx(e)?"indeterminate":e?"checked":"unchecked"}function Pce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Ace(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Oce(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=Ace(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Tce(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function Rce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Tce(r,t)}function Gp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ice=j6,Dce=kC,Mce=N6,$ce=E6,Lce=OC,Fce=k6,Uce=tb,zce=P6,Bce=O6,Vce=R6,Wce=D6,qce=M6,Hce=$6,Kce=F6,Gce=z6,rb="DropdownMenu",[Yce]=Cs(rb,[w6]),Rn=w6(),[Xce,V6]=Yce(rb),W6=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=Rn(t),u=p.useRef(null),[d,f]=ia({prop:s,defaultProp:i??!1,onChange:a,caller:rb});return o.jsx(Xce,{scope:t,triggerId:Ei(),triggerRef:u,contentId:Ei(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(Ice,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};W6.displayName=rb;var q6="DropdownMenuTrigger",H6=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=V6(q6,r),a=Rn(r);return o.jsx(Dce,{asChild:!0,...a,children:o.jsx(Oe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:mo(t,i.triggerRef),onPointerDown:ne(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ne(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});H6.displayName=q6;var Qce="DropdownMenuPortal",K6=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Rn(t);return o.jsx(Mce,{...n,...r})};K6.displayName=Qce;var G6="DropdownMenuContent",Y6=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=V6(G6,r),i=Rn(r),a=p.useRef(!1);return o.jsx($ce,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y6.displayName=G6;var Jce="DropdownMenuGroup",Zce=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Lce,{...s,...n,ref:t})});Zce.displayName=Jce;var eue="DropdownMenuLabel",X6=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Fce,{...s,...n,ref:t})});X6.displayName=eue;var tue="DropdownMenuItem",Q6=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Uce,{...s,...n,ref:t})});Q6.displayName=tue;var rue="DropdownMenuCheckboxItem",J6=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(zce,{...s,...n,ref:t})});J6.displayName=rue;var nue="DropdownMenuRadioGroup",sue=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Bce,{...s,...n,ref:t})});sue.displayName=nue;var iue="DropdownMenuRadioItem",Z6=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Vce,{...s,...n,ref:t})});Z6.displayName=iue;var aue="DropdownMenuItemIndicator",ez=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Wce,{...s,...n,ref:t})});ez.displayName=aue;var oue="DropdownMenuSeparator",tz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(qce,{...s,...n,ref:t})});tz.displayName=oue;var lue="DropdownMenuArrow",cue=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Hce,{...s,...n,ref:t})});cue.displayName=lue;var uue="DropdownMenuSubTrigger",rz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Kce,{...s,...n,ref:t})});rz.displayName=uue;var due="DropdownMenuSubContent",nz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Gce,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nz.displayName=due;var fue=W6,hue=H6,sz=K6,nb=Y6,sb=X6,ib=Q6,ab=J6,ob=Z6,lb=ez,cb=tz,ub=rz,db=nz;const pue=fue,mue=hue,gue=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(ub,{ref:s,className:$("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,o.jsx(hae,{className:"ml-auto"})]}));gue.displayName=ub.displayName;const vue=p.forwardRef(({className:e,...t},r)=>o.jsx(db,{ref:r,className:$("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));vue.displayName=db.displayName;const iz=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(sz,{children:o.jsx(nb,{ref:n,sideOffset:t,className:$("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));iz.displayName=nb.displayName;const BS=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(ib,{ref:n,className:$("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));BS.displayName=ib.displayName;const xue=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(ab,{ref:s,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lb,{children:o.jsx(dae,{className:"h-4 w-4"})})}),t]}));xue.displayName=ab.displayName;const yue=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ob,{ref:n,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lb,{children:o.jsx(gae,{className:"h-2 w-2 fill-current"})})}),t]}));yue.displayName=ob.displayName;const az=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(sb,{ref:n,className:$("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));az.displayName=sb.displayName;const VS=p.forwardRef(({className:e,...t},r)=>o.jsx(cb,{ref:r,className:$("-mx-1 my-1 h-px bg-muted",e),...t}));VS.displayName=cb.displayName;function bue(e,t=[]){let r=[];function n(i,a){const l=p.createContext(a);l.displayName=i+"Context";const c=r.length;r=[...r,a];const u=f=>{var y;const{scope:h,children:m,...v}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,x=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,wue(s,...t)]}function wue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var _ue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IC=_ue.reduce((e,t)=>{const r=Ak(`Primitive.${t}`),n=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function jue(){return vL.useSyncExternalStore(Sue,()=>!0,()=>!1)}function Sue(){return()=>{}}var DC="Avatar",[Nue]=bue(DC),[Eue,oz]=Nue(DC),lz=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=p.useState("idle");return o.jsx(Eue,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(IC.span,{...n,ref:t})})});lz.displayName=DC;var cz="AvatarImage",uz=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,a=oz(cz,r),l=kue(n,i),c=Pn(u=>{s(u),a.onImageLoadingStatusChange(u)});return vr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(IC.img,{...i,ref:t,src:n}):null});uz.displayName=cz;var dz="AvatarFallback",fz=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=oz(dz,r),[a,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(IC.span,{...s,ref:t}):null});fz.displayName=dz;function ER(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kue(e,{referrerPolicy:t,crossOrigin:r}){const n=jue(),s=p.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=p.useState(()=>ER(i,e));return vr(()=>{l(ER(i,e))},[i,e]),vr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),a}var hz=lz,pz=uz,mz=fz;const gz=p.forwardRef(({className:e,...t},r)=>o.jsx(hz,{ref:r,className:$("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gz.displayName=hz.displayName;const Cue=p.forwardRef(({className:e,...t},r)=>o.jsx(pz,{ref:r,className:$("aspect-square h-full w-full",e),...t}));Cue.displayName=pz.displayName;const vz=p.forwardRef(({className:e,...t},r)=>o.jsx(mz,{ref:r,className:$("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));vz.displayName=mz.displayName;function Pue(){var i;const{user:e,logout:t}=go(),r=Nt(),n=async()=>{await t(),r("/login")},s=e!=null&&e.first_name&&(e!=null&&e.last_name)?`${e.first_name[0]}${e.last_name[0]}`.toUpperCase():((i=e==null?void 0:e.email)==null?void 0:i[0].toUpperCase())||"U";return o.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-white/10 bg-obsidian/95 backdrop-blur supports-[backdrop-filter]:bg-obsidian/60",children:o.jsxs("div",{className:"flex h-16 items-center gap-4 px-4",children:[o.jsx(Y0,{}),o.jsx("div",{className:"flex-1",children:o.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Welcome back, ",(e==null?void 0:e.first_name)||"there","! "]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white",children:o.jsx(S3,{className:"h-5 w-5"})}),o.jsxs(pue,{children:[o.jsx(mue,{asChild:!0,children:o.jsx(W,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:o.jsx(gz,{children:o.jsx(vz,{className:"bg-emerald-500/10 text-emerald-400",children:s})})})}),o.jsxs(iz,{align:"end",className:"w-56 bg-slate-850 border-white/10",children:[o.jsx(az,{className:"text-white",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),o.jsx("p",{className:"text-xs text-slate-400",children:e==null?void 0:e.email})]})}),o.jsx(VS,{className:"bg-white/10"}),o.jsxs(BS,{className:"text-slate-300 focus:text-white focus:bg-slate-800",children:[o.jsx($p,{className:"mr-2 h-4 w-4"}),"Profile"]}),o.jsx(VS,{className:"bg-white/10"}),o.jsx(BS,{onClick:n,className:"text-red-400 focus:text-red-300 focus:bg-red-500/10",children:"Log out"})]})]})]})]})})}function kR({title:e,value:t,icon:r,trend:n,loading:s,className:i}){return s?o.jsxs(se,{className:i,children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(qt,{className:"h-4 w-24"}),o.jsx(qt,{className:"h-4 w-4 rounded"})]}),o.jsxs(le,{children:[o.jsx(qt,{className:"h-8 w-32 mb-2"}),o.jsx(qt,{className:"h-3 w-20"})]})]}):o.jsxs(se,{className:`${i} flex flex-col`,children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium text-slate-400",children:e}),o.jsx(r,{className:"h-4 w-4 text-slate-400"})]}),o.jsxs(le,{className:"flex-1 flex flex-col justify-center",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:t}),n&&o.jsxs("p",{className:`text-xs mt-1 ${n.isPositive?"text-emerald-400":"text-red-400"}`,children:[n.isPositive?"+":"",n.value,"% from last period"]})]})]})}function CR({title:e,count:t,icon:r,type:n,loading:s,linkTo:i,subtitle:a}){const c={negative:{icon:"text-red-400 bg-red-500/10",border:"hover:border-red-500/50",text:"text-red-400"},positive:{icon:"text-emerald-400 bg-emerald-500/10",border:"hover:border-emerald-500/50",text:"text-emerald-400"}}[n];return s?o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(qt,{className:"h-4 w-32"}),o.jsx(qt,{className:"h-4 w-4 rounded"})]}),o.jsxs(le,{children:[o.jsx(qt,{className:"h-8 w-20 mb-2"}),o.jsx(qt,{className:"h-3 w-40"})]})]}):o.jsx(Re,{to:i,className:"block h-full",children:o.jsxs(se,{className:`bg-card-dark border-white/10 transition-all duration-200 hover:-translate-y-1 hover:shadow-lg cursor-pointer h-full flex flex-col ${c.border}`,children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium text-slate-400",children:e}),o.jsx("div",{className:`p-2 rounded-lg ${c.icon}`,children:o.jsx(r,{className:"h-4 w-4"})})]}),o.jsxs(le,{className:"flex-1 flex flex-col justify-center",children:[o.jsx("div",{className:`text-3xl font-bold ${c.text}`,children:t}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a})]})]})})}const fb=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:$("w-full caption-bottom text-sm",e),...t})}));fb.displayName="Table";const hb=p.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:$("[&_tr]:border-b border-white/10",e),...t}));hb.displayName="TableHeader";const pb=p.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:$("[&_tr:last-child]:border-0",e),...t}));pb.displayName="TableBody";const Aue=p.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:$("border-t border-white/10 bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Aue.displayName="TableFooter";const cu=p.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:$("border-b border-white/5 transition-colors hover:bg-emerald-500/5 data-[state=selected]:bg-emerald-500/10",e),...t}));cu.displayName="TableRow";const _r=p.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:$("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_r.displayName="TableHead";const jr=p.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:$("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));jr.displayName="TableCell";const Oue=p.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:$("mt-4 text-sm text-muted-foreground",e),...t}));Oue.displayName="TableCaption";const xz={async getNegativeAlertsCount(){var e,t;try{return((t=(e=(await De.get("/api/v1/analytics/price-anomalies?days_back=30&min_change_percent=10")).data)==null?void 0:e.anomalies)==null?void 0:t.length)||0}catch(r){return console.error("Failed to fetch negative alerts:",r),0}},async getNegativeAlerts(){var e;try{return((e=(await De.get("/api/v1/analytics/price-anomalies?days_back=30&min_change_percent=10")).data)==null?void 0:e.anomalies)||[]}catch(t){return console.error("Failed to fetch negative alerts:",t),[]}},async getPositiveAlertsCount(){var e,t;try{return((t=(e=(await De.get("/api/v1/analytics/savings-opportunities?min_savings_percent=5&days_back=30")).data)==null?void 0:e.opportunities)==null?void 0:t.length)||0}catch(r){return console.error("Failed to fetch positive alerts:",r),0}},async getPositiveAlerts(){var e;try{return((e=(await De.get("/api/v1/analytics/savings-opportunities?min_savings_percent=5&days_back=30")).data)==null?void 0:e.opportunities)||[]}catch(t){return console.error("Failed to fetch positive alerts:",t),[]}},async getRecentInvoicesCount(){var e,t;try{return((t=(e=(await De.get("/api/v1/invoices?page=1&per_page=10")).data)==null?void 0:e.pagination)==null?void 0:t.total_count)||0}catch(r){return console.error("Failed to fetch recent invoices:",r),0}},async getMenuItemsCount(){var e;try{const r=((e=(await De.get("/api/v1/menu/list?page=1&per_page=10")).data)==null?void 0:e.data)||[];let n=0;for(const s of r)n+=s.item_count||0;return n}catch(t){return console.error("Failed to fetch menu items:",t),0}},async getKPIData(){const[e,t,r,n]=await Promise.all([this.getNegativeAlertsCount(),this.getPositiveAlertsCount(),this.getRecentInvoicesCount(),this.getMenuItemsCount()]);return{negativeAlerts:e,positiveAlerts:t,recentInvoicesCount:r,menuItemsCount:n}},async getRecentlyOrderedItems(e=0,t=10){var r;try{const a=(((r=(await De.get("/api/v1/analytics/items-list?days_back=90")).data)==null?void 0:r.items)||[]).sort((d,f)=>{const h=new Date(d.last_paid_date||0);return new Date(f.last_paid_date||0).getTime()-h.getTime()}).map(d=>{let f="stable";const h=d.price_change_7day_percent||d.price_change_28day_percent;return h&&(h>5?f="up":h<-5&&(f="down")),{item_description:d.description||"Unknown Item",vendor_name:d.last_paid_vendor||"Unknown Vendor",last_price:d.last_paid_price||0,last_ordered:d.last_paid_date||new Date().toISOString(),trend:f,price_change_percent:h||0}}),l=e*t,c=l+t;return{items:a.slice(l,c),total:a.length}}catch(n){return console.error("Failed to fetch recently ordered items:",n),{items:[],total:0}}}};function WS(e){"@babel/helpers - typeof";return WS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WS(e)}function Li(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function hn(e){Li(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||WS(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Tue={};function Rue(){return Tue}function PR(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Uv(e,t){Li(2,arguments);var r=hn(e),n=hn(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Iue(e,t){Li(2,arguments);var r=hn(e),n=hn(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Due(e,t){return Li(2,arguments),hn(e).getTime()-hn(t).getTime()}var Mue={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},$ue="trunc";function Lue(e){return Mue[$ue]}function Fue(e){Li(1,arguments);var t=hn(e);return t.setHours(23,59,59,999),t}function Uue(e){Li(1,arguments);var t=hn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function zue(e){Li(1,arguments);var t=hn(e);return Fue(t).getTime()===Uue(t).getTime()}function Bue(e,t){Li(2,arguments);var r=hn(e),n=hn(t),s=Uv(r,n),i=Math.abs(Iue(r,n)),a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);var l=Uv(r,n)===-s;zue(hn(e))&&i===1&&Uv(e,n)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function Vue(e,t,r){Li(2,arguments);var n=Due(e,t)/1e3;return Lue()(n)}var Wue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},que=function(t,r,n){var s,i=Wue[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function e1(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Hue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yue={date:e1({formats:Hue,defaultWidth:"full"}),time:e1({formats:Kue,defaultWidth:"full"}),dateTime:e1({formats:Gue,defaultWidth:"full"})},Xue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Que=function(t,r,n,s){return Xue[t]};function dh(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var Jue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ede={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sde=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ide={ordinalNumber:sde,era:dh({values:Jue,defaultWidth:"wide"}),quarter:dh({values:Zue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:dh({values:ede,defaultWidth:"wide"}),day:dh({values:tde,defaultWidth:"wide"}),dayPeriod:dh({values:rde,defaultWidth:"wide",formattingValues:nde,defaultFormattingWidth:"wide"})};function fh(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ode(l,function(f){return f.test(a)}):ade(l,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function ade(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function ode(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function lde(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var cde=/^(\d+)(th|st|nd|rd)?/i,ude=/\d+/i,dde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fde={any:[/^b/i,/^(a|c)/i]},hde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pde={any:[/1/i,/2/i,/3/i,/4/i]},mde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wde={ordinalNumber:lde({matchPattern:cde,parsePattern:ude,valueCallback:function(t){return parseInt(t,10)}}),era:fh({matchPatterns:dde,defaultMatchWidth:"wide",parsePatterns:fde,defaultParseWidth:"any"}),quarter:fh({matchPatterns:hde,defaultMatchWidth:"wide",parsePatterns:pde,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:fh({matchPatterns:mde,defaultMatchWidth:"wide",parsePatterns:gde,defaultParseWidth:"any"}),day:fh({matchPatterns:vde,defaultMatchWidth:"wide",parsePatterns:xde,defaultParseWidth:"any"}),dayPeriod:fh({matchPatterns:yde,defaultMatchWidth:"any",parsePatterns:bde,defaultParseWidth:"any"})},_de={code:"en-US",formatDistance:que,formatLong:Yue,formatRelative:Que,localize:ide,match:wde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yz(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function jde(e){return yz({},e)}var AR=1440,Sde=2520,t1=43200,Nde=86400;function Ede(e,t,r){var n,s;Li(2,arguments);var i=Rue(),a=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:i.locale)!==null&&n!==void 0?n:_de;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Uv(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=yz(jde(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=hn(t),d=hn(e)):(u=hn(e),d=hn(t));var f=Vue(d,u),h=(PR(d)-PR(u))/1e3,m=Math.round((f-h)/60),v;if(m<2)return r!=null&&r.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,c):f<10?a.formatDistance("lessThanXSeconds",10,c):f<20?a.formatDistance("lessThanXSeconds",20,c):f<40?a.formatDistance("halfAMinute",0,c):f<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):m===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",m,c);if(m<45)return a.formatDistance("xMinutes",m,c);if(m<90)return a.formatDistance("aboutXHours",1,c);if(m<AR){var g=Math.round(m/60);return a.formatDistance("aboutXHours",g,c)}else{if(m<Sde)return a.formatDistance("xDays",1,c);if(m<t1){var x=Math.round(m/AR);return a.formatDistance("xDays",x,c)}else if(m<Nde)return v=Math.round(m/t1),a.formatDistance("aboutXMonths",v,c)}if(v=Bue(d,u),v<12){var y=Math.round(m/t1);return a.formatDistance("xMonths",y,c)}else{var w=v%12,b=Math.floor(v/12);return w<3?a.formatDistance("aboutXYears",b,c):w<9?a.formatDistance("overXYears",b,c):a.formatDistance("almostXYears",b+1,c)}}function kde(e,t){return Li(1,arguments),Ede(e,Date.now(),t)}function Cde(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(0),[a,l]=p.useState(0),c=10;p.useEffect(()=>{u()},[s]);const u=async()=>{n(!0);try{const v=await xz.getRecentlyOrderedItems(s,c);t(v.items),l(v.total)}catch(v){console.error("Failed to load recently ordered items:",v)}finally{n(!1)}},d=Math.ceil(a/c),f=s<d-1,h=s>0,m=v=>{switch(v){case"up":return o.jsx(Zt,{className:"h-4 w-4 text-red-400"});case"down":return o.jsx(Al,{className:"h-4 w-4 text-emerald-400"});default:return o.jsx(PQ,{className:"h-4 w-4 text-slate-400"})}};return r&&e.length===0?o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsx(Te,{className:"text-white",children:"Recently Ordered Items"})}),o.jsx(le,{children:o.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(v=>o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(qt,{className:"h-12 flex-1"})},v))})})]}):!r&&e.length===0?o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsx(Te,{className:"text-white",children:"Recently Ordered Items"})}),o.jsx(le,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-slate-400",children:"No items found"}),o.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Upload invoices to see recently ordered items"})]})})]}):o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsxs(le,{className:"p-0",children:[o.jsx("div",{className:"rounded-lg overflow-hidden border border-white/10",children:o.jsxs(fb,{children:[o.jsx(hb,{children:o.jsxs(cu,{className:"border-white/10 bg-slate-800/30 hover:bg-slate-800/30",children:[o.jsx(_r,{className:"text-slate-300 font-semibold h-12",children:"Item Name"}),o.jsx(_r,{className:"text-slate-300 font-semibold",children:"Vendor"}),o.jsx(_r,{className:"text-slate-300 font-semibold text-right",children:"Last Price"}),o.jsx(_r,{className:"text-slate-300 font-semibold",children:"Last Ordered"}),o.jsx(_r,{className:"text-slate-300 font-semibold text-center",children:"Trend"})]})}),o.jsx(pb,{children:e.map((v,g)=>o.jsxs(cu,{className:`
                    border-white/10 hover:bg-slate-800/70 cursor-pointer transition-colors
                    ${g%2===0?"bg-slate-900/20":"bg-transparent"}
                  `,children:[o.jsx(jr,{className:"font-medium text-white py-4",children:v.item_description}),o.jsx(jr,{className:"text-slate-300",children:v.vendor_name}),o.jsxs(jr,{className:"text-right text-slate-300 font-mono",children:["$",v.last_price.toFixed(2)]}),o.jsx(jr,{className:"text-slate-400",children:kde(new Date(v.last_ordered),{addSuffix:!0})}),o.jsx(jr,{className:"text-center",children:o.jsx("div",{className:"flex items-center justify-center",children:m(v.trend)})})]},g))})]})}),d>1&&o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-white/10",children:[o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>i(s-1),disabled:!h||r,className:"border-white/10 text-slate-300 hover:bg-slate-800",children:[o.jsx(SQ,{className:"h-4 w-4 mr-1"}),"Previous"]}),o.jsxs("div",{className:"text-sm text-slate-400",children:["Page ",s+1," of ",d]}),o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>i(s+1),disabled:!f||r,className:"border-white/10 text-slate-300 hover:bg-slate-800",children:["Next",o.jsx(ju,{className:"h-4 w-4 ml-1"})]})]})]})})}var Pde=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function MC(e){if(typeof e!="string")return!1;var t=Pde;return t.includes(e)}var Ade=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function bz(e){if(typeof e!="string")return!1;var t=Ade;return t.includes(e)}function wz(e){return typeof e=="string"&&e.startsWith("data-")}function Js(e){var t=Object.entries(e).filter(r=>{var[n]=r;return bz(n)||wz(n)});return Object.fromEntries(t)}function Lm(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Js(t)}return typeof e=="object"&&!Array.isArray(e)?Js(e):null}function ts(e){var t=Object.entries(e).filter(r=>{var[n]=r;return bz(n)||wz(n)||MC(n)});return Object.fromEntries(t)}function Ode(e){return e==null?null:p.isValidElement(e)?ts(e.props):typeof e=="object"&&!Array.isArray(e)?ts(e):null}var Tde=["children","width","height","viewBox","className","style","title","desc"];function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qS.apply(null,arguments)}function Rde(e,t){if(e==null)return{};var r,n,s=Ide(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ide(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _z=p.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:a,style:l,title:c,desc:u}=e,d=Rde(e,Tde),f=i||{width:n,height:s,x:0,y:0},h=lt("recharts-surface",a);return p.createElement("svg",qS({},ts(d),{className:h,width:n,height:s,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),Dde=["children","className"];function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HS.apply(null,arguments)}function Mde(e,t){if(e==null)return{};var r,n,s=$de(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $de(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rs=p.forwardRef((e,t)=>{var{children:r,className:n}=e,s=Mde(e,Dde),i=lt("recharts-layer",n);return p.createElement("g",HS({className:i},ts(s),{ref:t}),r)}),Lde=p.createContext(null);function Ct(e){return function(){return e}}const jz=Math.cos,Kx=Math.sin,Fi=Math.sqrt,Gx=Math.PI,mb=2*Gx,KS=Math.PI,GS=2*KS,lc=1e-6,Fde=GS-lc;function Sz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ude(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Sz;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class zde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Sz:Ude(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,a){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+a}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,c=n-t,u=s-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>lc)if(!(Math.abs(f*c-u*d)>lc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,v=s-l,g=c*c+u*u,x=m*m+v*v,y=Math.sqrt(g),w=Math.sqrt(h),b=i*Math.tan((KS-Math.acos((g+h-x)/(2*y*w)))/2),_=b/w,j=b/y;Math.abs(_-1)>lc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^a,h=a?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>lc||Math.abs(this._y1-d)>lc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%GS+GS),h>Fde?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>lc&&this._append`A${n},${n},0,${+(h>=KS)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function $C(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zde(t)}function LC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nz(e){this._context=e}Nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gb(e){return new Nz(e)}function Ez(e){return e[0]}function kz(e){return e[1]}function Cz(e,t){var r=Ct(!0),n=null,s=gb,i=null,a=$C(l);e=typeof e=="function"?e:e===void 0?Ez:Ct(e),t=typeof t=="function"?t:t===void 0?kz:Ct(t);function l(c){var u,d=(c=LC(c)).length,f,h=!1,m;for(n==null&&(i=s(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Bg(e,t,r){var n=null,s=Ct(!0),i=null,a=gb,l=null,c=$C(u);e=typeof e=="function"?e:e===void 0?Ez:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kz:Ct(+r);function u(f){var h,m,v,g=(f=LC(f)).length,x,y=!1,w,b=new Array(g),_=new Array(g);for(i==null&&(l=a(w=c())),h=0;h<=g;++h){if(!(h<g&&s(x=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(b[v],_[v]);l.lineEnd(),l.areaEnd()}y&&(b[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return Cz().defined(s).curve(a).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ct(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ct(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ct(!!f),u):s},u.curve=function(f){return arguments.length?(a=f,i!=null&&(l=a(i)),u):a},u.context=function(f){return arguments.length?(f==null?i=l=null:l=a(i=f),u):i},u}class Pz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Bde(e){return new Pz(e,!0)}function Vde(e){return new Pz(e,!1)}const FC={draw(e,t){const r=Fi(t/Gx);e.moveTo(r,0),e.arc(0,0,r,0,mb)}},Wde={draw(e,t){const r=Fi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Az=Fi(1/3),qde=Az*2,Hde={draw(e,t){const r=Fi(t/qde),n=r*Az;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Kde={draw(e,t){const r=Fi(t),n=-r/2;e.rect(n,n,r,r)}},Gde=.8908130915292852,Oz=Kx(Gx/10)/Kx(7*Gx/10),Yde=Kx(mb/10)*Oz,Xde=-jz(mb/10)*Oz,Qde={draw(e,t){const r=Fi(t*Gde),n=Yde*r,s=Xde*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const a=mb*i/5,l=jz(a),c=Kx(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},r1=Fi(3),Jde={draw(e,t){const r=-Fi(t/(r1*3));e.moveTo(0,r*2),e.lineTo(-r1*r,-r),e.lineTo(r1*r,-r),e.closePath()}},Is=-.5,Ds=Fi(3)/2,YS=1/Fi(12),Zde=(YS/2+1)*3,efe={draw(e,t){const r=Fi(t/Zde),n=r/2,s=r*YS,i=n,a=r*YS+r,l=-i,c=a;e.moveTo(n,s),e.lineTo(i,a),e.lineTo(l,c),e.lineTo(Is*n-Ds*s,Ds*n+Is*s),e.lineTo(Is*i-Ds*a,Ds*i+Is*a),e.lineTo(Is*l-Ds*c,Ds*l+Is*c),e.lineTo(Is*n+Ds*s,Is*s-Ds*n),e.lineTo(Is*i+Ds*a,Is*a-Ds*i),e.lineTo(Is*l+Ds*c,Is*c-Ds*l),e.closePath()}};function tfe(e,t){let r=null,n=$C(s);e=typeof e=="function"?e:Ct(e||FC),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ct(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ct(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Yx(){}function Xx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Tz(e){this._context=e}Tz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rfe(e){return new Tz(e)}function Rz(e){this._context=e}Rz.prototype={areaStart:Yx,areaEnd:Yx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nfe(e){return new Rz(e)}function Iz(e){this._context=e}Iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sfe(e){return new Iz(e)}function Dz(e){this._context=e}Dz.prototype={areaStart:Yx,areaEnd:Yx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ife(e){return new Dz(e)}function OR(e){return e<0?-1:1}function TR(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),a=(r-e._y1)/(s||n<0&&-0),l=(i*s+a*n)/(n+s);return(OR(i)+OR(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function RR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function n1(e,t,r){var n=e._x0,s=e._y0,i=e._x1,a=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,a-l*r,i,a)}function Qx(e){this._context=e}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:n1(this,this._t0,RR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,n1(this,RR(this,r=TR(this,e,t)),r);break;default:n1(this,this._t0,r=TR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Mz(e){this._context=new $z(e)}(Mz.prototype=Object.create(Qx.prototype)).point=function(e,t){Qx.prototype.point.call(this,t,e)};function $z(e){this._context=e}$z.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function afe(e){return new Qx(e)}function ofe(e){return new Mz(e)}function Lz(e){this._context=e}Lz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=IR(e),s=IR(t),i=0,a=1;a<r;++i,++a)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IR(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),a=new Array(r);for(s[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(s[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(a[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function lfe(e){return new Lz(e)}function vb(e,t){this._context=e,this._t=t}vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cfe(e){return new vb(e,.5)}function ufe(e){return new vb(e,0)}function dfe(e){return new vb(e,1)}function nf(e,t){if((a=e.length)>1)for(var r=1,n,s,i=e[t[0]],a,l=i.length;r<a;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function XS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ffe(e,t){return e[t]}function hfe(e){const t=[];return t.key=e,t}function pfe(){var e=Ct([]),t=XS,r=nf,n=ffe;function s(i){var a=Array.from(e.apply(this,arguments),hfe),l,c=a.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,i)]).data=f;for(l=0,d=LC(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ct(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ct(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?XS:typeof i=="function"?i:Ct(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??nf,s):r},s}function mfe(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,a;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}nf(e,t)}}function gfe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var a=0,l=0;a<s;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}nf(e,t)}}function vfe(e,t){if(!(!((a=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,a;n<i;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var g=e[t[v]],x=g[n][1]||0,y=g[n-1][1]||0;m+=x-y}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,nf(e,t)}}var xb={},Fz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Fz);var UC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(UC);var yb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(yb);var bb={},Uz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Uz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz,r=yb;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],a=s.length;if(a===0)return i;let l=0,c="",u="",d=!1;for(s.charCodeAt(0)===46&&(i.push(""),l++);l<a;){const f=s[l];u?f==="\\"&&l+1<a?(l++,c+=s[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(bb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fz,r=UC,n=yb,s=bb;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(xb);var xfe=xb.get;const sf=ti(xfe);var qn=e=>e===0?0:e>0?1:-1,Ss=e=>typeof e=="number"&&e!=+e,io=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!Ss(e),oa=e=>_e(e)||typeof e=="string",yfe=0,Yp=e=>{var t=++yfe;return"".concat(e||"").concat(t)},Ri=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return n;var i;if(io(t)){if(r==null)return n;var a=t.indexOf("%");i=r*parseFloat(t.slice(0,a))/100}else i=+t;return Ss(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},zz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function sr(e,t,r){return _e(e)&&_e(t)?e+r*(t-e):t}function Bz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):sf(n,t))===r)}var Kt=e=>e===null||typeof e>"u",Fm=e=>Kt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),bfe=["type","size","sizeType"];function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QS.apply(null,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){wfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wfe(e,t,r){return(t=_fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _fe(e){var t=jfe(e,"string");return typeof t=="symbol"?t:t+""}function jfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sfe(e,t){if(e==null)return{};var r,n,s=Nfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vz={symbolCircle:FC,symbolCross:Wde,symbolDiamond:Hde,symbolSquare:Kde,symbolStar:Qde,symbolTriangle:Jde,symbolWye:efe},Efe=Math.PI/180,kfe=e=>{var t="symbol".concat(Fm(e));return Vz[t]||FC},Cfe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Efe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pfe=(e,t)=>{Vz["symbol".concat(Fm(e))]=t},Wz=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=Sfe(e,bfe),i=MR(MR({},s),{},{type:t,size:r,sizeType:n}),a="circle";typeof t=="string"&&(a=t);var l=()=>{var h=kfe(a),m=tfe().type(h).size(Cfe(r,n,a)),v=m();if(v!==null)return v},{className:c,cx:u,cy:d}=i,f=ts(i);return u===+u&&d===+d&&r===+r?p.createElement("path",QS({},f,{className:lt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Wz.registerSymbol=Pfe;var zC=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{MC(s)&&(n[s]=i=>r[s](r,i))}),n},Afe=(e,t,r)=>n=>(e(t,r,n),null),BC=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];MC(s)&&typeof i=="function"&&(n||(n={}),n[s]=Afe(i,t,r))}),n},qz={},Hz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const a=r[i],l=n(a);s.has(l)||s.set(l,a)}return Array.from(s.values())}e.uniqBy=t})(Hz);var VC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(VC);var Kz={},wb={},Gz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Gz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gz;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(wb);var Yz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Yz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb,r=Yz;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(Kz);var Xz={},Qz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xb;function r(n){return function(s){return t.get(s,n)}}e.property=r})(Qz);var Jz={},WC={},Zz={},qC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(qC);var HC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(HC);var KC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(KC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qC,r=HC,n=KC;function s(d,f,h){return typeof h!="function"?s(d,f,()=>{}):i(d,f,function m(v,g,x,y,w,b){const _=h(v,g,x,y,w,b);return _!==void 0?!!_:i(v,g,m,b)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function a(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const v=Object.keys(f);if(d==null)return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<v.length;g++){const x=v[g];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,g]of f.entries()){const x=d.get(v);if(h(x,g,v,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let g=0;g<f.length;g++){const x=f[g];let y=!1;for(let w=0;w<d.length;w++){if(v.has(w))continue;const b=d[w];let _=!1;if(h(b,x,g,d,f,m)&&(_=!0),_){v.add(w),y=!0;break}}if(!y)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=s,e.isSetMatch=u})(Zz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zz;function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(WC);var e8={},GC={},t8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(t8);var YC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(YC);var XC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",g="[object DataView]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",E="[object BigInt64Array]",A="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=s,e.dataViewTag=g,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=A,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=N,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=y})(XC);var r8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(r8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t8,r=YC,n=XC,s=HC,i=r8;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,v=void 0){const g=v==null?void 0:v(d,f,h,m);if(g!==void 0)return g;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,h,m,v);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[y,w]of d)x.set(y,l(w,y,h,m,v));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const y of d)x.add(l(y,void 0,h,m,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,h,m,v);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,h,m,v),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,h,m,v),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,h,m,v),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,m,v),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,h,m,v),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,h,m,v),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,h,m,v),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,h,m,v),x}return d}function c(d,f,h=d,m,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<g.length;x++){const y=g[x],w=Object.getOwnPropertyDescriptor(d,y);(w==null||w.writable)&&(d[y]=l(f[y],y,h,m,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(GC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GC;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(e8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WC,r=e8;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(Jz);var n8={},s8={},i8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GC,r=XC;function n(s,i){return t.cloneDeepWith(s,(a,l,c,u)=>{const d=i==null?void 0:i(a,l,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(i8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i8;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(s8);var a8={},QC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(QC);var o8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YC;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(o8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC,r=QC,n=o8,s=bb;function i(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(a8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WC,r=yb,n=s8,s=xb,i=a8;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(n8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VC,r=Qz,n=Jz,s=n8;function i(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?s.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=i})(Xz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz,r=VC,n=Kz,s=Xz;function i(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),s.iteratee(l)):[]}e.uniqBy=i})(qz);var Ofe=qz.uniqBy;const $R=ti(Ofe);function Tfe(e,t,r){return t===!0?$R(e,r):typeof t=="function"?$R(e,t):e}var JC=p.createContext(null),Rfe=e=>e,Ar=()=>{var e=p.useContext(JC);return e?e.store.dispatch:Rfe},zv=()=>{},Ife=()=>zv,Dfe=(e,t)=>e===t;function Ae(e){var t=p.useContext(JC);return xL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ife,t?t.store.getState:zv,t?t.store.getState:zv,t?e:zv,Dfe)}function Mfe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $fe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Lfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LR=e=>Array.isArray(e)?e:[e];function Ffe(e){const t=Array.isArray(e[0])?e[0]:e;return Lfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ufe(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var zfe=class{constructor(e){this.value=e}deref(){return this.value}},Bfe=typeof WeakRef<"u"?WeakRef:zfe,Vfe=0,FR=1;function Vg(){return{s:Vfe,v:void 0,o:null,p:null}}function l8(e,t={}){let r=Vg();const{resultEqualityCheck:n}=t;let s,i=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const x=g.get(v);x===void 0?(l=Vg(),g.set(v,l)):l=x}else{let g=l.p;g===null&&(l.p=g=new Map);const x=g.get(v);x===void 0?(l=Vg(),g.set(v,l)):l=x}}const u=l;let d;if(l.s===FR)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new Bfe(d):d}return u.s=FR,u.v=d,d}return a.clearCache=()=>{r=Vg(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function Wfe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,a=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),Mfe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=l8,argsMemoizeOptions:v=[]}=d,g=LR(h),x=LR(v),y=Ffe(s),w=f(function(){return i++,u.apply(null,arguments)},...g),b=m(function(){a++;const j=Ufe(y,arguments);return l=w.apply(null,j),l},...x);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var V=Wfe(l8),qfe=Object.assign((e,t=V)=>{$fe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>qfe}),c8={},u8={},d8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const a=t(n),l=t(s);if(a===l&&a===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-a:a-l}return 0};e.compareValues=r})(d8);var f8={},ZC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ZC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZC,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,a){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||a!=null&&Object.hasOwn(a,i)}e.isKey=s})(f8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d8,r=f8,n=bb;function s(i,a,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,v)=>{let g=m;for(let x=0;x<v.length&&g!=null;++x)g=g[v[x]];return g},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let g=0;g<f.length;g++){const x=t.compareValues(m.criteria[g],v.criteria[g],l[g]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=s})(u8);var h8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?a(d,c+1):s.push(d)}};return a(r,0),s}e.flatten=t})(h8);var eP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QC,r=wb,n=qC,s=KC;function i(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],a):!1}e.isIterateeCall=i})(eP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8,r=h8,n=eP;function s(i,...a){const l=a.length;return l>1&&n.isIterateeCall(i,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(i,r.flatten(a),["asc"])}e.sortBy=s})(c8);var Hfe=c8.sortBy;const _b=ti(Hfe);var p8=e=>e.legend.settings,Kfe=e=>e.legend.size,Gfe=e=>e.legend.payload;V([Gfe,p8],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?_b(n,r):n});var Wg=1;function Yfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),a={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(a.height-t.height)>Wg||Math.abs(a.left-t.left)>Wg||Math.abs(a.top-t.top)>Wg||Math.abs(a.width-t.width)>Wg)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",UR=Xfe,s1=()=>Math.random().toString(36).substring(7).split("").join("."),Qfe={INIT:`@@redux/INIT${s1()}`,REPLACE:`@@redux/REPLACE${s1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s1()}`},Jx=Qfe;function tP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function m8(e,t,r){if(typeof e!="function")throw new Error(Hr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Hr(1));return r(m8)(e,t)}let n=e,s=t,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((x,y)=>{a.set(y,x)}))}function d(){if(c)throw new Error(Hr(3));return s}function f(x){if(typeof x!="function")throw new Error(Hr(4));if(c)throw new Error(Hr(5));let y=!0;u();const w=l++;return a.set(w,x),function(){if(y){if(c)throw new Error(Hr(6));y=!1,u(),a.delete(w),i=null}}}function h(x){if(!tP(x))throw new Error(Hr(7));if(typeof x.type>"u")throw new Error(Hr(8));if(typeof x.type!="string")throw new Error(Hr(17));if(c)throw new Error(Hr(9));try{c=!0,s=n(s,x)}finally{c=!1}return(i=a).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(Hr(10));n=x,h({type:Jx.REPLACE})}function v(){const x=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Hr(11));function w(){const _=y;_.next&&_.next(d())}return w(),{unsubscribe:x(w)}},[UR](){return this}}}return h({type:Jx.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[UR]:v}}function Jfe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Jx.INIT})>"u")throw new Error(Hr(12));if(typeof r(void 0,{type:Jx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function g8(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let s;try{Jfe(r)}catch(i){s=i}return function(a={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],v=h(m,l);if(typeof v>"u")throw l&&l.type,new Error(Hr(14));u[f]=v,c=c||v!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Zx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Zfe(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Hr(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(a));return i=Zx(...l)(s.dispatch),{...s,dispatch:i}}}function v8(e){return tP(e)&&"type"in e&&typeof e.type=="string"}var x8=Symbol.for("immer-nothing"),zR=Symbol.for("immer-draftable"),Ns=Symbol.for("immer-state");function yi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xp=Object.getPrototypeOf;function uu(e){return!!e&&!!e[Ns]}function ao(e){var t;return e?y8(e)||Array.isArray(e)||!!e[zR]||!!((t=e.constructor)!=null&&t[zR])||Um(e)||Sb(e):!1}var ehe=Object.prototype.constructor.toString(),BR=new WeakMap;function y8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=BR.get(r);return n===void 0&&(n=Function.toString.call(r),BR.set(r,n)),n===ehe}function ey(e,t,r=!0){jb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function jb(e){const t=e[Ns];return t?t.type_:Array.isArray(e)?1:Um(e)?2:Sb(e)?3:0}function JS(e,t){return jb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b8(e,t,r){const n=jb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function the(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Um(e){return e instanceof Map}function Sb(e){return e instanceof Set}function cc(e){return e.copy_||e.base_}function ZS(e,t){if(Um(e))return new Map(e);if(Sb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=y8(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ns];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const a=s[i],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(Xp(e),n)}else{const n=Xp(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function rP(e,t=!1){return Nb(e)||uu(e)||!ao(e)||(jb(e)>1&&Object.defineProperties(e,{set:qg,add:qg,clear:qg,delete:qg}),Object.freeze(e),t&&Object.values(e).forEach(r=>rP(r,!0))),e}function rhe(){yi(2)}var qg={value:rhe};function Nb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var nhe={};function du(e){const t=nhe[e];return t||yi(0,e),t}var Qp;function w8(){return Qp}function she(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VR(e,t){t&&(du("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function eN(e){tN(e),e.drafts_.forEach(ihe),e.drafts_=null}function tN(e){e===Qp&&(Qp=e.parent_)}function WR(e){return Qp=she(Qp,e)}function ihe(e){const t=e[Ns];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ns].modified_&&(eN(t),yi(4)),ao(e)&&(e=ty(t,e),t.parent_||ry(t,e)),t.patches_&&du("Patches").generateReplacementPatches_(r[Ns].base_,e,t.patches_,t.inversePatches_)):e=ty(t,r,[]),eN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==x8?e:void 0}function ty(e,t,r){if(Nb(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Ns];if(!s)return ey(t,(i,a)=>HR(e,s,t,i,a,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return ry(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let a=i,l=!1;s.type_===3&&(a=new Set(i),i.clear(),l=!0),ey(a,(c,u)=>HR(e,s,i,c,u,r,l),n),ry(e,i,!1),r&&e.patches_&&du("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function HR(e,t,r,n,s,i,a){if(s==null||typeof s!="object"&&!a)return;const l=Nb(s);if(!(l&&!a)){if(uu(s)){const c=i&&t&&t.type_!==3&&!JS(t.assigned_,n)?i.concat(n):void 0,u=ty(e,s,c);if(b8(r,n,u),uu(u))e.canAutoFreeze_=!1;else return}else a&&r.add(s);if(ao(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;ty(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Um(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ry(e,s)}}}function ry(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rP(t,r)}function ahe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:w8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=nP;r&&(s=[n],i=Jp);const{revoke:a,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=a,l}var nP={get(e,t){if(t===Ns)return e;const r=cc(e);if(!JS(r,t))return ohe(e,r,t);const n=r[t];return e.finalized_||!ao(n)?n:n===i1(e.base_,t)?(a1(e),e.copy_[t]=nN(n,e)):n},has(e,t){return t in cc(e)},ownKeys(e){return Reflect.ownKeys(cc(e))},set(e,t,r){const n=_8(cc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=i1(cc(e),t),i=s==null?void 0:s[Ns];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(the(r,s)&&(r!==void 0||JS(e.base_,t)))return!0;a1(e),rN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return i1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,a1(e),rN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=cc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){yi(11)},getPrototypeOf(e){return Xp(e.base_)},setPrototypeOf(){yi(12)}},Jp={};ey(nP,(e,t)=>{Jp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Jp.deleteProperty=function(e,t){return Jp.set.call(this,e,t,void 0)};Jp.set=function(e,t,r){return nP.set.call(this,e[0],t,r,e[0])};function i1(e,t){const r=e[Ns];return(r?cc(r):e)[t]}function ohe(e,t,r){var s;const n=_8(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function _8(e,t){if(!(t in e))return;let r=Xp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Xp(r)}}function rN(e){e.modified_||(e.modified_=!0,e.parent_&&rN(e.parent_))}function a1(e){e.copy_||(e.copy_=ZS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lhe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const a=this;return function(c=i,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&yi(6),n!==void 0&&typeof n!="function"&&yi(7);let s;if(ao(t)){const i=WR(this),a=nN(t,void 0);let l=!0;try{s=r(a),l=!1}finally{l?eN(i):tN(i)}return VR(i,n),qR(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===x8&&(s=void 0),this.autoFreeze_&&rP(s,!0),n){const i=[],a=[];du("Patches").generateReplacementPatches_(t,s,i,a),n(i,a)}return s}else yi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,s;return[this.produce(t,r,(a,l)=>{n=a,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ao(e)||yi(8),uu(e)&&(e=qa(e));const t=WR(this),r=nN(e,void 0);return r[Ns].isManual_=!0,tN(t),r}finishDraft(e,t){const r=e&&e[Ns];(!r||!r.isManual_)&&yi(9);const{scope_:n}=r;return VR(n,t),qR(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=du("Patches").applyPatches_;return uu(e)?n(e,t):this.produce(e,s=>n(s,t))}};function nN(e,t){const r=Um(e)?du("MapSet").proxyMap_(e,t):Sb(e)?du("MapSet").proxySet_(e,t):ahe(e,t);return(t?t.scope_:w8()).drafts_.push(r),r}function qa(e){return uu(e)||yi(10,e),j8(e)}function j8(e){if(!ao(e)||Nb(e))return e;const t=e[Ns];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ZS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ZS(e,!0);return ey(r,(s,i)=>{b8(r,s,j8(i))},n),t&&(t.finalized_=!1),r}var sN=new lhe,S8=sN.produce,che=sN.setUseStrictIteration.bind(sN);function N8(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var uhe=N8(),dhe=N8,fhe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zx:Zx.apply(null,arguments)};function Zs(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(ys(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>v8(n)&&n.type===e,r}var E8=class $h extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$h.prototype)}static get[Symbol.species](){return $h}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $h(...t[0].concat(this)):new $h(...t.concat(this))}};function KR(e){return ao(e)?S8(e,()=>{}):e}function Hg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function hhe(e){return typeof e=="boolean"}var phe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let a=new E8;return r&&(hhe(r)?a.push(uhe):a.push(dhe(r.extraArgument))),a},k8="RTK_autoBatch",jn=()=>e=>({payload:e,meta:{[k8]:!0}}),GR=e=>t=>{setTimeout(t,e)},C8=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GR(10):e.type==="callback"?e.queueNotification:GR(e.timeout),u=()=>{a=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>s&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[k8]),i=!s,i&&(a||(a=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},mhe=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new E8(e);return n&&s.push(C8(typeof n=="object"?n:void 0)),s};function ghe(e){const t=phe(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(tP(r))l=g8(r);else throw new Error(ys(1));let c;typeof n=="function"?c=n(t):c=t();let u=Zx;s&&(u=fhe({trace:!1,...typeof s=="object"&&s}));const d=Zfe(...c),f=mhe(d);let h=typeof a=="function"?a(f):f();const m=u(...h);return m8(l,i,m)}function P8(e){const t={},r=[];let n;const s={addCase(i,a){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ys(28));if(l in t)throw new Error(ys(29));return t[l]=a,s},addAsyncThunk(i,a){return a.pending&&(t[i.pending.type]=a.pending),a.rejected&&(t[i.rejected.type]=a.rejected),a.fulfilled&&(t[i.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:i.settled,reducer:a.settled}),s},addMatcher(i,a){return r.push({matcher:i,reducer:a}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}che(!1);function vhe(e){return typeof e=="function"}function xhe(e,t){let[r,n,s]=P8(t),i;if(vhe(e))i=()=>KR(e());else{const l=KR(e);i=()=>l}function a(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(uu(d)){const m=f(d,c);return m===void 0?d:m}else{if(ao(d))return S8(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=i,a}var yhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bhe=(e=21)=>{let t="",r=e;for(;r--;)t+=yhe[Math.random()*64|0];return t},whe=Symbol.for("rtk-slice-createasyncthunk");function _he(e,t){return`${e}/${t}`}function jhe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[whe];return function(s){const{name:i,reducerPath:a=i}=s;if(!i)throw new Error(ys(11));const l=(typeof s.reducers=="function"?s.reducers(Nhe()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(ys(12));if(S in u.sliceCaseReducersByType)throw new Error(ys(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=l[_],S={reducerName:_,type:_he(i,_),createNotation:typeof s.reducers=="function"};khe(j)?Phe(S,j,d,t):Ehe(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof s.extraReducers=="function"?P8(s.extraReducers):[s.extraReducers],N={..._,...u.sliceCaseReducersByType};return xhe(s.initialState,E=>{for(let A in N)E.addCase(A,N[A]);for(let A of u.sliceMatchers)E.addMatcher(A.matcher,A.reducer);for(let A of j)E.addMatcher(A.matcher,A.reducer);S&&E.addDefaultCase(S)})}const h=_=>_,m=new Map,v=new WeakMap;let g;function x(_,j){return g||(g=f()),g(_,j)}function y(){return g||(g=f()),g.getInitialState()}function w(_,j=!1){function S(E){let A=E[_];return typeof A>"u"&&j&&(A=Hg(v,S,y)),A}function N(E=h){const A=Hg(m,j,()=>new WeakMap);return Hg(A,E,()=>{const P={};for(const[C,k]of Object.entries(s.selectors??{}))P[C]=She(k,E,()=>Hg(v,E,y),j);return P})}return{reducerPath:_,getSelectors:N,get selectors(){return N(S)},selectSlice:S}}const b={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(_,{reducerPath:j,...S}={}){const N=j??a;return _.inject({reducerPath:N,reducer:x},S),{...b,...w(N,!0)}}};return b}}function She(e,t,r,n){function s(i,...a){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return s.unwrapped=e,s}var As=jhe();function Nhe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Ehe({type:e,reducerName:t,createNotation:r},n,s){let i,a;if("reducer"in n){if(r&&!Che(n))throw new Error(ys(17));i=n.reducer,a=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Zs(e,a):Zs(e))}function khe(e){return e._reducerDefinitionType==="asyncThunk"}function Che(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Phe({type:e,reducerName:t},r,n,s){if(!s)throw new Error(ys(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=s(e,i,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Kg,pending:l||Kg,rejected:c||Kg,settled:u||Kg})}function Kg(){}var Ahe="task",A8="listener",O8="completed",sP="cancelled",Ohe=`task-${sP}`,The=`task-${O8}`,iN=`${A8}-${sP}`,Rhe=`${A8}-${O8}`,Eb=class{constructor(e){ig(this,"name","TaskAbortError");ig(this,"message");this.code=e,this.message=`${Ahe} ${sP} (reason: ${e})`}},iP=(e,t)=>{if(typeof e!="function")throw new TypeError(ys(32))},ny=()=>{},T8=(e,t=ny)=>(e.catch(t),e),R8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Bc=e=>{if(e.aborted){const{reason:t}=e;throw new Eb(t)}};function I8(e,t){let r=ny;return new Promise((n,s)=>{const i=()=>s(new Eb(e.reason));if(e.aborted){i();return}r=R8(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=ny})}var Ihe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Eb?"cancelled":"rejected",error:r}}finally{t==null||t()}},sy=e=>t=>T8(I8(e,t).then(r=>(Bc(e),r))),D8=e=>{const t=sy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Sd}=Object,YR={},kb="listenerMiddleware",Dhe=(e,t)=>{const r=n=>R8(e,()=>zc(n,e.reason));return(n,s)=>{iP(n);const i=new AbortController;r(i);const a=Ihe(async()=>{Bc(e),Bc(i.signal);const l=await n({pause:sy(i.signal),delay:D8(i.signal),signal:i.signal});return Bc(i.signal),l},()=>zc(i,The));return s!=null&&s.autoJoin&&t.push(a.catch(ny)),{result:sy(e)(a),cancel(){zc(i,Ohe)}}}},Mhe=(e,t)=>{const r=async(n,s)=>{Bc(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await I8(t,Promise.race(l));return Bc(t),c}finally{i()}};return(n,s)=>T8(r(n,s))},M8=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Zs(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(ys(21));return iP(i),{predicate:s,type:t,effect:i}},$8=Sd(e=>{const{type:t,predicate:r,effect:n}=M8(e);return{id:bhe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ys(22))}}},{withTypes:()=>$8}),XR=(e,t)=>{const{type:r,effect:n,predicate:s}=M8(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},aN=e=>{e.pending.forEach(t=>{zc(t,iN)})},$he=(e,t)=>()=>{for(const r of t.keys())aN(r);e.clear()},QR=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},L8=Sd(Zs(`${kb}/add`),{withTypes:()=>L8}),Lhe=Zs(`${kb}/removeAll`),F8=Sd(Zs(`${kb}/remove`),{withTypes:()=>F8}),Fhe=(...e)=>{console.error(`${kb}/error`,...e)},zm=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},s=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:i,onError:a=Fhe}=e;iP(a);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&aN(m)}),c=m=>{const v=XR(t,m)??$8(m);return l(v)};Sd(c,{withTypes:()=>c});const u=m=>{const v=XR(t,m);return v&&(v.unsubscribe(),m.cancelActive&&aN(v)),!!v};Sd(u,{withTypes:()=>u});const d=async(m,v,g,x)=>{const y=new AbortController,w=Mhe(c,y.signal),b=[];try{m.pending.add(y),n(m),await Promise.resolve(m.effect(v,Sd({},g,{getOriginalState:x,condition:(_,j)=>w(_,j).then(Boolean),take:w,delay:D8(y.signal),pause:sy(y.signal),extra:i,signal:y.signal,fork:Dhe(y.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,S)=>{_!==y&&(zc(_,iN),S.delete(_))})},cancel:()=>{zc(y,iN),m.pending.delete(y)},throwIfCancelled:()=>{Bc(y.signal)}})))}catch(_){_ instanceof Eb||QR(a,_,{raisedBy:"effect"})}finally{await Promise.all(b),zc(y,Rhe),s(m),m.pending.delete(y)}},f=$he(t,r);return{middleware:m=>v=>g=>{if(!v8(g))return v(g);if(L8.match(g))return c(g.payload);if(Lhe.match(g)){f();return}if(F8.match(g))return u(g.payload);let x=m.getState();const y=()=>{if(x===YR)throw new Error(ys(23));return x};let w;try{if(w=v(g),t.size>0){const b=m.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(g,b,x)}catch(N){S=!1,QR(a,N,{raisedBy:"predicate"})}S&&d(j,g,m,y)}}}finally{x=YR}return w},startListening:c,stopListening:u,clearListeners:f}};function ys(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Uhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U8=As({name:"chartLayout",initialState:Uhe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:zhe,setLayout:Bhe,setChartSize:Vhe,setScale:Whe}=U8.actions,qhe=U8.reducer;function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){Hhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hhe(e,t,r){return(t=Khe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Khe(e){var t=Ghe(e,"string");return typeof t=="symbol"?t:t+""}function Ghe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iy=Math.PI/180,Yhe=e=>e*180/Math.PI,Xr=(e,t,r,n)=>({x:e+Math.cos(-iy*n)*r,y:t+Math.sin(-iy*n)*r}),Xhe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Qhe=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},Jhe=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,a=Qhe({x:r,y:n},{x:s,y:i});if(a<=0)return{radius:a,angle:0};var l=(r-s)/a,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:a,angle:Yhe(c),angleInRadian:c}},Zhe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},epe=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),a=Math.min(s,i);return e+a*360},tpe=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=Jhe({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(s<a||s>l||s===0)return null;var{startAngle:c,endAngle:u}=Zhe(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?ZR(ZR({},t),{},{radius:s,angle:epe(d,t)}):null};function z8(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){rpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rpe(e,t,r){return(t=npe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function npe(e){var t=spe(e,"string");return typeof t=="symbol"?t:t+""}function spe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t,r){return Kt(e)||Kt(t)?r:oa(t)?sf(e,t,r):typeof t=="function"?t(e):r}var ipe=(e,t,r,n,s)=>{var i,a=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(qn(d-u)!==qn(f-d)){var m=[];if(qn(f-d)===qn(s[1]-s[0])){h=f;var v=d+s[1]-s[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{h=u;var g=f+s[1]-s[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var x=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+d)/2&&e<=(w+d)/2){({index:a}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}}return a},ape=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&i!=="center"&&_e(e[i]))return zs(zs({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&a!=="middle"&&_e(e[a]))return zs(zs({},e),{},{[a]:e[a]+(s||0)})}return e},vo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",B8=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,a=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||a.push(t),i||a.push(r),a},V8=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var v=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=s==="category"&&a.bandwidth?a.bandwidth()/v:0;if(g=m==="angleAxis"&&i&&i.length>=2?qn(i[0]-i[1])*2*g:g,f||h){var x=(f||h||[]).map((y,w)=>{var b=n?n.indexOf(y):y;return{coordinate:a(b)+g,value:y,offset:g,index:w}});return x.filter(y=>!Ss(y.coordinate))}return c&&u?u.map((y,w)=>({coordinate:a(y)+g,value:y,index:w,offset:g})):a.ticks&&d!=null?a.ticks(d).map((y,w)=>({coordinate:a(y)+g,value:y,offset:g,index:w})):a.domain().map((y,w)=>({coordinate:a(y)+g,value:n?n[y]:y,index:w,offset:g}))},tI=1e-4,ope=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-tI,i=Math.max(n[0],n[1])+tI,a=e(t[0]),l=e(t[r-1]);(a<s||a>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},lpe=(e,t)=>{if(!t||t.length!==2||!_e(t[0])||!_e(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(s[0]=r),(!_e(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},cpe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,a=0;a<t;++a){var l=Ss(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1])}},upe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var a=Ss(e[i][r][1])?e[i][r][0]:e[i][r][1];a>=0?(e[i][r][0]=s,e[i][r][1]=s+a,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},dpe={sign:cpe,expand:mfe,none:nf,silhouette:gfe,wiggle:vfe,positive:upe},fpe=(e,t,r)=>{var n=dpe[r],s=pfe().keys(t).value((i,a)=>+zr(i,a,0)).order(XS).offset(n);return s(e)};function W8(e){return e==null?void 0:String(e)}function rI(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kt(s[t.dataKey])){var l=Bz(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=zr(s,Kt(a)?t.dataKey:a);return Kt(c)?null:t.scale(c)}var nI=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=zr(i,t.dataKey,t.scale.domain()[a]);return Kt(l)?null:t.scale(l)-s/2+n},hpe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},ppe=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},mpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],gpe=(e,t,r)=>{if(e!=null)return mpe(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:a}=i,l=a.reduce((c,u)=>{var d=z8(u,t,r),f=ppe(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},sI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=_b(t,d=>d.coordinate),i=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function aI(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return zs(zs({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Cb(e,t){if(e)return String(e);if(typeof t=="string")return t}function vpe(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?tpe({x:e,y:t},n):null}var xpe=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:a}=n;return zs(zs(zs({},n),Xr(n.cx,n.cy,a,i)),{},{angle:i,radius:a})}var l=s.coordinate,{angle:c}=n;return zs(zs(zs({},n),Xr(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},ype=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,xo=e=>e.layout.width,yo=e=>e.layout.height,bpe=e=>e.layout.scale,q8=e=>e.layout.margin,Pb=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ab=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wpe="data-recharts-item-index",_pe="data-recharts-item-data-key",Bm=60;function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){jpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jpe(e,t,r){return(t=Spe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Spe(e){var t=Npe(e,"string");return typeof t=="symbol"?t:t+""}function Npe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Epe=e=>e.brush.height;function kpe(e){var t=Ab(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Bm;return r+s}return r},0)}function Cpe(e){var t=Ab(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Bm;return r+s}return r},0)}function Ppe(e){var t=Pb(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Ape(e){var t=Pb(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Br=V([xo,yo,q8,Epe,kpe,Cpe,Ppe,Ape,p8,Kfe],(e,t,r,n,s,i,a,l,c,u)=>{var d={left:(r.left||0)+s,right:(r.right||0)+i},f={top:(r.top||0)+a,bottom:(r.bottom||0)+l},h=Gg(Gg({},f),d),m=h.bottom;h.bottom+=n,h=ape(h,c,u);var v=e-h.left-h.right,g=t-h.top-h.bottom;return Gg(Gg({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(g,0)})}),Ope=V(Br,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),aP=V(xo,yo,(e,t)=>({x:0,y:0,width:e,height:t})),Tpe=p.createContext(null),In=()=>p.useContext(Tpe)!=null,Ob=e=>e.brush,Tb=V([Ob,Br,q8],(e,t,r)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:_e(e.width)?e.width:t.width})),H8={},K8={},G8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let a,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{v(),a=void 0,l=null},x=()=>{d()},y=function(...w){if(s!=null&&s.aborted)return;a=this,l=w;const b=h==null;m(),c&&b&&d()};return y.schedule=m,y.cancel=g,y.flush=x,s==null||s.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(G8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G8;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:a=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=n.apply(this,g),f=null},s,{edges:u}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(K8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K8;function r(n,s=0,i={}){const{leading:a=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:a,maxWait:s,trailing:l})}e.throttle=r})(H8);var Rpe=H8.throttle;const Ipe=ti(Rpe);var ay=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},Y8=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:i,maxHeight:a}=r,l=io(n)?e:Number(n),c=io(s)?t:Number(s);return i&&i>0&&(l?c=l/i:c&&(l=c*i),a&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},Dpe={width:0,height:0,overflow:"visible"},Mpe={width:0,overflowX:"visible"},$pe={height:0,overflowY:"visible"},Lpe={},Fpe=e=>{var{width:t,height:r}=e,n=io(t),s=io(r);return n&&s?Dpe:n?Mpe:s?$pe:Lpe};function Upe(e){var{width:t,height:r,aspect:n}=e,s=t,i=r;return s===void 0&&i===void 0?(s="100%",i="100%"):s===void 0?s=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:s,height:i}}function xr(e){return Number.isFinite(e)}function af(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN.apply(null,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){zpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zpe(e,t,r){return(t=Bpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpe(e){var t=Vpe(e,"string");return typeof t=="symbol"?t:t+""}function Vpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X8=p.createContext({width:-1,height:-1});function Q8(e){var{children:t,width:r,height:n}=e,s=p.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:p.createElement(X8.Provider,{value:s},t)}var oP=()=>p.useContext(X8),Wpe=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:i,minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:v={}}=e,g=p.useRef(null),x=p.useRef();x.current=m,p.useImperativeHandle(t,()=>g.current);var[y,w]=p.useState({containerWidth:n.width,containerHeight:n.height}),b=p.useCallback((E,A)=>{w(P=>{var C=Math.round(E),k=Math.round(A);return P.containerWidth===C&&P.containerHeight===k?P:{containerWidth:C,containerHeight:k}})},[]);p.useEffect(()=>{var E=k=>{var D,{width:T,height:L}=k[0].contentRect;b(T,L),(D=x.current)===null||D===void 0||D.call(x,T,L)};d>0&&(E=Ipe(E,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(E),{width:P,height:C}=g.current.getBoundingClientRect();return b(P,C),A.observe(g.current),()=>{A.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:j}=y;ay(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:N}=Y8(_,j,{width:s,height:i,aspect:r,maxHeight:c});return ay(S>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,N,s,i,a,l,r),p.createElement("div",{id:f?"".concat(f):void 0,className:lt("recharts-responsive-container",h),style:cI(cI({},v),{},{width:s,height:i,minWidth:a,minHeight:l,maxHeight:c}),ref:g},p.createElement("div",{style:Fpe({width:s,height:i})},p.createElement(Q8,{width:S,height:N},u)))}),lP=p.forwardRef((e,t)=>{var r=oP();if(af(r.width)&&af(r.height))return e.children;var{width:n,height:s}=Upe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:a}=Y8(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return _e(i)&&_e(a)?p.createElement(Q8,{width:i,height:a},e.children):p.createElement(Wpe,oN({},e,{width:n,height:s,ref:t}))}),Rb=()=>{var e,t=In(),r=Ae(Ope),n=Ae(Tb),s=(e=Ae(Ob))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},qpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},J8=()=>{var e;return(e=Ae(Br))!==null&&e!==void 0?e:qpe},Z8=()=>Ae(xo),eB=()=>Ae(yo),ot=e=>e.layout.layoutType,Ib=()=>Ae(ot),Db=e=>{var t=Ar(),r=In(),{width:n,height:s}=e,i=oP(),a=n,l=s;return i&&(a=i.width>0?i.width:n,l=i.height>0?i.height:s),p.useEffect(()=>{!r&&af(a)&&af(l)&&t(Vhe({width:a,height:l}))},[t,r,a,l]),null},Hpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tB=As({name:"legend",initialState:Hpe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:jn()},removeLegendPayload:{reducer(e,t){var r=qa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:jn()}}}),{setLegendSize:pTe,setLegendSettings:mTe,addLegendPayload:Kpe,removeLegendPayload:Gpe}=tB.actions,Ype=tB.reducer;function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(null,arguments)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function o1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){Xpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xpe(e,t,r){return(t=Qpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qpe(e){var t=Jpe(e,"string");return typeof t=="symbol"?t:t+""}function Jpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e){return Array.isArray(e)&&oa(e[0])&&oa(e[1])?e.join(" ~ "):e}var eme=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(l?_b(i,l):i).map((N,E)=>{if(N.type==="none")return null;var A=N.formatter||a||Zpe,{value:P,name:C}=N,k=P,D=C;if(A){var T=A(P,C,N,E,i);if(Array.isArray(T))[k,D]=T;else if(T!=null)k=T;else return null}var L=o1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:L},oa(D)?p.createElement("span",{className:"recharts-tooltip-item-name"},D):null,oa(D)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},k),p.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},v=o1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=o1({margin:0},s),x=!Kt(d),y=x?d:"",w=lt("recharts-default-tooltip",c),b=lt("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(y=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",lN({className:w,style:v},_),p.createElement("p",{className:b,style:g},p.isValidElement(y)?y:"".concat(y)),m())},hh="recharts-tooltip-wrapper",tme={visibility:"hidden"};function rme(e){var{coordinate:t,translateX:r,translateY:n}=e;return lt(hh,{["".concat(hh,"-right")]:_e(r)&&t&&_e(t.x)&&r>=t.x,["".concat(hh,"-left")]:_e(r)&&t&&_e(t.x)&&r<t.x,["".concat(hh,"-bottom")]:_e(n)&&t&&_e(t.y)&&n>=t.y,["".concat(hh,"-top")]:_e(n)&&t&&_e(t.y)&&n<t.y})}function dI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&_e(i[n]))return i[n];var d=r[n]-l-(s>0?s:0),f=r[n]+s;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+l,x=h+u;return g>x?Math.max(d,h):Math.max(f,h)}function nme(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function sme(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=dI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=dI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=nme({translateX:d,translateY:f,useTranslate3d:l})):u=tme,{cssProperties:u,cssClasses:rme({translateX:d,translateY:f,coordinate:r})}}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){cN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cN(e,t,r){return(t=ime(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ime(e){var t=ame(e,"string");return typeof t=="symbol"?t:t+""}function ame(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ome extends p.PureComponent{constructor(){super(...arguments),cN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:g,innerRef:x,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:b}=sme({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),_=y?{}:Yg(Yg({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=Yg(Yg({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:j,ref:x},i)}}var lme=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Eu={devToolsEnabled:!1,isSsr:lme()},rB=()=>Ae(e=>e.rootProps.accessibilityLayer);function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(null,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){cme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cme(e,t,r){return(t=ume(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ume(e){var t=dme(e,"string");return typeof t=="symbol"?t:t+""}function dme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mI={curveBasisClosed:nfe,curveBasisOpen:sfe,curveBasis:rfe,curveBumpX:Bde,curveBumpY:Vde,curveLinearClosed:ife,curveLinear:gb,curveMonotoneX:afe,curveMonotoneY:ofe,curveNatural:lfe,curveStep:cfe,curveStepAfter:dfe,curveStepBefore:ufe},Xg=e=>xr(e.x)&&xr(e.y),ph=e=>e.x,mh=e=>e.y,fme=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Fm(e));return(r==="curveMonotone"||r==="curveBump")&&t?mI["".concat(r).concat(t==="vertical"?"Y":"X")]:mI[r]||gb},hme=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,a=fme(t,s),l=i?r.filter(Xg):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>Xg(f)):n,d=l.map((f,h)=>pI(pI({},f),{},{base:u[h]}));return s==="vertical"?c=Bg().y(mh).x1(ph).x0(f=>f.base.x):c=Bg().x(ph).y1(mh).y0(f=>f.base.y),c.defined(Xg).curve(a),c(d)}return s==="vertical"&&_e(n)?c=Bg().y(mh).x1(ph).x0(n):_e(n)?c=Bg().x(ph).y1(mh).y0(n):c=Cz().x(ph).y(mh),c.defined(Xg).curve(a),c(l)},Bv=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?hme(e):n;return p.createElement("path",uN({},Js(e),zC(e),{className:lt("recharts-curve",t),d:i===null?void 0:i,ref:s}))},pme=["x","y","top","left","width","height","className"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(null,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gme(e,t,r){return(t=vme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vme(e){var t=xme(e,"string");return typeof t=="symbol"?t:t+""}function xme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yme(e,t){if(e==null)return{};var r,n,s=bme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wme=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),_me=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:a=0,className:l}=e,c=yme(e,pme),u=mme({x:t,y:r,top:n,left:s,width:i,height:a},c);return!_e(t)||!_e(r)||!_e(i)||!_e(a)||!_e(n)||!_e(s)?null:p.createElement("path",dN({},ts(u),{className:lt("recharts-cross",l),d:wme(t,r,i,a,n,s)}))};function jme(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){Nme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nme(e,t,r){return(t=Eme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eme(e){var t=kme(e,"string");return typeof t=="symbol"?t:t+""}function kme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ns(e,t){var r=Sme({},e),n=t,s=Object.keys(t),i=s.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return i}function Cme(){}function Pme(e){return e!=null}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){Ame(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ame(e,t,r){return(t=Ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ome(e){var t=Tme(e,"string");return typeof t=="symbol"?t:t+""}function Tme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rme=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),nB=(e,t,r)=>e.map(n=>"".concat(Rme(n)," ").concat(t,"ms ").concat(r)).join(","),Ime=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),em=(e,t)=>Object.keys(t).reduce((r,n)=>yI(yI({},r),{},{[n]:e(n,t[n])}),{});function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){Dme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dme(e,t,r){return(t=Mme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mme(e){var t=$me(e,"string");return typeof t=="symbol"?t:t+""}function $me(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oy=(e,t,r)=>e+(t-e)*r,fN=e=>{var{from:t,to:r}=e;return t!==r},sB=(e,t,r)=>{var n=em((s,i)=>{if(fN(i)){var[a,l]=e(i.from,i.to,i.velocity);return Gr(Gr({},i),{},{from:a,velocity:l})}return i},t);return r<1?em((s,i)=>fN(i)?Gr(Gr({},i),{},{velocity:oy(i.velocity,n[s].velocity,r),from:oy(i.from,n[s].from,r)}):i,t):sB(e,n,r-1)};function Lme(e,t,r,n,s,i){var a,l=n.reduce((h,m)=>Gr(Gr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>em((h,m)=>m.from,l),u=()=>!Object.values(l).filter(fN).length,d=null,f=h=>{a||(a=h);var m=h-a,v=m/r.dt;l=sB(r,l,v),s(Gr(Gr(Gr({},e),t),c())),a=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function Fme(e,t,r,n,s,i,a){var l=null,c=s.reduce((f,h)=>Gr(Gr({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=em((g,x)=>oy(...x,r(h)),c);if(i(Gr(Gr(Gr({},e),t),m)),h<1)l=a.setTimeout(d);else{var v=em((g,x)=>oy(...x,r(1)),c);i(Gr(Gr(Gr({},e),t),v))}};return()=>(l=a.setTimeout(d),()=>{l()})}const Ume=(e,t,r,n,s,i)=>{var a=Ime(e,t);return r.isStepper===!0?Lme(e,t,r,a,s,i):Fme(e,t,r,n,a,s,i)};var ly=1e-4,iB=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],aB=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),wI=(e,t)=>r=>{var n=iB(e,t);return aB(n,r)},zme=(e,t)=>r=>{var n=iB(e,t),s=[...n.map((i,a)=>i*a).slice(1),0];return aB(s,r)},_I=function(){for(var t,r,n,s,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else a.length===4&&([t,n,r,s]=a);var u=wI(t,r),d=wI(n,s),f=zme(t,r),h=v=>v>1?1:v<0?0:v,m=v=>{for(var g=v>1?1:v,x=g,y=0;y<8;++y){var w=u(x)-g,b=f(x);if(Math.abs(w-g)<ly||b<ly)return d(x);x=h(x-w/b)}return d(x)};return m.isStepper=!1,m},Bme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*s/1e3,h=c*s/1e3+a;return Math.abs(h-l)<ly&&Math.abs(f)<ly?[l,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},Vme=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(e);case"spring":return Bme();default:if(e.split("(")[0]==="cubic-bezier")return _I(e)}return typeof e=="function"?e:null};function Wme(e){var t,r=()=>null,n=!1,s=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,s&&(s(),s=null),i(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class qme{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function Hme(){return Wme(new qme)}var Kme=p.createContext(Hme);function Gme(e,t){var r=p.useContext(Kme);return p.useMemo(()=>t??r(e),[e,t,r])}var Yme={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jI={t:0},l1={t:1};function Mb(e){var t=ns(e,Yme),{isActive:r,canBegin:n,duration:s,easing:i,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=Gme(t.animationId,t.animationManager),[f,h]=p.useState(r?jI:l1),m=p.useRef(null);return p.useEffect(()=>{r||h(l1)},[r]),p.useEffect(()=>{if(!r||!n)return Cme;var v=Ume(jI,l1,Vme(i),s,h,d.getTimeoutController()),g=()=>{m.current=v()};return d.start([c,a,g,s,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,s,i,a,c,l,d]),u(f.t)}function $b(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Yp(t)),n=p.useRef(e);return n.current!==e&&(r.current=Yp(t),n.current=e),r.current}var Xme=["radius"],Qme=["radius"];function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){Jme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jme(e,t,r){return(t=Zme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zme(e){var t=ege(e,"string");return typeof t=="symbol"?t:t+""}function ege(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function EI(e,t){if(e==null)return{};var r,n,s=tge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kI=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},rge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oB=e=>{var t=ns(e,rge),r=p.useRef(null),[n,s]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&s(X)}catch{}},[]);var{x:i,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:g}=t,x=p.useRef(l),y=p.useRef(c),w=p.useRef(i),b=p.useRef(a),_=p.useMemo(()=>({x:i,y:a,width:l,height:c,radius:u}),[i,a,l,c,u]),j=$b(_,"rectangle-");if(i!==+i||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var S=lt("recharts-rectangle",d);if(!g){var N=ts(t),{radius:E}=N,A=EI(N,Xme);return p.createElement("path",cy({},A,{radius:typeof u=="number"?u:void 0,className:S,d:kI(i,a,l,c,u)}))}var P=x.current,C=y.current,k=w.current,D=b.current,T="0px ".concat(n===-1?1:n,"px"),L="".concat(n,"px 0px"),z=nB(["strokeDasharray"],h,typeof f=="string"?f:void 0);return p.createElement(Mb,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:g,begin:m},X=>{var I=sr(P,l,X),M=sr(C,c,X),Q=sr(k,i,X),J=sr(D,a,X);r.current&&(x.current=I,y.current=M,w.current=Q,b.current=J);var ee;v?X>0?ee={transition:z,strokeDasharray:L}:ee={strokeDasharray:T}:ee={strokeDasharray:L};var Ee=ts(t),{radius:je}=Ee,Fe=EI(Ee,Qme);return p.createElement("path",cy({},Fe,{radius:typeof u=="number"?u:void 0,className:S,d:kI(Q,J,I,M,u),ref:r,style:NI(NI({},ee),t.style)}))})};function lB(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,a=Xr(t,r,n,s),l=Xr(t,r,n,i);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(null,arguments)}var nge=(e,t)=>{var r=qn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Qg=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/iy,f=c?s:s+i*d,h=Xr(t,r,u,f),m=Xr(t,r,n,f),v=c?s-i*d:s,g=Xr(t,r,u*Math.cos(d*iy),v);return{center:h,circleTangency:m,lineTangency:g,theta:d}},cB=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:a}=e,l=nge(i,a),c=i+l,u=Xr(t,r,s,i),d=Xr(t,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Xr(t,r,n,i),m=Xr(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},sge=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=qn(u-c),{circleTangency:f,lineTangency:h,theta:m}=Qg({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:v,lineTangency:g,theta:x}=Qg({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(y<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):cB({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=Qg({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:N,theta:E}=Qg({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-j-E;if(A<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},ige={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uB=e=>{var t=ns(e,ige),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<s||u===d)return null;var h=lt("recharts-sector",f),m=i-s,v=Ri(a,m,0,!0),g;return v>0&&Math.abs(u-d)<360?g=sge({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=cB({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",hN({},ts(t),{className:h,d:g}))};function age(e,t,r){var n,s,i,a;if(e==="horizontal")n=t.x,i=n,s=r.top,a=r.top+r.height;else if(e==="vertical")s=t.y,a=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Xr(l,c,u,f),m=Xr(l,c,d,f);n=h.x,s=h.y,i=m.x,a=m.y}else return lB(t);return[{x:n,y:s},{x:i,y:a}]}var dB={},fB={},hB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZC;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(hB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hB;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(fB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP,r=fB;function n(s,i,a){a&&typeof a!="number"&&t.isIterateeCall(s,i,a)&&(i=a=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),a=a===void 0?s<i?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((i-s)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=a;return c}e.range=n})(dB);var oge=dB.range;const pB=ti(oge);function yl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cP(e){let t,r,n;e.length!==2?(t=yl,r=(l,c)=>yl(e(l),c),n=(l,c)=>e(l)-c):(t=e===yl||e===lge?e:cge,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:a,right:i}}function cge(){return 0}function mB(e){return e===null?NaN:+e}function*uge(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dge=cP(yl),Vm=dge.right;cP(mB).center;class CI extends Map{constructor(t,r=pge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(PI(this,t))}has(t){return super.has(PI(this,t))}set(t,r){return super.set(fge(this,t),r)}delete(t){return super.delete(hge(this,t))}}function PI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fge({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function hge({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function pge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mge(e=yl){if(e===yl)return gB;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gB(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gge=Math.sqrt(50),vge=Math.sqrt(10),xge=Math.sqrt(2);function uy(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),a=i>=gge?10:i>=vge?5:i>=xge?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?uy(e,t,r*2):[l,c,u]}function pN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,a]=n?uy(t,e,r):uy(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(i-u)/-a;else for(let u=0;u<l;++u)c[u]=(i-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function mN(e,t,r){return t=+t,e=+e,r=+r,uy(e,t,r)[2]}function gN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?mN(t,e,r):mN(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function AI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function OI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vB(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?gB:mge(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));vB(e,t,m,v,s)}const i=e[t];let a=r,l=n;for(gh(e,r,t),s(e[n],i)>0&&gh(e,r,n);a<l;){for(gh(e,a,l),++a,--l;s(e[a],i)<0;)++a;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?gh(e,r,l):(++l,gh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function gh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function yge(e,t,r){if(e=Float64Array.from(uge(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return OI(e);if(t>=1)return AI(e);var n,s=(n-1)*t,i=Math.floor(s),a=AI(vB(e,i).subarray(0,i+1)),l=OI(e.subarray(i+1));return a+(l-a)*(s-i)}}function bge(e,t,r=mB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),a=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return a+(l-a)*(s-i)}}function wge(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function ni(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vN=Symbol("implicit");function uP(){var e=new CI,t=[],r=[],n=vN;function s(i){let a=e.get(i);if(a===void 0){if(n!==vN)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CI;for(const a of i)e.has(a)||e.set(a,t.push(a)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return uP(t,r).unknown(n)},ni.apply(s,arguments),s}function dP(){var e=uP().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,v=m?s:n,g=m?n:s;i=(g-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(g-v-i*(h-c))*d,a=i*(1-c),l&&(v=Math.round(v),a=Math.round(a));var x=wge(h).map(function(y){return v+i*y});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return dP(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},ni.apply(f(),arguments)}function xB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xB(t())},e}function _ge(){return xB(dP.apply(null,arguments).paddingInner(1))}function fP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yB(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wm(){}var tm=.7,dy=1/tm,Nd="\\s*([+-]?\\d+)\\s*",rm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jge=/^#([0-9a-f]{3,8})$/,Sge=new RegExp(`^rgb\\(${Nd},${Nd},${Nd}\\)$`),Nge=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),Ege=new RegExp(`^rgba\\(${Nd},${Nd},${Nd},${rm}\\)$`),kge=new RegExp(`^rgba\\(${ra},${ra},${ra},${rm}\\)$`),Cge=new RegExp(`^hsl\\(${rm},${ra},${ra}\\)$`),Pge=new RegExp(`^hsla\\(${rm},${ra},${ra},${rm}\\)$`),TI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fP(Wm,nm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RI,formatHex:RI,formatHex8:Age,formatHsl:Oge,formatRgb:II,toString:II});function RI(){return this.rgb().formatHex()}function Age(){return this.rgb().formatHex8()}function Oge(){return bB(this).formatHsl()}function II(){return this.rgb().formatRgb()}function nm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jge.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?DI(t):r===3?new Hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sge.exec(e))?new Hn(t[1],t[2],t[3],1):(t=Nge.exec(e))?new Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ege.exec(e))?Jg(t[1],t[2],t[3],t[4]):(t=kge.exec(e))?Jg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cge.exec(e))?LI(t[1],t[2]/100,t[3]/100,1):(t=Pge.exec(e))?LI(t[1],t[2]/100,t[3]/100,t[4]):TI.hasOwnProperty(e)?DI(TI[e]):e==="transparent"?new Hn(NaN,NaN,NaN,0):null}function DI(e){return new Hn(e>>16&255,e>>8&255,e&255,1)}function Jg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Hn(e,t,r,n)}function Tge(e){return e instanceof Wm||(e=nm(e)),e?(e=e.rgb(),new Hn(e.r,e.g,e.b,e.opacity)):new Hn}function xN(e,t,r,n){return arguments.length===1?Tge(e):new Hn(e,t,r,n??1)}function Hn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fP(Hn,xN,yB(Wm,{brighter(e){return e=e==null?dy:Math.pow(dy,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tm:Math.pow(tm,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hn(Vc(this.r),Vc(this.g),Vc(this.b),fy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MI,formatHex:MI,formatHex8:Rge,formatRgb:$I,toString:$I}));function MI(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}`}function Rge(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}${Sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function $I(){const e=fy(this.opacity);return`${e===1?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${e===1?")":`, ${e})`}`}function fy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sc(e){return e=Vc(e),(e<16?"0":"")+e.toString(16)}function LI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bi(e,t,r,n)}function bB(e){if(e instanceof bi)return new bi(e.h,e.s,e.l,e.opacity);if(e instanceof Wm||(e=nm(e)),!e)return new bi;if(e instanceof bi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,l=i-s,c=(i+s)/2;return l?(t===i?a=(r-n)/l+(r<n)*6:r===i?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?i+s:2-i-s,a*=60):l=c>0&&c<1?0:a,new bi(a,l,c,e.opacity)}function Ige(e,t,r,n){return arguments.length===1?bB(e):new bi(e,t,r,n??1)}function bi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fP(bi,Ige,yB(Wm,{brighter(e){return e=e==null?dy:Math.pow(dy,e),new bi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tm:Math.pow(tm,e),new bi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Hn(c1(e>=240?e-240:e+120,s,n),c1(e,s,n),c1(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new bi(FI(this.h),Zg(this.s),Zg(this.l),fy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fy(this.opacity);return`${e===1?"hsl(":"hsla("}${FI(this.h)}, ${Zg(this.s)*100}%, ${Zg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FI(e){return e=(e||0)%360,e<0?e+360:e}function Zg(e){return Math.max(0,Math.min(1,e||0))}function c1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const hP=e=>()=>e;function Dge(e,t){return function(r){return e+r*t}}function Mge(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $ge(e){return(e=+e)==1?wB:function(t,r){return r-t?Mge(t,r,e):hP(isNaN(t)?r:t)}}function wB(e,t){var r=t-e;return r?Dge(e,r):hP(isNaN(e)?t:e)}const UI=function e(t){var r=$ge(t);function n(s,i){var a=r((s=xN(s)).r,(i=xN(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=wB(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Lge(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Fge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Uge(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)s[a]=Lf(e[a],t[a]);for(;a<r;++a)i[a]=t[a];return function(l){for(a=0;a<n;++a)i[a]=s[a](l);return i}}function zge(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Bge(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Lf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var yN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u1=new RegExp(yN.source,"g");function Vge(e){return function(){return e}}function Wge(e){return function(t){return e(t)+""}}function qge(e,t){var r=yN.lastIndex=u1.lastIndex=0,n,s,i,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=yN.exec(e))&&(s=u1.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:hy(n,s)})),r=u1.lastIndex;return r<t.length&&(i=t.slice(r),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?Wge(c[0].x):Vge(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Lf(e,t){var r=typeof t,n;return t==null||r==="boolean"?hP(t):(r==="number"?hy:r==="string"?(n=nm(t))?(t=n,UI):qge:t instanceof nm?UI:t instanceof Date?zge:Fge(t)?Lge:Array.isArray(t)?Uge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bge:hy)(e,t)}function pP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Hge(e,t){t===void 0&&(t=e,e=Lf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return i[l](a-l)}}function Kge(e){return function(){return e}}function py(e){return+e}var zI=[0,1];function kn(e){return e}function bN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Kge(isNaN(t)?NaN:.5)}function Gge(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Yge(e,t,r){var n=e[0],s=e[1],i=t[0],a=t[1];return s<n?(n=bN(s,n),i=r(a,i)):(n=bN(n,s),i=r(i,a)),function(l){return i(n(l))}}function Xge(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)s[a]=bN(e[a],e[a+1]),i[a]=r(t[a],t[a+1]);return function(l){var c=Vm(e,l,1,n)-1;return i[c](s[c](l))}}function qm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lb(){var e=zI,t=zI,r=Lf,n,s,i,a=kn,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==kn&&(a=Gge(e[0],e[h-1])),l=h>2?Xge:Yge,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(s((u||(u=l(t,e.map(n),hy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,py),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=pP,d()},f.clamp=function(h){return arguments.length?(a=h?!0:kn,d()):a!==kn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function mP(){return Lb()(kn,kn)}function Qge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function my(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function of(e){return e=my(Math.abs(e)),e?e[1]:NaN}function Jge(e,t){return function(r,n){for(var s=r.length,i=[],a=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return i.reverse().join(t)}}function Zge(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sm(e){if(!(t=eve.exec(e)))throw new Error("invalid format: "+e);var t;return new gP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sm.prototype=gP.prototype;function gP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tve(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var _B;function rve(e,t){var r=my(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(_B=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+my(e,Math.max(0,t+i-1))[0]}function BI(e,t){var r=my(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const VI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BI(e*100,t),r:BI,s:rve,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WI(e){return e}var qI=Array.prototype.map,HI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nve(e){var t=e.grouping===void 0||e.thousands===void 0?WI:Jge(qI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?WI:Zge(qI.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=sm(f);var h=f.fill,m=f.align,v=f.sign,g=f.symbol,x=f.zero,y=f.width,w=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(w=!0,j="g"):VI[j]||(b===void 0&&(b=12),_=!0,j="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=g==="$"?n:/[%p]/.test(j)?a:"",E=VI[j],A=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(C){var k=S,D=N,T,L,z;if(j==="c")D=E(C)+D,C="";else{C=+C;var X=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),b),_&&(C=tve(C)),X&&+C==0&&v!=="+"&&(X=!1),k=(X?v==="("?v:l:v==="-"||v==="("?"":v)+k,D=(j==="s"?HI[8+_B/3]:"")+D+(X&&v==="("?")":""),A){for(T=-1,L=C.length;++T<L;)if(z=C.charCodeAt(T),48>z||z>57){D=(z===46?s+C.slice(T+1):C.slice(T))+D,C=C.slice(0,T);break}}}w&&!x&&(C=t(C,1/0));var I=k.length+C.length+D.length,M=I<y?new Array(y-I+1).join(h):"";switch(w&&x&&(C=t(M+C,M.length?y-D.length:1/0),M=""),m){case"<":C=k+C+D+M;break;case"=":C=k+M+C+D;break;case"^":C=M.slice(0,I=M.length>>1)+k+C+D+M.slice(I);break;default:C=M+k+C+D;break}return i(C)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=sm(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(of(h)/3)))*3,g=Math.pow(10,-v),x=HI[8+v/3];return function(y){return m(g*y)+x}}return{format:u,formatPrefix:d}}var ev,vP,jB;sve({thousands:",",grouping:[3],currency:["$",""]});function sve(e){return ev=nve(e),vP=ev.format,jB=ev.formatPrefix,ev}function ive(e){return Math.max(0,-of(Math.abs(e)))}function ave(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(of(t)/3)))*3-of(Math.abs(e)))}function ove(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,of(t)-of(e))+1}function SB(e,t,r,n){var s=gN(e,t,r),i;switch(n=sm(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ave(s,a))&&(n.precision=i),jB(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ove(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=ive(s))&&(n.precision=i-(n.type==="%")*2);break}}return vP(n)}function Kl(e){var t=e.domain;return e.ticks=function(r){var n=t();return pN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return SB(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,a=n[s],l=n[i],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=mN(a,l,r),u===c)return n[s]=a,n[i]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function NB(){var e=mP();return e.copy=function(){return qm(e,NB())},ni.apply(e,arguments),Kl(e)}function EB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,py),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return EB(e).unknown(t)},e=arguments.length?Array.from(e,py):[0,1],Kl(r)}function kB(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],a;return i<s&&(a=r,r=n,n=a,a=s,s=i,i=a),e[r]=t.floor(s),e[n]=t.ceil(i),e}function KI(e){return Math.log(e)}function GI(e){return Math.exp(e)}function lve(e){return-Math.log(-e)}function cve(e){return-Math.exp(-e)}function uve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dve(e){return e===10?uve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YI(e){return(t,r)=>-e(-t,r)}function xP(e){const t=e(KI,GI),r=t.domain;let n=10,s,i;function a(){return s=fve(n),i=dve(n),r()[0]<0?(s=YI(s),i=YI(i),e(lve,cve)):e(KI,GI),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),v,g;const x=l==null?10:+l;let y=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(g=h<0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/i(-h):v*i(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<x&&(y=pN(u,d,x))}else y=pN(h,m,Math.min(m-h,x)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sm(c)).precision==null&&(c.trim=!0),c=vP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(kB(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function CB(){const e=xP(Lb()).domain([1,10]);return e.copy=()=>qm(e,CB()).base(e.base()),ni.apply(e,arguments),e}function XI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yP(e){var t=1,r=e(XI(t),QI(t));return r.constant=function(n){return arguments.length?e(XI(t=+n),QI(t)):t},Kl(r)}function PB(){var e=yP(Lb());return e.copy=function(){return qm(e,PB()).constant(e.constant())},ni.apply(e,arguments)}function JI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pve(e){return e<0?-e*e:e*e}function bP(e){var t=e(kn,kn),r=1;function n(){return r===1?e(kn,kn):r===.5?e(hve,pve):e(JI(r),JI(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Kl(t)}function wP(){var e=bP(Lb());return e.copy=function(){return qm(e,wP()).exponent(e.exponent())},ni.apply(e,arguments),e}function mve(){return wP.apply(null,arguments).exponent(.5)}function ZI(e){return Math.sign(e)*e*e}function gve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AB(){var e=mP(),t=[0,1],r=!1,n;function s(i){var a=gve(e(i));return isNaN(a)?n:r?Math.round(a):a}return s.invert=function(i){return e.invert(ZI(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,py)).map(ZI)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return AB(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ni.apply(s,arguments),Kl(s)}function OB(){var e=[],t=[],r=[],n;function s(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=bge(e,a/l);return i}function i(a){return a==null||isNaN(a=+a)?n:t[Vm(r,a)]}return i.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(yl),s()},i.range=function(a){return arguments.length?(t=Array.from(a),s()):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return OB().domain(e).range(t).unknown(n)},ni.apply(i,arguments)}function TB(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function a(c){return c!=null&&c<=c?s[Vm(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},a.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return TB().domain([e,t]).range(s).unknown(i)},ni.apply(Kl(a),arguments)}function RB(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Vm(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var a=t.indexOf(i);return[e[a-1],e[a]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return RB().domain(e).range(t).unknown(r)},ni.apply(s,arguments)}const d1=new Date,f1=new Date;function Or(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const a=s(i),l=s.ceil(i);return i-a<l-i?a:l},s.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),s.range=(i,a,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<a)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<a);return c},s.filter=i=>Or(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!i(a););else for(;--l>=0;)for(;t(a,1),!i(a););}),r&&(s.count=(i,a)=>(d1.setTime(+i),f1.setTime(+a),e(d1),e(f1),Math.floor(r(d1,f1))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?a=>n(a)%i===0:a=>s.count(0,a)%i===0):s)),s}const gy=Or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Or(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gy);gy.range;const Fa=1e3,Ws=Fa*60,Ua=Ws*60,oo=Ua*24,_P=oo*7,e4=oo*30,h1=oo*365,Nc=Or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCSeconds());Nc.range;const jP=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa)},(e,t)=>{e.setTime(+e+t*Ws)},(e,t)=>(t-e)/Ws,e=>e.getMinutes());jP.range;const SP=Or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ws)},(e,t)=>(t-e)/Ws,e=>e.getUTCMinutes());SP.range;const NP=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fa-e.getMinutes()*Ws)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getHours());NP.range;const EP=Or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCHours());EP.range;const Hm=Or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ws)/oo,e=>e.getDate()-1);Hm.range;const Fb=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oo,e=>e.getUTCDate()-1);Fb.range;const IB=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oo,e=>Math.floor(e/oo));IB.range;function ku(e){return Or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ws)/_P)}const Ub=ku(0),vy=ku(1),vve=ku(2),xve=ku(3),lf=ku(4),yve=ku(5),bve=ku(6);Ub.range;vy.range;vve.range;xve.range;lf.range;yve.range;bve.range;function Cu(e){return Or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_P)}const zb=Cu(0),xy=Cu(1),wve=Cu(2),_ve=Cu(3),cf=Cu(4),jve=Cu(5),Sve=Cu(6);zb.range;xy.range;wve.range;_ve.range;cf.range;jve.range;Sve.range;const kP=Or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kP.range;const CP=Or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());CP.range;const lo=Or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});lo.range;const co=Or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});co.range;function DB(e,t,r,n,s,i){const a=[[Nc,1,Fa],[Nc,5,5*Fa],[Nc,15,15*Fa],[Nc,30,30*Fa],[i,1,Ws],[i,5,5*Ws],[i,15,15*Ws],[i,30,30*Ws],[s,1,Ua],[s,3,3*Ua],[s,6,6*Ua],[s,12,12*Ua],[n,1,oo],[n,2,2*oo],[r,1,_P],[t,1,e4],[t,3,3*e4],[e,1,h1]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=cP(([,,x])=>x).right(a,h);if(m===a.length)return e.every(gN(u/h1,d/h1,f));if(m===0)return gy.every(Math.max(gN(u,d,f),1));const[v,g]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return v.every(g)}return[l,c]}const[Nve,Eve]=DB(co,CP,zb,IB,EP,SP),[kve,Cve]=DB(lo,kP,Ub,Hm,NP,jP);function p1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function m1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Pve(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=xh(s),d=yh(s),f=xh(i),h=yh(i),m=xh(a),v=yh(a),g=xh(l),x=yh(l),y=xh(c),w=yh(c),b={a:X,A:I,b:M,B:Q,c:null,d:a4,e:a4,f:Jve,g:lxe,G:uxe,H:Yve,I:Xve,j:Qve,L:MB,m:Zve,M:exe,p:J,q:ee,Q:c4,s:u4,S:txe,u:rxe,U:nxe,V:sxe,w:ixe,W:axe,x:null,X:null,y:oxe,Y:cxe,Z:dxe,"%":l4},_={a:Ee,A:je,b:Fe,B:ze,c:null,d:o4,e:o4,f:mxe,g:Nxe,G:kxe,H:fxe,I:hxe,j:pxe,L:LB,m:gxe,M:vxe,p:pe,q:Ke,Q:c4,s:u4,S:xxe,u:yxe,U:bxe,V:wxe,w:_xe,W:jxe,x:null,X:null,y:Sxe,Y:Exe,Z:Cxe,"%":l4},j={a:P,A:C,b:k,B:D,c:T,d:s4,e:s4,f:qve,g:n4,G:r4,H:i4,I:i4,j:zve,L:Wve,m:Uve,M:Bve,p:A,q:Fve,Q:Kve,s:Gve,S:Vve,u:Ive,U:Dve,V:Mve,w:Rve,W:$ve,x:L,X:z,y:n4,Y:r4,Z:Lve,"%":Hve};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(K,re){return function(fe){var G=[],Qe=-1,Ue=0,vt=K.length,wt,Et,ma;for(fe instanceof Date||(fe=new Date(+fe));++Qe<vt;)K.charCodeAt(Qe)===37&&(G.push(K.slice(Ue,Qe)),(Et=t4[wt=K.charAt(++Qe)])!=null?wt=K.charAt(++Qe):Et=wt==="e"?" ":"0",(ma=re[wt])&&(wt=ma(fe,Et)),G.push(wt),Ue=Qe+1);return G.push(K.slice(Ue,Qe)),G.join("")}}function N(K,re){return function(fe){var G=vh(1900,void 0,1),Qe=E(G,K,fe+="",0),Ue,vt;if(Qe!=fe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(re&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ue=m1(vh(G.y,0,1)),vt=Ue.getUTCDay(),Ue=vt>4||vt===0?xy.ceil(Ue):xy(Ue),Ue=Fb.offset(Ue,(G.V-1)*7),G.y=Ue.getUTCFullYear(),G.m=Ue.getUTCMonth(),G.d=Ue.getUTCDate()+(G.w+6)%7):(Ue=p1(vh(G.y,0,1)),vt=Ue.getDay(),Ue=vt>4||vt===0?vy.ceil(Ue):vy(Ue),Ue=Hm.offset(Ue,(G.V-1)*7),G.y=Ue.getFullYear(),G.m=Ue.getMonth(),G.d=Ue.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),vt="Z"in G?m1(vh(G.y,0,1)).getUTCDay():p1(vh(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(vt+5)%7:G.w+G.U*7-(vt+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,m1(G)):p1(G)}}function E(K,re,fe,G){for(var Qe=0,Ue=re.length,vt=fe.length,wt,Et;Qe<Ue;){if(G>=vt)return-1;if(wt=re.charCodeAt(Qe++),wt===37){if(wt=re.charAt(Qe++),Et=j[wt in t4?re.charAt(Qe++):wt],!Et||(G=Et(K,fe,G))<0)return-1}else if(wt!=fe.charCodeAt(G++))return-1}return G}function A(K,re,fe){var G=u.exec(re.slice(fe));return G?(K.p=d.get(G[0].toLowerCase()),fe+G[0].length):-1}function P(K,re,fe){var G=m.exec(re.slice(fe));return G?(K.w=v.get(G[0].toLowerCase()),fe+G[0].length):-1}function C(K,re,fe){var G=f.exec(re.slice(fe));return G?(K.w=h.get(G[0].toLowerCase()),fe+G[0].length):-1}function k(K,re,fe){var G=y.exec(re.slice(fe));return G?(K.m=w.get(G[0].toLowerCase()),fe+G[0].length):-1}function D(K,re,fe){var G=g.exec(re.slice(fe));return G?(K.m=x.get(G[0].toLowerCase()),fe+G[0].length):-1}function T(K,re,fe){return E(K,t,re,fe)}function L(K,re,fe){return E(K,r,re,fe)}function z(K,re,fe){return E(K,n,re,fe)}function X(K){return a[K.getDay()]}function I(K){return i[K.getDay()]}function M(K){return c[K.getMonth()]}function Q(K){return l[K.getMonth()]}function J(K){return s[+(K.getHours()>=12)]}function ee(K){return 1+~~(K.getMonth()/3)}function Ee(K){return a[K.getUTCDay()]}function je(K){return i[K.getUTCDay()]}function Fe(K){return c[K.getUTCMonth()]}function ze(K){return l[K.getUTCMonth()]}function pe(K){return s[+(K.getUTCHours()>=12)]}function Ke(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var re=S(K+="",b);return re.toString=function(){return K},re},parse:function(K){var re=N(K+="",!1);return re.toString=function(){return K},re},utcFormat:function(K){var re=S(K+="",_);return re.toString=function(){return K},re},utcParse:function(K){var re=N(K+="",!0);return re.toString=function(){return K},re}}}var t4={"-":"",_:" ",0:"0"},Vr=/^\s*\d+/,Ave=/^%/,Ove=/[\\^$*+?|[\]().{}]/g;function at(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Tve(e){return e.replace(Ove,"\\$&")}function xh(e){return new RegExp("^(?:"+e.map(Tve).join("|")+")","i")}function yh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Rve(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ive(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Dve(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mve(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $ve(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function r4(e,t,r){var n=Vr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function n4(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lve(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Fve(e,t,r){var n=Vr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Uve(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function s4(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zve(e,t,r){var n=Vr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function i4(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Bve(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vve(e,t,r){var n=Vr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Wve(e,t,r){var n=Vr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qve(e,t,r){var n=Vr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hve(e,t,r){var n=Ave.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kve(e,t,r){var n=Vr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Gve(e,t,r){var n=Vr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function a4(e,t){return at(e.getDate(),t,2)}function Yve(e,t){return at(e.getHours(),t,2)}function Xve(e,t){return at(e.getHours()%12||12,t,2)}function Qve(e,t){return at(1+Hm.count(lo(e),e),t,3)}function MB(e,t){return at(e.getMilliseconds(),t,3)}function Jve(e,t){return MB(e,t)+"000"}function Zve(e,t){return at(e.getMonth()+1,t,2)}function exe(e,t){return at(e.getMinutes(),t,2)}function txe(e,t){return at(e.getSeconds(),t,2)}function rxe(e){var t=e.getDay();return t===0?7:t}function nxe(e,t){return at(Ub.count(lo(e)-1,e),t,2)}function $B(e){var t=e.getDay();return t>=4||t===0?lf(e):lf.ceil(e)}function sxe(e,t){return e=$B(e),at(lf.count(lo(e),e)+(lo(e).getDay()===4),t,2)}function ixe(e){return e.getDay()}function axe(e,t){return at(vy.count(lo(e)-1,e),t,2)}function oxe(e,t){return at(e.getFullYear()%100,t,2)}function lxe(e,t){return e=$B(e),at(e.getFullYear()%100,t,2)}function cxe(e,t){return at(e.getFullYear()%1e4,t,4)}function uxe(e,t){var r=e.getDay();return e=r>=4||r===0?lf(e):lf.ceil(e),at(e.getFullYear()%1e4,t,4)}function dxe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function o4(e,t){return at(e.getUTCDate(),t,2)}function fxe(e,t){return at(e.getUTCHours(),t,2)}function hxe(e,t){return at(e.getUTCHours()%12||12,t,2)}function pxe(e,t){return at(1+Fb.count(co(e),e),t,3)}function LB(e,t){return at(e.getUTCMilliseconds(),t,3)}function mxe(e,t){return LB(e,t)+"000"}function gxe(e,t){return at(e.getUTCMonth()+1,t,2)}function vxe(e,t){return at(e.getUTCMinutes(),t,2)}function xxe(e,t){return at(e.getUTCSeconds(),t,2)}function yxe(e){var t=e.getUTCDay();return t===0?7:t}function bxe(e,t){return at(zb.count(co(e)-1,e),t,2)}function FB(e){var t=e.getUTCDay();return t>=4||t===0?cf(e):cf.ceil(e)}function wxe(e,t){return e=FB(e),at(cf.count(co(e),e)+(co(e).getUTCDay()===4),t,2)}function _xe(e){return e.getUTCDay()}function jxe(e,t){return at(xy.count(co(e)-1,e),t,2)}function Sxe(e,t){return at(e.getUTCFullYear()%100,t,2)}function Nxe(e,t){return e=FB(e),at(e.getUTCFullYear()%100,t,2)}function Exe(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function kxe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?cf(e):cf.ceil(e),at(e.getUTCFullYear()%1e4,t,4)}function Cxe(){return"+0000"}function l4(){return"%"}function c4(e){return+e}function u4(e){return Math.floor(+e/1e3)}var Bu,UB,zB;Pxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pxe(e){return Bu=Pve(e),UB=Bu.format,Bu.parse,zB=Bu.utcFormat,Bu.utcParse,Bu}function Axe(e){return new Date(e)}function Oxe(e){return e instanceof Date?+e:+new Date(+e)}function PP(e,t,r,n,s,i,a,l,c,u){var d=mP(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?v:a(S)<S?g:i(S)<S?x:n(S)<S?s(S)<S?y:w:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Oxe)):h().map(Axe)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(kB(N,S)):d},d.copy=function(){return qm(d,PP(e,t,r,n,s,i,a,l,c,u))},d}function Txe(){return ni.apply(PP(kve,Cve,lo,kP,Ub,Hm,NP,jP,Nc,UB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rxe(){return ni.apply(PP(Nve,Eve,co,CP,zb,Fb,EP,SP,Nc,zB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bb(){var e=0,t=1,r,n,s,i,a=kn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,a=f(m,v),u):[a(0),a(1)]}}return u.range=d(Lf),u.rangeRound=d(pP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Gl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BB(){var e=Kl(Bb()(kn));return e.copy=function(){return Gl(e,BB())},bo.apply(e,arguments)}function VB(){var e=xP(Bb()).domain([1,10]);return e.copy=function(){return Gl(e,VB()).base(e.base())},bo.apply(e,arguments)}function WB(){var e=yP(Bb());return e.copy=function(){return Gl(e,WB()).constant(e.constant())},bo.apply(e,arguments)}function AP(){var e=bP(Bb());return e.copy=function(){return Gl(e,AP()).exponent(e.exponent())},bo.apply(e,arguments)}function Ixe(){return AP.apply(null,arguments).exponent(.5)}function qB(){var e=[],t=kn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(yl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>yge(e,i/n))},r.copy=function(){return qB(t).domain(e)},bo.apply(r,arguments)}function Vb(){var e=0,t=.5,r=1,n=1,s,i,a,l,c,u=kn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,s=d(e=+e),i=d(t=+t),a=d(r=+r),l=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(x){var y,w,b;return arguments.length?([y,w,b]=x,u=Hge(g,[y,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=v(Lf),m.rangeRound=v(pP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,s=g(e),i=g(t),a=g(r),l=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,m}}function HB(){var e=Kl(Vb()(kn));return e.copy=function(){return Gl(e,HB())},bo.apply(e,arguments)}function KB(){var e=xP(Vb()).domain([.1,1,10]);return e.copy=function(){return Gl(e,KB()).base(e.base())},bo.apply(e,arguments)}function GB(){var e=yP(Vb());return e.copy=function(){return Gl(e,GB()).constant(e.constant())},bo.apply(e,arguments)}function OP(){var e=bP(Vb());return e.copy=function(){return Gl(e,OP()).exponent(e.exponent())},bo.apply(e,arguments)}function Dxe(){return OP.apply(null,arguments).exponent(.5)}const Lh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dP,scaleDiverging:HB,scaleDivergingLog:KB,scaleDivergingPow:OP,scaleDivergingSqrt:Dxe,scaleDivergingSymlog:GB,scaleIdentity:EB,scaleImplicit:vN,scaleLinear:NB,scaleLog:CB,scaleOrdinal:uP,scalePoint:_ge,scalePow:wP,scaleQuantile:OB,scaleQuantize:TB,scaleRadial:AB,scaleSequential:BB,scaleSequentialLog:VB,scaleSequentialPow:AP,scaleSequentialQuantile:qB,scaleSequentialSqrt:Ixe,scaleSequentialSymlog:WB,scaleSqrt:mve,scaleSymlog:PB,scaleThreshold:RB,scaleTime:Txe,scaleUtc:Rxe,tickFormat:SB},Symbol.toStringTag,{value:"Module"}));var Yl=e=>e.chartData,Mxe=V([Yl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Wb=(e,t,r,n)=>n?Mxe(e):Yl(e);function fu(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(xr(t)&&xr(r))return!0}return!1}function d4(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function YB(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(xr(r))s=r;else if(typeof r=="function")return;if(xr(n))i=n;else if(typeof n=="function")return;var a=[s,i];if(fu(a))return a}}function $xe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(fu(n))return d4(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,a,l;if(s==="auto")t!=null&&(a=Math.min(...t));else if(_e(s))a=s;else if(typeof s=="function")try{t!=null&&(a=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&sI.test(s)){var c=sI.exec(s);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(_e(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&iI.test(i)){var d=iI.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(fu(h))return t==null?h:d4(h,t,r)}}}var Ff=1e9,Lxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RP,Ut=!0,ei="[DecimalError] ",Wc=ei+"Invalid argument: ",TP=ei+"Exponent out of range: ",Uf=Math.floor,uc=Math.pow,Fxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hs,$r=1e7,It=7,XB=9007199254740991,yy=Uf(XB/It),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*It;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(e){return Ha(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,r=t.constructor;return St(Ha(t,new r(e),0,1),r.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return gr(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hs))throw Error(ei+"NaN");if(r.s<1)throw Error(ei+(r.s?"NaN":"-Infinity"));return r.eq(hs)?new n(0):(Ut=!1,t=Ha(im(r,i),im(e,i),i),Ut=!0,St(t,s))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZB(t,e):QB(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(ei+"NaN");return r.s?(Ut=!1,t=Ha(r,e,0,1).times(e),Ut=!0,r.minus(t)):St(new n(r),s)};xe.naturalExponential=xe.exp=function(){return JB(this)};xe.naturalLogarithm=xe.ln=function(){return im(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QB(t,e):ZB(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wc+e);if(t=gr(s)+1,n=s.d.length-1,r=n*It+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xe.squareRoot=xe.sqrt=function(){var e,t,r,n,s,i,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ei+"NaN")}for(e=gr(l),Ut=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Yi(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Uf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=a=r+3;;)if(i=n,n=i.plus(Ha(l,i,a+2)).times(.5),Yi(i.d).slice(0,a)===(t=Yi(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),s==a&&t=="4999"){if(St(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;a+=4}return Ut=!0,St(n,r)};xe.times=xe.mul=function(e){var t,r,n,s,i,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,a=c,c=u,u=a),i=[],a=c+u,n=a;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%$r|0,t=l/$r|0;i[s]=(i[s]+t)%$r|0}for(;!i[--a];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ut?St(e,f.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(la(e,0,Ff),t===void 0?t=n.rounding:la(t,0,8),St(r,e+gr(r)+1,t))};xe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=hu(n,!0):(la(e,0,Ff),t===void 0?t=s.rounding:la(t,0,8),n=St(new s(n),e+1,t),r=hu(n,!0,e+1)),r};xe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?hu(s):(la(e,0,Ff),t===void 0?t=i.rounding:la(t,0,8),n=St(new i(s),e+gr(s)+1,t),r=hu(n.abs(),!1,e+gr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return St(new t(e),gr(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,r,n,s,i,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(hs);if(l=new c(l),!l.s){if(e.s<1)throw Error(ei+"Infinity");return l}if(l.eq(hs))return l;if(n=c.precision,e.eq(hs))return St(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,i=l.s,a){if((r=d<0?-d:d)<=XB){for(s=new c(hs),t=Math.ceil(n/It+4),Ut=!1;r%2&&(s=s.times(l),h4(s.d,t)),r=Uf(r/2),r!==0;)l=l.times(l),h4(l.d,t);return Ut=!0,e.s<0?new c(hs).div(s):St(s,n)}}else if(i<0)throw Error(ei+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ut=!1,s=e.times(im(l,n+u)),Ut=!0,s=JB(s),s.s=i,s};xe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=gr(s),n=hu(s,r<=i.toExpNeg||r>=i.toExpPos)):(la(e,1,Ff),t===void 0?t=i.rounding:la(t,0,8),s=St(new i(s),e,t),r=gr(s),n=hu(s,e<=r||r<=i.toExpNeg,e)),n};xe.toSignificantDigits=xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(la(e,1,Ff),t===void 0?t=n.rounding:la(t,0,8)),St(new n(r),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gr(e),r=e.constructor;return hu(e,t<=r.toExpNeg||t>=r.toExpPos)};function QB(e,t){var r,n,s,i,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ut?St(t,f):t;if(c=e.d,u=t.d,a=e.e,s=t.e,c=c.slice(),i=a-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=a,l=c.length),a=Math.ceil(f/It),l=a>l?a+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/$r|0,c[i]%=$r;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Ut?St(t,f):t}function la(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wc+e)}function Yi(e){var t,r,n,s=e.length-1,i="",a=e[0];if(s>0){for(i+=a,t=1;t<s;t++)n=e[t]+"",r=It-n.length,r&&(i+=Lo(r)),i+=n;a=e[t],n=a+"",r=It-n.length,r&&(i+=Lo(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var Ha=function(){function e(n,s){var i,a=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+a,n[l]=i%$r|0,a=i/$r|0;return a&&n.unshift(a),n}function t(n,s,i,a){var l,c;if(i!=a)c=i>a?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var a=0;i--;)n[i]-=a,a=n[i]<s[i]?1:0,n[i]=a*$r+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,a){var l,c,u,d,f,h,m,v,g,x,y,w,b,_,j,S,N,E,A=n.constructor,P=n.s==s.s?1:-1,C=n.d,k=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(ei+"Division by zero");for(c=n.e-s.e,N=k.length,j=C.length,m=new A(P),v=m.d=[],u=0;k[u]==(C[u]||0);)++u;if(k[u]>(C[u]||0)&&--c,i==null?w=i=A.precision:a?w=i+(gr(n)-gr(s))+1:w=i,w<0)return new A(0);if(w=w/It+2|0,u=0,N==1)for(d=0,k=k[0],w++;(u<j||d)&&w--;u++)b=d*$r+(C[u]||0),v[u]=b/k|0,d=b%k|0;else{for(d=$r/(k[0]+1)|0,d>1&&(k=e(k,d),C=e(C,d),N=k.length,j=C.length),_=N,g=C.slice(0,N),x=g.length;x<N;)g[x++]=0;E=k.slice(),E.unshift(0),S=k[0],k[1]>=$r/2&&++S;do d=0,l=t(k,g,N,x),l<0?(y=g[0],N!=x&&(y=y*$r+(g[1]||0)),d=y/S|0,d>1?(d>=$r&&(d=$r-1),f=e(k,d),h=f.length,x=g.length,l=t(f,g,h,x),l==1&&(d--,r(f,N<h?E:k,h))):(d==0&&(l=d=1),f=k.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),l==-1&&(x=g.length,l=t(k,g,N,x),l<1&&(d++,r(g,N<x?E:k,x))),x=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[x++]=C[_]||0:(g=[C[_]],x=1);while((_++<j||g[0]!==void 0)&&w--)}return v[0]||v.shift(),m.e=c,St(m,a?i+gr(m)+1:i)}}();function JB(e,t){var r,n,s,i,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(gr(e)>16)throw Error(TP+gr(e));if(!e.s)return new d(hs);for(Ut=!1,l=f,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(uc(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(hs),d.precision=l;;){if(s=St(s.times(e),l),r=r.times(++c),a=i.plus(Ha(s,r,l)),Yi(a.d).slice(0,l)===Yi(i.d).slice(0,l)){for(;u--;)i=St(i.times(i),l);return d.precision=f,t==null?(Ut=!0,St(i,f)):i}i=a}}function gr(e){for(var t=e.e*It,r=e.d[0];r>=10;r/=10)t++;return t}function g1(e,t,r){if(t>e.LN10.sd())throw Ut=!0,r&&(e.precision=r),Error(ei+"LN10 precision limit exceeded");return St(new e(e.LN10),t)}function Lo(e){for(var t="";e--;)t+="0";return t}function im(e,t){var r,n,s,i,a,l,c,u,d,f=1,h=10,m=e,v=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(ei+(m.s?"NaN":"-Infinity"));if(m.eq(hs))return new g(0);if(t==null?(Ut=!1,u=x):u=t,m.eq(10))return t==null&&(Ut=!0),g1(g,u);if(u+=h,g.precision=u,r=Yi(v),n=r.charAt(0),i=gr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Yi(m.d),n=r.charAt(0),f++;i=gr(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=g1(g,u+2,x).times(i+""),m=im(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=x,t==null?(Ut=!0,St(m,x)):m;for(l=a=m=Ha(m.minus(hs),m.plus(hs),u),d=St(m.times(m),u),s=3;;){if(a=St(a.times(d),u),c=l.plus(Ha(a,new g(s),u)),Yi(c.d).slice(0,u)===Yi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(g1(g,u+2,x).times(i+""))),l=Ha(l,new g(f),u),g.precision=x,t==null?(Ut=!0,St(l,x)):l;l=c,s+=2}}function f4(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Uf(r/It),e.d=[],n=(r+1)%It,r<0&&(n+=It),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=It;n<s;)e.d.push(+t.slice(n,n+=It));t=t.slice(n),n=It-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Ut&&(e.e>yy||e.e<-yy))throw Error(TP+r)}else e.s=0,e.e=0,e.d=[0];return e}function St(e,t,r){var n,s,i,a,l,c,u,d,f=e.d;for(a=1,i=f[0];i>=10;i/=10)a++;if(n=t-a,n<0)n+=It,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/It),i=f.length,d>=i)return e;for(u=i=f[d],a=1;i>=10;i/=10)a++;n%=It,s=n-It+a}if(r!==void 0&&(i=uc(10,a-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/uc(10,a-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=gr(e),f.length=1,t=t-i-1,f[0]=uc(10,(It-t%It)%It),e.e=Uf(-t/It)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=uc(10,It-n),f[d]=s>0?(u/uc(10,a-s)%uc(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==$r&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=$r)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ut&&(e.e>yy||e.e<-yy))throw Error(TP+gr(e));return e}function ZB(e,t){var r,n,s,i,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ut?St(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/It),l)+2,a>s&&(a=s,r.length=1),r.reverse(),s=a;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>a;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=$r-1;--c[i],c[s]+=$r}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ut?St(t,m):t):new h(0)}function hu(e,t,r){var n,s=gr(e),i=Yi(e.d),a=i.length;return t?(r&&(n=r-a)>0?i=i.charAt(0)+"."+i.slice(1)+Lo(n):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Lo(-s-1)+i,r&&(n=r-a)>0&&(i+=Lo(n))):s>=a?(i+=Lo(s+1-a),r&&(n=r-s-1)>0&&(i=i+"."+Lo(n))):((n=s+1)<a&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-a)>0&&(s+1===a&&(i+="."),i+=Lo(n))),e.s<0?"-"+i:i}function h4(e,t){if(e.length>t)return e.length=t,!0}function eV(e){var t,r,n;function s(i){var a=this;if(!(a instanceof s))return new s(i);if(a.constructor=s,i instanceof s){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wc+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return f4(a,i.toString())}else if(typeof i!="string")throw Error(Wc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,Fxe.test(i))f4(a,i);else throw Error(Wc+i)}if(s.prototype=xe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=eV,s.config=s.set=Uxe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Uxe(e){if(!e||typeof e!="object")throw Error(ei+"Object expected");var t,r,n,s=["precision",1,Ff,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Uf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Wc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wc+r+": "+n);return this}var RP=eV(Lxe);hs=new RP(1);const pt=RP;var zxe=e=>e,tV={},rV=e=>e===tV,p4=e=>function t(){return arguments.length===0||arguments.length===1&&rV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},nV=(e,t)=>e===1?t:p4(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(a=>a!==tV).length;return i>=e?t(...n):nV(e-i,p4(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>rV(d)?l.shift():d);return t(...u,...l)}))}),qb=e=>nV(e.length,e),wN=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Bxe=qb((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Vxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return zxe;var s=r.reverse(),i=s[0],a=s.slice(1);return function(){return a.reduce((l,c)=>c(l),i(...arguments))}},_N=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),sV=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function iV(e){var t;return e===0?t=1:t=Math.floor(new pt(e).abs().log(10).toNumber())+1,t}function aV(e,t,r){for(var n=new pt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}qb((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});qb((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});qb((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var oV=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},lV=(e,t,r)=>{if(e.lte(0))return new pt(0);var n=iV(e.toNumber()),s=new pt(10).pow(n),i=e.div(s),a=n!==1?.05:.1,l=new pt(Math.ceil(i.div(a).toNumber())).add(r).mul(a),c=l.mul(s);return t?new pt(c.toNumber()):new pt(Math.ceil(c.toNumber()))},Wxe=(e,t,r)=>{var n=new pt(1),s=new pt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new pt(10).pow(iV(e)-1),s=new pt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new pt(Math.floor(e)))}else e===0?s=new pt(Math.floor((t-1)/2)):r||(s=new pt(Math.floor(e)));var a=Math.floor((t-1)/2),l=Vxe(Bxe(c=>s.add(new pt(c-a).mul(n)).toNumber()),wN);return l(0,t)},cV=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var a=lV(new pt(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new pt(0):(l=new pt(t).add(r).div(2),l=l.sub(new pt(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new pt(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?cV(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new pt(c).mul(a)),tickMax:l.add(new pt(u).mul(a))})};function qxe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[a,l]=oV([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...wN(0,n-1).map(()=>1/0)]:[...wN(0,n-1).map(()=>-1/0),l];return t>r?_N(c):c}if(a===l)return Wxe(a,n,s);var{step:u,tickMin:d,tickMax:f}=cV(a,l,i,s,0),h=aV(d,f.add(new pt(.1).mul(u)),u);return t>r?_N(h):h}function Hxe(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,a]=oV([r,n]);if(i===-1/0||a===1/0)return[r,n];if(i===a)return[i];var l=Math.max(t,2),c=lV(new pt(a).sub(i).div(l-1),s,0),u=[...aV(new pt(i),new pt(a),c),a];return s===!1&&(u=u.map(d=>Math.round(d))),r>n?_N(u):u}var Kxe=sV(qxe),Gxe=sV(Hxe),uV=e=>e.rootProps.maxBarSize,Yxe=e=>e.rootProps.barGap,dV=e=>e.rootProps.barCategoryGap,Xxe=e=>e.rootProps.barSize,Hb=e=>e.rootProps.stackOffset,IP=e=>e.options.chartName,DP=e=>e.rootProps.syncId,fV=e=>e.rootProps.syncMethod,MP=e=>e.options.eventEmitter,Ia={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ls={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Qxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:Ia.reversed,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:Ia.type,unit:void 0},Jxe={allowDataOverflow:ls.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ls.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ls.scale,tick:ls.tick,tickCount:ls.tickCount,ticks:void 0,type:ls.type,unit:void 0},Zxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eye={allowDataOverflow:ls.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ls.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ls.scale,tick:ls.tick,tickCount:ls.tickCount,ticks:void 0,type:"category",unit:void 0},$P=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Zxe:Qxe,LP=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?eye:Jxe,Gb=e=>e.polarOptions,FP=V([xo,yo,Br],Xhe),hV=V([Gb,FP],(e,t)=>{if(e!=null)return Ri(e.innerRadius,t,0)}),pV=V([Gb,FP],(e,t)=>{if(e!=null)return Ri(e.outerRadius,t,t*.8)}),tye=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},mV=V([Gb],tye);V([$P,mV],Kb);var gV=V([FP,hV,pV],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([LP,gV],Kb);var vV=V([ot,Gb,hV,pV,xo,yo],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ri(a,s,s/2),cy:Ri(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Tr=(e,t)=>t,Yb=(e,t,r)=>r;function Xb(e){return e==null?void 0:e.id}var Rr=e=>{var t=ot(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},zf=e=>e.tooltip.settings.axisId,Ir=e=>{var t=Rr(e),r=zf(e);return Km(e,t,r)},xV=V([Ir],e=>e==null?void 0:e.dataKey);function yV(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,a=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Xb(l);u.forEach((f,h)=>{var m=i==null||s?h:String(zr(f,i,null)),v=zr(f,l.dataKey,0),g;a.has(m)?g=a.get(m):g={},Object.assign(g,{[d]:v}),a.set(m,g)})}}),Array.from(a.values())}function Qb(e){return e.stackId!=null&&e.dataKey!=null}var Jb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){rye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rye(e,t,r){return(t=nye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nye(e){var t=sye(e,"string");return typeof t=="symbol"?t:t+""}function sye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jN=[0,"auto"],ss={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bV=(e,t)=>e.cartesianAxis.xAxis[t],wo=(e,t)=>{var r=bV(e,t);return r??ss},is={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bm},wV=(e,t)=>e.cartesianAxis.yAxis[t],_o=(e,t)=>{var r=wV(e,t);return r??is},iye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},UP=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??iye},Dn=(e,t,r)=>{switch(t){case"xAxis":return wo(e,r);case"yAxis":return _o(e,r);case"zAxis":return UP(e,r);case"angleAxis":return $P(e,r);case"radiusAxis":return LP(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},aye=(e,t,r)=>{switch(t){case"xAxis":return wo(e,r);case"yAxis":return _o(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Km=(e,t,r)=>{switch(t){case"xAxis":return wo(e,r);case"yAxis":return _o(e,r);case"angleAxis":return $P(e,r);case"radiusAxis":return LP(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_V=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function jV(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ew=e=>e.graphicalItems.cartesianItems,oye=V([Tr,Yb],jV),SV=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Gm=V([ew,Dn,oye],SV,{memoizeOptions:{resultEqualityCheck:Zb}}),NV=V([Gm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Qb)),EV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lye=V([Gm],EV),kV=e=>e.map(t=>t.data).filter(Boolean).flat(1),cye=V([Gm],kV,{memoizeOptions:{resultEqualityCheck:Zb}}),CV=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},zP=V([cye,Wb],CV),PV=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:zr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:zr(s,n)}))):e.map(n=>({value:n})),tw=V([zP,Dn,Gm],PV);function AV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Vv(e){if(oa(e)||e instanceof Date){var t=Number(e);if(xr(t))return t}}function g4(e){if(Array.isArray(e)){var t=[Vv(e[0]),Vv(e[1])];return fu(t)?t:void 0}var r=Vv(e);if(r!=null)return[r,r]}function Bf(e){return e.map(Vv).filter(Pme)}function uye(e,t,r){return!r||typeof t!="number"||Ss(t)?[]:r.length?Bf(r.flatMap(n=>{var s=zr(e,n.dataKey),i,a;if(Array.isArray(s)?[i,a]=s:i=a=s,!(!xr(i)||!xr(a)))return[t-i,t+a]})):[]}var dye=V([NV,Wb,Ir],yV),OV=(e,t,r)=>{var n={},s=t.reduce((i,a)=>(a.stackId==null||(i[a.stackId]==null&&(i[a.stackId]=[]),i[a.stackId].push(a)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[a,l]=i,c=l.map(Xb);return[a,{stackedData:fpe(e,c,r),graphicalItems:l}]}))},am=V([dye,NV,Hb],OV),TV=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var a=gpe(e,s,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},fye=V([Dn],e=>e.allowDataOverflow),BP=e=>{var t;if(e==null||!("domain"in e))return jN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Bf(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:jN},RV=V([Dn],BP),IV=V([RV,fye],YB),hye=V([am,Yl,Tr,IV],TV,{memoizeOptions:{resultEqualityCheck:Jb}}),VP=e=>e.errorBars,pye=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>AV(r,n)),wy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),a=Math.min(...i),l=Math.max(...i);return[a,l]}},DV=(e,t,r,n,s)=>{var i,a;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>AV(s,y)),h=zr(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=uye(l,h,f);if(m.length>=2){var v=Math.min(...m),g=Math.max(...m);(i==null||v<i)&&(i=v),(a==null||g>a)&&(a=g)}var x=g4(h);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=g4(zr(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),xr(i)&&xr(a))return[i,a]},mye=V([zP,Dn,lye,VP,Tr],DV,{memoizeOptions:{resultEqualityCheck:Jb}});function gye(e){var{value:t}=e;if(oa(t)||t instanceof Date)return t}var vye=(e,t,r)=>{var n=e.map(gye).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&zz(n))?pB(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},MV=e=>e.referenceElements.dots,Vf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),xye=V([MV,Tr,Yb],Vf),$V=e=>e.referenceElements.areas,yye=V([$V,Tr,Yb],Vf),LV=e=>e.referenceElements.lines,bye=V([LV,Tr,Yb],Vf),FV=(e,t)=>{var r=Bf(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wye=V(xye,Tr,FV),UV=(e,t)=>{var r=Bf(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_ye=V([yye,Tr],UV),zV=(e,t)=>{var r=Bf(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jye=V(bye,Tr,zV),Sye=V(wye,jye,_ye,(e,t,r)=>wy(e,r,t)),BV=(e,t,r,n,s,i,a,l)=>{if(r!=null)return r;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",u=c?wy(n,i,s):wy(i,s);return $xe(t,u,e.allowDataOverflow)},Nye=V([Dn,RV,IV,hye,mye,Sye,ot,Tr],BV,{memoizeOptions:{resultEqualityCheck:Jb}}),Eye=[0,1],VV=(e,t,r,n,s,i,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=vo(t,i);return u&&l==null?pB(0,r.length):c==="category"?vye(n,e,u):s==="expand"?Eye:a}},WP=V([Dn,ot,zP,tw,Hb,Tr,Nye],VV),WV=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:a}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Fm(i));return l in Lh?l:"point"}}},Ym=V([Dn,ot,_V,IP,Tr],WV);function kye(e){if(e!=null){if(e in Lh)return Lh[e]();var t="scale".concat(Fm(e));if(t in Lh)return Lh[t]()}}function qP(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=kye(t);if(s!=null){var i=s.domain(r).range(n);return ope(i),i}}}var qV=(e,t,r)=>{var n=BP(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fu(e))return Kxe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fu(e))return Gxe(e,t.tickCount,t.allowDecimals)}},HP=V([WP,Km,Ym],qV),HV=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fu(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],a=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(a,l)]}return t},Cye=V([Dn,WP,HP,Tr],HV),Pye=V(tw,Dn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Bf(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var a=n[i+1]-n[i];r=Math.min(r,a)}return r/s}}),KV=V(Pye,ot,dV,Br,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!xr(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var a=Ri(r,e*i),l=e*i/2;return l-a-(l-a)/i*a}return 0}),Aye=(e,t)=>{var r=wo(e,t);return r==null||typeof r.padding!="string"?0:KV(e,"xAxis",t,r.padding)},Oye=(e,t)=>{var r=_o(e,t);return r==null||typeof r.padding!="string"?0:KV(e,"yAxis",t,r.padding)},Tye=V(wo,Aye,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),Rye=V(_o,Oye,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),Iye=V([Br,Tye,Tb,Ob,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Dye=V([Br,ot,Rye,Tb,Ob,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:a}=s;return i?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Xm=(e,t,r,n)=>{var s;switch(t){case"xAxis":return Iye(e,r,n);case"yAxis":return Dye(e,r,n);case"zAxis":return(s=UP(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return mV(e);case"radiusAxis":return gV(e,r);default:return}},GV=V([Dn,Xm],Kb),Wf=V([Dn,Ym,Cye,GV],qP);V([Gm,VP,Tr],pye);function YV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var rw=(e,t)=>t,nw=(e,t,r)=>r,Mye=V(Pb,rw,nw,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(YV)),$ye=V(Ab,rw,nw,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(YV)),XV=(e,t)=>({width:e.width,height:t.height}),Lye=(e,t)=>{var r=typeof t.width=="number"?t.width:Bm;return{width:r,height:e.height}},QV=V(Br,wo,XV),Fye=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Uye=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zye=V(yo,Br,Mye,rw,nw,(e,t,r,n,s)=>{var i={},a;return r.forEach(l=>{var c=XV(t,l);a==null&&(a=Fye(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),i}),Bye=V(xo,Br,$ye,rw,nw,(e,t,r,n,s)=>{var i={},a;return r.forEach(l=>{var c=Lye(t,l);a==null&&(a=Uye(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),i}),Vye=(e,t)=>{var r=wo(e,t);if(r!=null)return zye(e,r.orientation,r.mirror)},Wye=V([Br,wo,Vye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),qye=(e,t)=>{var r=_o(e,t);if(r!=null)return Bye(e,r.orientation,r.mirror)},Hye=V([Br,_o,qye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),JV=V(Br,_o,(e,t)=>{var r=typeof t.width=="number"?t.width:Bm;return{width:r,height:e.height}}),v4=(e,t,r)=>{switch(t){case"xAxis":return QV(e,r).width;case"yAxis":return JV(e,r).height;default:return}},ZV=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:a}=r,l=vo(e,n),c=t.map(u=>u.value);if(a&&l&&i==="category"&&s&&zz(c))return c}},KP=V([ot,tw,Dn,Tr],ZV),eW=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,a=vo(e,n);if(a&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},GP=V([ot,tw,Km,Tr],eW),x4=V([ot,aye,Ym,Wf,KP,GP,Xm,HP,Tr],(e,t,r,n,s,i,a,l,c)=>{if(t==null)return null;var u=vo(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),Kye=(e,t,r,n,s,i,a,l,c)=>{if(!(t==null||n==null)){var u=vo(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=c==="angleAxis"&&i!=null&&i.length>=2?qn(i[0]-i[1])*2*v:v;var g=f||s;if(g){var x=g.map((y,w)=>{var b=a?a.indexOf(y):y;return{index:w,coordinate:n(b)+v,value:y,offset:v}});return x.filter(y=>!Ss(y.coordinate))}return u&&l?l.map((y,w)=>({coordinate:n(y)+v,value:y,index:w,offset:v})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,w)=>({coordinate:n(y)+v,value:a?a[y]:y,index:w,offset:v}))}},tW=V([ot,Km,Ym,Wf,HP,Xm,KP,GP,Tr],Kye),Gye=(e,t,r,n,s,i,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=vo(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?qn(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:s?s[d]:d,index:f,offset:u}))}},Dl=V([ot,Km,Wf,Xm,KP,GP,Tr],Gye),Ml=V(Dn,Wf,(e,t)=>{if(!(e==null||t==null))return by(by({},e),{},{scale:t})}),Yye=V([Dn,Ym,WP,GV],qP);V((e,t,r)=>UP(e,r),Yye,(e,t)=>{if(!(e==null||t==null))return by(by({},e),{},{scale:t})});var Xye=V([ot,Pb,Ab],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rW=e=>e.options.defaultTooltipEventType,nW=e=>e.options.validateTooltipEventTypes;function sW(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function YP(e,t){var r=rW(e),n=nW(e);return sW(t,r,n)}function Qye(e){return Ae(t=>YP(t,e))}var iW=(e,t)=>{var r,n=Number(t);if(!(Ss(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Jye=e=>e.tooltip.settings,Wo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Zye={itemInteraction:{click:Wo,hover:Wo},axisInteraction:{click:Wo,hover:Wo},keyboardInteraction:Wo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},aW=As({name:"tooltip",initialState:Zye,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:jn()},removeTooltipEntrySettings:{reducer(e,t){var r=qa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:jn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:e0e,removeTooltipEntrySettings:t0e,setTooltipSettingsState:r0e,setActiveMouseOverItemIndex:oW,mouseLeaveItem:n0e,mouseLeaveChart:lW,setActiveClickItemIndex:s0e,setMouseOverAxisIndex:cW,setMouseClickAxisIndex:i0e,setSyncInteraction:SN,setKeyboardInteraction:NN}=aW.actions,a0e=aW.reducer;function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){o0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o0e(e,t,r){return(t=l0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=c0e(e,"string");return typeof t=="symbol"?t:t+""}function c0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function d0e(e){return e.index!=null}var uW=(e,t,r,n)=>{if(t==null)return Wo;var s=u0e(e,t,r);if(s==null)return Wo;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(d0e(s)){if(i)return tv(tv({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return tv(tv({},Wo),{},{coordinate:s.coordinate})},XP=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!xr(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},dW=(e,t,r,n,s,i,a,l)=>{if(!(i==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},fW=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var a;return((a=i.settings)===null||a===void 0?void 0:a.dataKey)===s})},Qm=e=>e.options.tooltipPayloadSearcher,qf=e=>e.tooltip;function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){f0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f0e(e,t,r){return(t=h0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h0e(e){var t=p0e(e,"string");return typeof t=="symbol"?t:t+""}function p0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m0e(e,t){return e??t}var hW=(e,t,r,n,s,i,a)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:g,settings:x}=m,y=m0e(g,l),w=Array.isArray(y)?z8(y,u,d):y,b=(v=x==null?void 0:x.dataKey)!==null&&v!==void 0?v:n,_=x==null?void 0:x.nameKey,j;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?j=Bz(w,n,s):j=i(w,t,c,_),Array.isArray(j))j.forEach(N=>{var E=w4(w4({},x),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(aI({tooltipEntrySettings:E,dataKey:N.dataKey,payload:N.payload,value:zr(N.payload,N.dataKey),name:N.name}))});else{var S;h.push(aI({tooltipEntrySettings:x,dataKey:b,payload:j,value:zr(j,b),name:(S=zr(j,_))!==null&&S!==void 0?S:x==null?void 0:x.name}))}return h},f)}},QP=V([Ir,ot,_V,IP,Rr],WV),g0e=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),v0e=V([Rr,zf],jV),Jm=V([g0e,Ir,v0e],SV,{memoizeOptions:{resultEqualityCheck:Zb}}),x0e=V([Jm],e=>e.filter(Qb)),y0e=V([Jm],kV,{memoizeOptions:{resultEqualityCheck:Zb}}),Hf=V([y0e,Yl],CV),b0e=V([x0e,Yl,Ir],yV),JP=V([Hf,Ir,Jm],PV),pW=V([Ir],BP),w0e=V([Ir],e=>e.allowDataOverflow),mW=V([pW,w0e],YB),_0e=V([Jm],e=>e.filter(Qb)),j0e=V([b0e,_0e,Hb],OV),S0e=V([j0e,Yl,Rr,mW],TV),N0e=V([Jm],EV),E0e=V([Hf,Ir,N0e,VP,Rr],DV,{memoizeOptions:{resultEqualityCheck:Jb}}),k0e=V([MV,Rr,zf],Vf),C0e=V([k0e,Rr],FV),P0e=V([$V,Rr,zf],Vf),A0e=V([P0e,Rr],UV),O0e=V([LV,Rr,zf],Vf),T0e=V([O0e,Rr],zV),R0e=V([C0e,T0e,A0e],wy),I0e=V([Ir,pW,mW,S0e,E0e,R0e,ot,Rr],BV),gW=V([Ir,ot,Hf,JP,Hb,Rr,I0e],VV),D0e=V([gW,Ir,QP],qV),M0e=V([Ir,gW,D0e,Rr],HV),vW=e=>{var t=Rr(e),r=zf(e),n=!1;return Xm(e,t,r,n)},xW=V([Ir,vW],Kb),yW=V([Ir,QP,M0e,xW],qP),$0e=V([ot,JP,Ir,Rr],ZV),L0e=V([ot,JP,Ir,Rr],eW),F0e=(e,t,r,n,s,i,a,l)=>{if(t){var{type:c}=t,u=vo(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?qn(s[0]-s[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},jo=V([ot,Ir,QP,yW,vW,$0e,L0e,Rr],F0e),ZP=V([rW,nW,Jye],(e,t,r)=>sW(r.shared,e,t)),bW=e=>e.tooltip.settings.trigger,e2=e=>e.tooltip.settings.defaultIndex,sw=V([qf,ZP,bW,e2],uW),pu=V([sw,Hf],XP),wW=V([jo,pu],iW),_W=V([sw],e=>{if(e)return e.dataKey}),jW=V([qf,ZP,bW,e2],fW),U0e=V([xo,yo,ot,Br,jo,e2,jW,Qm],dW),z0e=V([sw,U0e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),B0e=V([sw],e=>e.active),V0e=V([jW,pu,Yl,xV,wW,Qm,ZP],hW),W0e=V([V0e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function j4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){q0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0e(e,t,r){return(t=H0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H0e(e){var t=K0e(e,"string");return typeof t=="symbol"?t:t+""}function K0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0e=()=>Ae(Ir),Y0e=()=>{var e=G0e(),t=Ae(jo),r=Ae(yW);return Zp(j4(j4({},e),{},{scale:r}),t)},SW=()=>Ae(IP),t2=(e,t)=>t,NW=(e,t,r)=>r,r2=(e,t,r,n)=>n,X0e=V(jo,e=>_b(e,t=>t.coordinate)),n2=V([qf,t2,NW,r2],uW),EW=V([n2,Hf],XP),Q0e=(e,t,r)=>{if(t!=null){var n=qf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},kW=V([qf,t2,NW,r2],fW),_y=V([xo,yo,ot,Br,jo,r2,kW,Qm],dW),J0e=V([n2,_y],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),CW=V(jo,EW,iW),Z0e=V([kW,EW,Yl,xV,CW,Qm,t2],hW),ebe=V([n2],e=>({isActive:e.active,activeIndex:e.index})),tbe=(e,t,r,n,s,i,a,l)=>{if(!(!e||!t||!n||!s||!i)){var c=vpe(e.chartX,e.chartY,t,r,l);if(c){var u=ype(c,t),d=ipe(u,a,i,n,s),f=xpe(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(null,arguments)}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){rbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rbe(e,t,r){return(t=nbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nbe(e){var t=sbe(e,"string");return typeof t=="symbol"?t:t+""}function sbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ibe(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,v;if(u==="ScatterChart")m=d,v=_me;else if(u==="BarChart")m=jme(a,d,s,i),v=oB;else if(a==="radial"){var{cx:g,cy:x,radius:y,startAngle:w,endAngle:b}=lB(d);m={cx:g,cy:x,startAngle:w,endAngle:b,innerRadius:y,outerRadius:y},v=uB}else m={points:age(a,d,s)},v=Bv;var _=typeof l=="object"&&"className"in l?l.className:void 0,j=rv(rv(rv(rv({stroke:"#ccc",pointerEvents:"none"},s),m),Lm(l)),{},{payload:f,payloadIndex:h,className:lt("recharts-tooltip-cursor",_)});return p.isValidElement(l)?p.cloneElement(l,j):p.createElement(v,j)}function abe(e){var t=Y0e(),r=J8(),n=Ib(),s=SW();return p.createElement(ibe,EN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var PW=p.createContext(null),obe=()=>p.useContext(PW),AW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,w,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];x.fn.apply(x.context,w)}else{var _=x.length,j;for(b=0;b<_;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(y-1);j<y;j++)w[j-1]=arguments[j];x[b].fn.apply(x[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,m);else{for(var g=0,x=[],y=v.length;g<y;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[m]=x.length===1?x[0]:x:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(AW);var lbe=AW.exports;const cbe=ti(lbe);var om=new cbe,kN="recharts.syncEvent.tooltip",N4="recharts.syncEvent.brush";function OW(e,t){if(t){var r=Number.parseInt(t,10);if(!Ss(r))return e==null?void 0:e[r]}}var ube={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},TW=As({name:"options",initialState:ube,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dbe=TW.reducer,{createEventEmitter:fbe}=TW.actions;function hbe(e){return e.tooltip.syncInteraction}var pbe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},RW=As({name:"chartData",initialState:pbe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:E4,setDataStartEndIndexes:mbe,setComputedData:gTe}=RW.actions,gbe=RW.reducer,vbe=["x","y"];function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){xbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xbe(e,t,r){return(t=ybe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ybe(e){var t=bbe(e,"string");return typeof t=="symbol"?t:t+""}function bbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wbe(e,t){if(e==null)return{};var r,n,s=_be(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IW=()=>{};function jbe(){var e=Ae(DP),t=Ae(MP),r=Ar(),n=Ae(fV),s=Ae(jo),i=Ib(),a=Rb(),l=Ae(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return IW;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(a&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y:g}=m,x=wbe(m,vbe),{x:y,y:w,width:b,height:_}=d.payload.sourceViewBox,j=Vu(Vu({},x),{},{x:a.x+(b?(v-y)/b:0)*a.width,y:a.y+(_?(g-w)/_:0)*a.height});r(Vu(Vu({},d),{},{payload:Vu(Vu({},d.payload),{},{coordinate:j})}))}else r(d);return}if(s!=null){var S;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(s,N);S=s[E]}else n==="value"&&(S=s.find(z=>String(z.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||a==null){r(SN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:C}=A,k=Math.min(P,a.x+a.width),D=Math.min(C,a.y+a.height),T={x:i==="horizontal"?S.coordinate:k,y:i==="horizontal"?D:S.coordinate},L=SN({active:d.payload.active,coordinate:T,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(L)}}};return om.on(kN,c),()=>{om.off(kN,c)}},[l,r,t,e,n,s,i,a])}function Sbe(){var e=Ae(DP),t=Ae(MP),r=Ar();p.useEffect(()=>{if(e==null)return IW;var n=(s,i,a)=>{t!==a&&e===s&&r(mbe(i))};return om.on(N4,n),()=>{om.off(N4,n)}},[r,t,e])}function Nbe(){var e=Ar();p.useEffect(()=>{e(fbe())},[e]),jbe(),Sbe()}function Ebe(e,t,r,n,s,i){var a=Ae(m=>Q0e(m,e,t)),l=Ae(MP),c=Ae(DP),u=Ae(fV),d=Ae(hbe),f=d==null?void 0:d.active,h=Rb();p.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=SN({active:i,coordinate:r,dataKey:a,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:h});om.emit(kN,c,m,l)}},[f,r,a,s,n,l,c,u,i,h])}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function P4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){kbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kbe(e,t,r){return(t=Cbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cbe(e){var t=Pbe(e,"string");return typeof t=="symbol"?t:t+""}function Pbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Abe(e){return e.dataKey}function Obe(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(eme,t)}var A4=[],Tbe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Eu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function s2(e){var t=ns(e,Tbe),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:v,cursor:g,shared:x,trigger:y,defaultIndex:w,portal:b,axisId:_}=t,j=Ar(),S=typeof w=="number"?String(w):w;p.useEffect(()=>{j(r0e({shared:x,trigger:y,axisId:_,active:r,defaultIndex:S}))},[j,x,y,_,r,S]);var N=Rb(),E=rB(),A=Qye(x),{activeIndex:P,isActive:C}=Ae(Fe=>ebe(Fe,A,y,S)),k=Ae(Fe=>Z0e(Fe,A,y,S)),D=Ae(Fe=>CW(Fe,A,y,S)),T=Ae(Fe=>J0e(Fe,A,y,S)),L=k,z=obe(),X=r??C,[I,M]=Yfe([L,X]),Q=A==="axis"?D:void 0;Ebe(A,y,T,Q,P,X);var J=b??z;if(J==null)return null;var ee=L??A4;X||(ee=A4),l&&ee.length&&(ee=Tfe(L.filter(Fe=>Fe.value!=null&&(Fe.hide!==!0||t.includeHidden)),d,Abe));var Ee=ee.length>0,je=p.createElement(ome,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:X,coordinate:T,hasPayload:Ee,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:N,wrapperStyle:v,lastBoundingBox:I,innerRef:M,hasPortalFromProps:!!b},Obe(a,P4(P4({},t),{},{payload:ee,label:Q,active:X,coordinate:T,accessibilityLayer:E})));return p.createElement(p.Fragment,null,zl.createPortal(je,J),X&&p.createElement(abe,{cursor:g,tooltipEventType:A,coordinate:T,payload:L,index:P}))}var iw=e=>null;iw.displayName="Cell";function Rbe(e,t,r){return(t=Ibe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ibe(e){var t=Dbe(e,"string");return typeof t=="symbol"?t:t+""}function Dbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mbe{constructor(t){Rbe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){Lbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lbe(e,t,r){return(t=Fbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fbe(e){var t=Ube(e,"string");return typeof t=="symbol"?t:t+""}function Ube(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zbe={cacheSize:2e3,enableCache:!0},DW=$be({},zbe),T4=new Mbe(DW.cacheSize),Bbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R4="recharts_measurement_span";function Vbe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(a,"|").concat(l)}var I4=(e,t)=>{try{var r=document.getElementById(R4);r||(r=document.createElement("span"),r.setAttribute("id",R4),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Bbe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},up=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Eu.isSsr)return{width:0,height:0};if(!DW.enableCache)return I4(t,r);var n=Vbe(t,r),s=T4.get(n);if(s)return s;var i=I4(t,r);return T4.set(n,i),i},D4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hbe=Object.keys(MW),ud="NaN";function Kbe(e,t){return e*MW[t]}class Fn{static parse(t){var r,[,n,s]=(r=qbe.exec(t))!==null&&r!==void 0?r:[];return new Fn(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ss(t)&&(this.unit=""),r!==""&&!Wbe.test(r)&&(this.num=NaN,this.unit=""),Hbe.includes(r)&&(this.num=Kbe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ss(this.num)}}function $W(e){if(e.includes(ud))return ud;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=D4.exec(t))!==null&&r!==void 0?r:[],a=Fn.parse(n??""),l=Fn.parse(i??""),c=s==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return ud;t=t.replace(D4,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=M4.exec(t))!==null&&u!==void 0?u:[],m=Fn.parse(d??""),v=Fn.parse(h??""),g=f==="+"?m.add(v):m.subtract(v);if(g.isNaN())return ud;t=t.replace(M4,g.toString())}return t}var $4=/\(([^()]*)\)/;function Gbe(e){for(var t=e,r;(r=$4.exec(t))!=null;){var[,n]=r;t=t.replace($4,$W(n))}return t}function Ybe(e){var t=e.replace(/\s+/g,"");return t=Gbe(t),t=$W(t),t}function Xbe(e){try{return Ybe(e)}catch{return ud}}function v1(e){var t=Xbe(e.slice(5,-1));return t===ud?"":t}var Qbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Jbe=["dx","dy","angle","className","breakAll"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(null,arguments)}function L4(e,t){if(e==null)return{};var r,n,s=Zbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LW=/[ \f\n\r\t\v\u2028\u2029]+/,FW=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Kt(t)||(r?s=t.toString().split(""):s=t.toString().split(LW));var i=s.map(l=>({word:l,width:up(l,n).width})),a=r?0:up("",n).width;return{wordsWithComputedWidth:i,spaceWidth:a}}catch{return null}},ewe=(e,t,r,n,s)=>{var{maxLines:i,children:a,style:l,breakAll:c}=e,u=_e(i),d=a,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((k,D)=>{var{word:T,width:L}=D,z=k[k.length-1];if(z&&(n==null||s||z.width+L+r<Number(n)))z.words.push(T),z.width+=L+r;else{var X={words:[T],width:L};k.push(X)}return k},[])},h=f(t),m=P=>P.reduce((C,k)=>C.width>k.width?C:k);if(!u||s)return h;var v=h.length>i||m(h).width>Number(n);if(!v)return h;for(var g="",x=P=>{var C=d.slice(0,P),k=FW({breakAll:c,style:l,children:C+g}).wordsWithComputedWidth,D=f(k),T=D.length>i||m(D).width>Number(n);return[T,D]},y=0,w=d.length-1,b=0,_;y<=w&&b<=d.length-1;){var j=Math.floor((y+w)/2),S=j-1,[N,E]=x(S),[A]=x(j);if(!N&&!A&&(y=j+1),N&&A&&(w=j-1),!N&&A){_=E;break}b++}return _||h},F4=e=>{var t=Kt(e)?[]:e.toString().split(LW);return[{words:t}]},twe=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:a}=e;if((t||r)&&!Eu.isSsr){var l,c,u=FW({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return F4(n);return ewe({breakAll:i,children:n,maxLines:a,style:s},l,c,t,r)}return F4(n)},U4="#808080",i2=p.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=U4}=e,d=L4(e,Qbe),f=p.useMemo(()=>twe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:v,className:g,breakAll:x}=d,y=L4(d,Jbe);if(!oa(r)||!oa(n)||f.length===0)return null;var w=r+(_e(h)?h:0),b=n+(_e(m)?m:0),_;switch(c){case"start":_=v1("calc(".concat(i,")"));break;case"middle":_=v1("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:_=v1("calc(".concat(f.length-1," * -").concat(s,")"));break}var j=[];if(a){var S=f[0].width,{width:N}=d;j.push("scale(".concat(_e(N)?N/S:1,")"))}return v&&j.push("rotate(".concat(v,", ").concat(w,", ").concat(b,")")),j.length&&(y.transform=j.join(" ")),p.createElement("text",CN({},ts(y),{ref:t,x:w,y:b,className:lt("recharts-text",g),textAnchor:l,fill:u.includes("url")?U4:u}),f.map((E,A)=>{var P=E.words.join(x?"":" ");return p.createElement("tspan",{x:w,dy:A===0?_:s,key:"".concat(P,"-").concat(A)},P)}))});i2.displayName="Text";var rwe=["labelRef"];function nwe(e,t){if(e==null)return{};var r,n,s=swe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function swe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(r),!0).forEach(function(n){iwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iwe(e,t,r){return(t=awe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function awe(e){var t=owe(e,"string");return typeof t=="symbol"?t:t+""}function owe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Da.apply(null,arguments)}var UW=p.createContext(null),lwe=e=>{var{x:t,y:r,width:n,height:s,children:i}=e,a=p.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return p.createElement(UW.Provider,{value:a},i)},zW=()=>{var e=p.useContext(UW),t=Rb();return e||t},cwe=p.createContext(null),uwe=()=>{var e=p.useContext(cwe),t=Ae(vV);return e||t},dwe=e=>{var{value:t,formatter:r}=e,n=Kt(e.children)?t:e.children;return typeof r=="function"?r(n):n},a2=e=>e!=null&&typeof e=="function",fwe=(e,t)=>{var r=qn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hwe=(e,t,r,n,s)=>{var{offset:i,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=s,v=(u+d)/2,g=fwe(f,h),x=g>=0?1:-1,y,w;switch(t){case"insideStart":y=f+x*i,w=m;break;case"insideEnd":y=h-x*i,w=!m;break;case"end":y=h+x*i,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var b=Xr(l,c,v,y),_=Xr(l,c,v,y+(w?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Kt(e.id)?Yp("recharts-radial-line-"):e.id;return p.createElement("text",Da({},n,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",a)}),p.createElement("defs",null,p.createElement("path",{id:S,d:j})),p.createElement("textPath",{xlinkHref:"#".concat(S)},r))},pwe=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Xr(n,s,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(i+a)/2,{x:m,y:v}=Xr(n,s,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},BW=e=>"cx"in e&&_e(e.cx),mwe=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!BW(r)&&(i=r);var{x:a,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,g=v*n,x=v>0?"end":"start",y=v>0?"start":"end";if(s==="top"){var w={x:a+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return tr(tr({},w),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var b={x:a+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return tr(tr({},b),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(s==="left"){var _={x:a-g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return tr(tr({},_),i?{width:Math.max(_.x-i.x,0),height:u}:{})}if(s==="right"){var j={x:a+c+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return tr(tr({},j),i?{width:Math.max(i.x+i.width-j.x,0),height:u}:{})}var S=i?{width:c,height:u}:{};return s==="insideLeft"?tr({x:a+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?tr({x:a+c-g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideTop"?tr({x:a+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},S):s==="insideBottom"?tr({x:a+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},S):s==="insideTopLeft"?tr({x:a+g,y:l+f,textAnchor:y,verticalAnchor:m},S):s==="insideTopRight"?tr({x:a+c-g,y:l+f,textAnchor:x,verticalAnchor:m},S):s==="insideBottomLeft"?tr({x:a+g,y:l+u-f,textAnchor:y,verticalAnchor:h},S):s==="insideBottomRight"?tr({x:a+c-g,y:l+u-f,textAnchor:x,verticalAnchor:h},S):s&&typeof s=="object"&&(_e(s.x)||io(s.x))&&(_e(s.y)||io(s.y))?tr({x:a+Ri(s.x,c),y:l+Ri(s.y,u),textAnchor:"end",verticalAnchor:"end"},S):tr({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},gwe={offset:5};function Fo(e){var t=ns(e,gwe),{viewBox:r,position:n,value:s,children:i,content:a,className:l="",textBreakAll:c,labelRef:u}=t,d=uwe(),f=zW(),h=n==="center"?f:d??f,m=r||h;if(!m||Kt(s)&&Kt(i)&&!p.isValidElement(a)&&typeof a!="function")return null;var v=tr(tr({},t),{},{viewBox:m});if(p.isValidElement(a)){var{labelRef:g}=v,x=nwe(v,rwe);return p.cloneElement(a,x)}var y;if(typeof a=="function"){if(y=p.createElement(a,v),p.isValidElement(y))return y}else y=dwe(t);var w=BW(m),b=ts(t);if(w&&(n==="insideStart"||n==="insideEnd"||n==="end"))return hwe(t,n,y,b,m);var _=w?pwe(m,t.offset,t.position):mwe(t,m);return p.createElement(i2,Da({ref:u,className:lt("recharts-label",l)},b,_,{breakAll:c}),y)}Fo.displayName="Label";var vwe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(Fo,Da({key:"label-implicit"},n)):oa(e)?p.createElement(Fo,Da({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===Fo?p.cloneElement(e,tr({key:"label-implicit"},n)):p.createElement(Fo,Da({key:"label-implicit",content:e},n)):a2(e)?p.createElement(Fo,Da({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(Fo,Da({},e,{key:"label-implicit"},n)):null};function xwe(e){var{label:t,labelRef:r}=e,n=zW();return vwe(t,n,r)||null}var VW={},WW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(WW);var qW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(qW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WW,r=qW,n=wb;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(VW);var ywe=VW.last;const bwe=ti(ywe);var wwe=["valueAccessor"],_we=["dataKey","clockWise","id","textBreakAll"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function B4(e,t){if(e==null)return{};var r,n,s=jwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Swe=e=>Array.isArray(e.value)?bwe(e.value):e.value,HW=p.createContext(void 0),KW=HW.Provider,GW=p.createContext(void 0);GW.Provider;function Nwe(){return p.useContext(HW)}function Ewe(){return p.useContext(GW)}function dp(e){var{valueAccessor:t=Swe}=e,r=B4(e,wwe),{dataKey:n,clockWise:s,id:i,textBreakAll:a}=r,l=B4(r,_we),c=Nwe(),u=Ewe(),d=c||u;return!d||!d.length?null:p.createElement(rs,{className:"recharts-label-list"},d.map((f,h)=>{var m,v=Kt(n)?t(f,h):zr(f&&f.payload,n),g=Kt(i)?{}:{id:"".concat(i,"-").concat(h)};return p.createElement(Fo,jy({key:"label-".concat(h)},ts(f),l,g,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:a,viewBox:f.viewBox,index:h}))}))}dp.displayName="LabelList";function YW(e){var{label:t}=e;return t?t===!0?p.createElement(dp,{key:"labelList-implicit"}):p.isValidElement(t)||a2(t)?p.createElement(dp,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(dp,jy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(null,arguments)}var XW=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=lt("recharts-dot",s);return t===+t&&r===+r&&n===+n?p.createElement("circle",PN({},Js(e),zC(e),{className:i,cx:t,cy:r,r:n})):null},kwe={radiusAxis:{},angleAxis:{}},QW=As({name:"polarAxis",initialState:kwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:vTe,removeRadiusAxis:xTe,addAngleAxis:yTe,removeAngleAxis:bTe}=QW.actions,Cwe=QW.reducer,JW={exports:{}},gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=typeof Symbol=="function"&&Symbol.for,o2=Wr?Symbol.for("react.element"):60103,l2=Wr?Symbol.for("react.portal"):60106,aw=Wr?Symbol.for("react.fragment"):60107,ow=Wr?Symbol.for("react.strict_mode"):60108,lw=Wr?Symbol.for("react.profiler"):60114,cw=Wr?Symbol.for("react.provider"):60109,uw=Wr?Symbol.for("react.context"):60110,c2=Wr?Symbol.for("react.async_mode"):60111,dw=Wr?Symbol.for("react.concurrent_mode"):60111,fw=Wr?Symbol.for("react.forward_ref"):60112,hw=Wr?Symbol.for("react.suspense"):60113,Pwe=Wr?Symbol.for("react.suspense_list"):60120,pw=Wr?Symbol.for("react.memo"):60115,mw=Wr?Symbol.for("react.lazy"):60116,Awe=Wr?Symbol.for("react.block"):60121,Owe=Wr?Symbol.for("react.fundamental"):60117,Twe=Wr?Symbol.for("react.responder"):60118,Rwe=Wr?Symbol.for("react.scope"):60119;function Os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case o2:switch(e=e.type,e){case c2:case dw:case aw:case lw:case ow:case hw:return e;default:switch(e=e&&e.$$typeof,e){case uw:case fw:case mw:case pw:case cw:return e;default:return t}}case l2:return t}}}function ZW(e){return Os(e)===dw}gt.AsyncMode=c2;gt.ConcurrentMode=dw;gt.ContextConsumer=uw;gt.ContextProvider=cw;gt.Element=o2;gt.ForwardRef=fw;gt.Fragment=aw;gt.Lazy=mw;gt.Memo=pw;gt.Portal=l2;gt.Profiler=lw;gt.StrictMode=ow;gt.Suspense=hw;gt.isAsyncMode=function(e){return ZW(e)||Os(e)===c2};gt.isConcurrentMode=ZW;gt.isContextConsumer=function(e){return Os(e)===uw};gt.isContextProvider=function(e){return Os(e)===cw};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===o2};gt.isForwardRef=function(e){return Os(e)===fw};gt.isFragment=function(e){return Os(e)===aw};gt.isLazy=function(e){return Os(e)===mw};gt.isMemo=function(e){return Os(e)===pw};gt.isPortal=function(e){return Os(e)===l2};gt.isProfiler=function(e){return Os(e)===lw};gt.isStrictMode=function(e){return Os(e)===ow};gt.isSuspense=function(e){return Os(e)===hw};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===aw||e===dw||e===lw||e===ow||e===hw||e===Pwe||typeof e=="object"&&e!==null&&(e.$$typeof===mw||e.$$typeof===pw||e.$$typeof===cw||e.$$typeof===uw||e.$$typeof===fw||e.$$typeof===Owe||e.$$typeof===Twe||e.$$typeof===Rwe||e.$$typeof===Awe)};gt.typeOf=Os;JW.exports=gt;var Iwe=JW.exports,V4=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",W4=null,x1=null,e7=e=>{if(e===W4&&Array.isArray(x1))return x1;var t=[];return p.Children.forEach(e,r=>{Kt(r)||(Iwe.isFragment(r)?t=t.concat(e7(r.props.children)):t.push(r))}),x1=t,W4=e,t};function Dwe(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>V4(s)):n=[V4(t)],e7(e).forEach(s=>{var i=sf(s,"type.displayName")||sf(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var t7=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,r7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(r7);var Mwe=r7.isPlainObject;const $we=ti(Mwe);function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function H4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){Lwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lwe(e,t,r){return(t=Fwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fwe(e){var t=Uwe(e,"string");return typeof t=="symbol"?t:t+""}function Uwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}var K4=(e,t,r,n,s)=>{var i=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-i/2,",").concat(t+s),a+="L ".concat(e+r-i/2-n,",").concat(t+s),a+="L ".concat(e,",").concat(t," Z"),a},zwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bwe=e=>{var t=ns(e,zwe),{x:r,y:n,upperWidth:s,lowerWidth:i,height:a,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,v]=p.useState(-1),g=p.useRef(s),x=p.useRef(i),y=p.useRef(a),w=p.useRef(r),b=p.useRef(n),_=$b(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var T=h.current.getTotalLength();T&&v(T)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||a!==+a||s===0&&i===0||a===0)return null;var j=lt("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",Sy({},ts(t),{className:j,d:K4(r,n,s,i,a)})));var S=g.current,N=x.current,E=y.current,A=w.current,P=b.current,C="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),D=nB(["strokeDasharray"],u,c);return p.createElement(Mb,{animationId:_,key:_,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},T=>{var L=sr(S,s,T),z=sr(N,i,T),X=sr(E,a,T),I=sr(A,r,T),M=sr(P,n,T);h.current&&(g.current=L,x.current=z,y.current=X,w.current=I,b.current=M);var Q=T>0?{transition:D,strokeDasharray:k}:{strokeDasharray:C};return p.createElement("path",Sy({},ts(t),{className:j,d:K4(I,M,L,z,X),ref:h,style:H4(H4({},Q),t.style)}))})},Vwe=["option","shapeType","propTransformer","activeClassName","isActive"];function Wwe(e,t){if(e==null)return{};var r,n,s=qwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(n){Hwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hwe(e,t,r){return(t=Kwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kwe(e){var t=Gwe(e,"string");return typeof t=="symbol"?t:t+""}function Gwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ywe(e,t){return Ny(Ny({},t),e)}function Xwe(e,t){return e==="symbols"}function Y4(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(oB,r);case"trapezoid":return p.createElement(Bwe,r);case"sector":return p.createElement(uB,r);case"symbols":if(Xwe(t))return p.createElement(Wz,r);break;default:return null}}function Qwe(e){return p.isValidElement(e)?e.props:e}function Jwe(e){var{option:t,shapeType:r,propTransformer:n=Ywe,activeClassName:s="recharts-active-shape",isActive:i}=e,a=Wwe(e,Vwe),l;if(p.isValidElement(t))l=p.cloneElement(t,Ny(Ny({},a),Qwe(t)));else if(typeof t=="function")l=t(a);else if($we(t)&&typeof t!="boolean"){var c=n(t,a);l=p.createElement(Y4,{shapeType:r,elementProps:c})}else{var u=a;l=p.createElement(Y4,{shapeType:r,elementProps:u})}return i?p.createElement(rs,{className:s},l):l}var n7=(e,t)=>{var r=Ar();return(n,s)=>i=>{e==null||e(n,s,i),r(oW({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},s7=e=>{var t=Ar();return(r,n)=>s=>{e==null||e(r,n,s),t(n0e())}},i7=(e,t)=>{var r=Ar();return(n,s)=>i=>{e==null||e(n,s,i),r(s0e({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function a7(e){var{fn:t,args:r}=e,n=Ar(),s=In();return p.useLayoutEffect(()=>{if(!s){var i=t(r);return n(e0e(i)),()=>{n(t0e(i))}}},[t,r,n,s]),null}var Zwe=()=>{};function o7(e){var{legendPayload:t}=e,r=Ar(),n=In();return p.useLayoutEffect(()=>n?Zwe:(r(Kpe(t)),()=>{r(Gpe(t))}),[r,n,t]),null}var y1,e_e=()=>{var[e]=p.useState(()=>Yp("uid-"));return e},t_e=(y1=bm.useId)!==null&&y1!==void 0?y1:e_e;function r_e(e,t){var r=t_e();return t||(e?"".concat(e,"-").concat(r):r)}var n_e=p.createContext(void 0),l7=e=>{var{id:t,type:r,children:n}=e,s=r_e("recharts-".concat(r),t);return p.createElement(n_e.Provider,{value:s},n(s))},s_e={cartesianItems:[],polarItems:[]},c7=As({name:"graphicalItems",initialState:s_e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:jn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=qa(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:jn()},removeCartesianGraphicalItem:{reducer(e,t){var r=qa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:jn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:jn()},removePolarGraphicalItem:{reducer(e,t){var r=qa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:jn()}}}),{addCartesianGraphicalItem:i_e,replaceCartesianGraphicalItem:a_e,removeCartesianGraphicalItem:o_e,addPolarGraphicalItem:wTe,removePolarGraphicalItem:_Te}=c7.actions,l_e=c7.reducer;function u7(e){var t=Ar(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(i_e(e)):r.current!==e&&t(a_e({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(o_e(r.current)),r.current=null)},[t]),null}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){c_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c_e(e,t,r){return(t=u_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u_e(e){var t=d_e(e,"string");return typeof t=="symbol"?t:t+""}function d_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_e={xAxis:{},yAxis:{},zAxis:{}},d7=As({name:"cartesianAxis",initialState:f_e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:jn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:jn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:jn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:jn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:jn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:jn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var i=s.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==s.width&&Math.abs(n-i[0])<=1)return;var a=[...i,n].slice(-3);e.yAxis[r]=Q4(Q4({},e.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:h_e,removeXAxis:p_e,addYAxis:m_e,removeYAxis:g_e,addZAxis:jTe,removeZAxis:STe,updateYAxisWidth:v_e}=d7.actions,x_e=d7.reducer,y_e=V([Br],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),b_e=V([y_e,xo,yo],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),u2=()=>Ae(b_e),w_e=()=>Ae(W0e);function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){__e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function __e(e,t,r){return(t=j_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j_e(e){var t=S_e(e,"string");return typeof t=="symbol"?t:t+""}function S_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var a=Z4(Z4({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Lm(s)),zC(s)),l;return p.isValidElement(s)?l=p.cloneElement(s,a):typeof s=="function"?l=s(a):l=p.createElement(XW,a),p.createElement(rs,{className:"recharts-active-dot"},l)};function eD(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=Ae(pu),a=w_e();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return Kt(l)?null:N_e({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var E_e="Invariant failed";function k_e(e,t){throw new Error(E_e)}var C_e=["x","y"];function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(null,arguments)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){P_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P_e(e,t,r){return(t=A_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_e(e){var t=O_e(e,"string");return typeof t=="symbol"?t:t+""}function O_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T_e(e,t){if(e==null)return{};var r,n,s=R_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function R_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function I_e(e,t){var{x:r,y:n}=e,s=T_e(e,C_e),i="".concat(r),a=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return bh(bh(bh(bh(bh({},t),s),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function d2(e){return p.createElement(Jwe,AN({shapeType:"rectangle",propTransformer:I_e,activeClassName:"recharts-active-bar"},e))}var D_e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(_e(t))return t;var i=_e(n)||Kt(n);return i?t(n,s):(i||k_e(),r)}},M_e={},f7=As({name:"errorBars",initialState:M_e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:NTe,replaceErrorBar:ETe,removeErrorBar:kTe}=f7.actions,$_e=f7.reducer,L_e=["children"];function F_e(e,t){if(e==null)return{};var r,n,s=U_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function U_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var z_e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},B_e=p.createContext(z_e);function V_e(e){var{children:t}=e,r=F_e(e,L_e);return p.createElement(B_e.Provider,{value:r},t)}function f2(e,t){var r,n,s=Ae(u=>wo(u,e)),i=Ae(u=>_o(u,t)),a=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ss.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:is.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function h7(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=u2(),{needClipX:i,needClipY:a,needClip:l}=f2(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=s;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:a?u:u-f/2,width:i?d:d*2,height:a?f:f*2}))}var W_e=["onMouseEnter","onMouseLeave","onClick"],q_e=["value","background","tooltipPosition"],H_e=["id"],K_e=["onMouseEnter","onClick","onMouseLeave"];function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(null,arguments)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){G_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_e(e,t,r){return(t=Y_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y_e(e){var t=X_e(e,"string");return typeof t=="symbol"?t:t+""}function X_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ey(e,t){if(e==null)return{};var r,n,s=Q_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J_e=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Cb(r,t),payload:e}]};function Z_e(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Cb(i,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function e1e(e){var t=Ae(pu),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=i,u=Ey(i,W_e),d=n7(a,n),f=s7(l),h=i7(c,n);if(!s||r==null)return null;var m=Lm(s);return p.createElement(p.Fragment,null,r.map((v,g)=>{var{value:x,background:y,tooltipPosition:w}=v,b=Ey(v,q_e);if(!y)return null;var _=d(v,g),j=f(v,g),S=h(v,g),N=Sn(Sn(Sn(Sn(Sn({option:s,isActive:String(g)===t},b),{},{fill:"#eee"},y),m),BC(u,v,g)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return p.createElement(d2,$l({key:"background-bar-".concat(g)},N))}))}function t1e(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var a={x:i.x,y:i.y,width:i.width,height:i.height};return Sn(Sn({},a),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:a,fill:i.fill})});return p.createElement(KW,{value:t?s:void 0},r)}function r1e(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:a}=e,l=Ae(pu),c=Ae(_W),u=r&&String(i)===l&&(c==null||a===c),d=u?r:t;return p.createElement(d2,$l({},n,{name:String(n.name)},s,{isActive:u,option:d,index:i,dataKey:a}))}function n1e(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return p.createElement(d2,$l({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function s1e(e){var{data:t,props:r}=e,n=Js(r),{id:s}=n,i=Ey(n,H_e),{shape:a,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,h=Ey(r,K_e),m=n7(u,l),v=s7(f),g=i7(d,l);return t?p.createElement(p.Fragment,null,t.map((x,y)=>p.createElement(rs,$l({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(y),className:"recharts-bar-rectangle"},BC(h,x,y),{onMouseEnter:m(x,y),onMouseLeave:v(x,y),onClick:g(x,y)}),c?p.createElement(r1e,{shape:a,activeBar:c,baseProps:i,entry:x,index:y,dataKey:l}):p.createElement(n1e,{shape:a,baseProps:i,entry:x,index:y,dataKey:l})))):null}function i1e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=$b(t,"recharts-bar-"),[m,v]=p.useState(!1),g=!m,x=p.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),y=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(t1e,{showLabels:g,rects:n},p.createElement(Mb,{animationId:h,begin:a,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:y,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Sn(Sn({},_),{},{x:sr(S.x,_.x,w),y:sr(S.y,_.y,w),width:sr(S.width,_.width,w),height:sr(S.height,_.height,w)});if(s==="horizontal"){var N=sr(0,_.height,w);return Sn(Sn({},_),{},{y:_.y+_.height-N,height:N})}var E=sr(0,_.width,w);return Sn(Sn({},_),{},{width:E})});return w>0&&(r.current=b??null),b==null?null:p.createElement(rs,null,p.createElement(s1e,{props:t,data:b}))}),p.createElement(YW,{label:t.label}),t.children)}function a1e(e){var t=p.useRef(null);return p.createElement(i1e,{previousRectanglesRef:t,props:e})}var p7=0,o1e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:zr(e,t)}};class l1e extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=lt("recharts-bar",s),f=u;return p.createElement(rs,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(h7,{clipPathId:f,xAxisId:i,yAxisId:a})),p.createElement(rs,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(e1e,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(a1e,this.props)))}}var c1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Eu.isSsr,legendType:"rect",minPointSize:p7,xAxisId:0,yAxisId:0};function u1e(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=f2(t,r),h=Ib(),m=In(),v=Dwe(e.children,iw),g=Ae(w=>L1e(w,t,r,m,e.id,v));if(h!=="vertical"&&h!=="horizontal")return null;var x,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?x=0:x=h==="vertical"?y.height/2:y.width/2,p.createElement(V_e,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:o1e,errorBarOffset:x},p.createElement(l1e,$l({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function d1e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:v}=e,g=t==="horizontal"?l:a,x=d?g.scale.domain():null,y=hpe({numericAxis:g});return f.map((w,b)=>{var _,j,S,N,E,A;d?_=lpe(d[b],x):(_=zr(w,r),Array.isArray(_)||(_=[y,_]));var P=D_e(n,p7)(_[1],b);if(t==="horizontal"){var C,[k,D]=[l.scale(_[0]),l.scale(_[1])];j=nI({axis:a,ticks:c,bandSize:i,offset:s.offset,entry:w,index:b}),S=(C=D??k)!==null&&C!==void 0?C:void 0,N=s.size;var T=k-D;if(E=Ss(T)?0:T,A={x:j,y:h.top,width:N,height:h.height},Math.abs(P)>0&&Math.abs(E)<Math.abs(P)){var L=qn(E||P)*(Math.abs(P)-Math.abs(E));S-=L,E+=L}}else{var[z,X]=[a.scale(_[0]),a.scale(_[1])];if(j=z,S=nI({axis:l,ticks:u,bandSize:i,offset:s.offset,entry:w,index:b}),N=X-z,E=s.size,A={x:h.left,y:S,width:h.width,height:E},Math.abs(P)>0&&Math.abs(N)<Math.abs(P)){var I=qn(N||P)*(Math.abs(P)-Math.abs(N));N+=I}}if(j==null||S==null||N==null||E==null)return null;var M=Sn(Sn({},w),{},{x:j,y:S,width:N,height:E,value:d?_:_[1],payload:w,background:A,tooltipPosition:{x:j+N/2,y:S+E/2},parentViewBox:v},m&&m[b]&&m[b].props);return M}).filter(Boolean)}function f1e(e){var t=ns(e,c1e),r=In();return p.createElement(l7,{id:t.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(o7,{legendPayload:J_e(t)}),p.createElement(a7,{fn:Z_e,args:t}),p.createElement(u7,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:W8(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(u1e,$l({},t,{id:n}))))}var h2=p.memo(f1e);h2.displayName="Bar";function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){h1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h1e(e,t,r){return(t=p1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p1e(e){var t=m1e(e,"string");return typeof t=="symbol"?t:t+""}function m1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g1e=(e,t)=>t,v1e=(e,t,r)=>r,x1e=(e,t,r,n)=>n,y1e=(e,t,r,n,s)=>s,Zm=V([ew,y1e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),b1e=V([Zm],e=>e==null?void 0:e.maxBarSize),w1e=(e,t,r,n,s,i)=>i,sD=(e,t,r)=>{var n=r??e;if(!Kt(n))return Ri(n,t,0)},_1e=V([ot,ew,g1e,v1e,x1e],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),j1e=(e,t,r,n)=>{var s=ot(e);return s==="horizontal"?am(e,"yAxis",r,n):am(e,"xAxis",t,n)},S1e=(e,t,r)=>{var n=ot(e);return n==="horizontal"?v4(e,"xAxis",t):v4(e,"yAxis",r)},N1e=(e,t,r)=>{var n={},s=e.filter(Qb),i=e.filter(u=>u.stackId==null),a=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(v=>v.dataKey),m=sD(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=sD(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},E1e=V([_1e,Xxe,S1e],N1e),k1e=(e,t,r,n,s)=>{var i,a,l=Zm(e,t,r,n,s);if(l!=null){var c=ot(e),u=uV(e),{maxBarSize:d}=l,f=Kt(d)?u:d,h,m;return c==="horizontal"?(h=Ml(e,"xAxis",t,n),m=Dl(e,"xAxis",t,n)):(h=Ml(e,"yAxis",r,n),m=Dl(e,"yAxis",r,n)),(i=(a=Zp(h,m,!0))!==null&&a!==void 0?a:f)!==null&&i!==void 0?i:0}},m7=(e,t,r,n)=>{var s=ot(e),i,a;return s==="horizontal"?(i=Ml(e,"xAxis",t,n),a=Dl(e,"xAxis",t,n)):(i=Ml(e,"yAxis",r,n),a=Dl(e,"yAxis",r,n)),Zp(i,a)};function C1e(e,t,r,n,s){var i=n.length;if(!(i<1)){var a=Ri(e,r,0,!0),l,c=[];if(xr(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((y,w)=>y+(w.barSize||0),0);f+=(i-1)*a,f>=r&&(f-=(i-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((y,w)=>{var b,_={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},j=[...y,_];return m=j[j.length-1].position,j},c)}else{var v=Ri(t,r,0,!0);r-2*v-(i-1)*a<=0&&(a=0);var g=(r-2*v-(i-1)*a)/i;g>1&&(g>>=0);var x=xr(s)?Math.min(g,s):g;l=n.reduce((y,w,b)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:v+(g+a)*b+(g-x)/2,size:x}}],c)}return l}}var P1e=(e,t,r,n,s,i,a)=>{var l=Kt(a)?t:a,c=C1e(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(u=>nv(nv({},u),{},{position:nv(nv({},u.position),{},{offset:u.position.offset-s/2})}))),c},A1e=V([E1e,uV,Yxe,dV,k1e,m7,b1e],P1e),O1e=(e,t,r,n)=>Ml(e,"xAxis",t,n),T1e=(e,t,r,n)=>Ml(e,"yAxis",r,n),R1e=(e,t,r,n)=>Dl(e,"xAxis",t,n),I1e=(e,t,r,n)=>Dl(e,"yAxis",r,n),D1e=V([A1e,Zm],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),M1e=(e,t)=>{var r=Xb(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(a=>a.key===r)}}}},$1e=V([j1e,Zm],M1e),L1e=V([Br,aP,O1e,T1e,R1e,I1e,D1e,ot,Wb,m7,$1e,Zm,w1e],(e,t,r,n,s,i,a,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:g}=c;if(!(f==null||a==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||u==null)){var{data:x}=f,y;if(x!=null&&x.length>0?y=x:y=m==null?void 0:m.slice(v,g+1),y!=null)return d1e({layout:l,barSettings:f,pos:a,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:h})}}),F1e=e=>{var{chartData:t}=e,r=Ar(),n=In();return p.useEffect(()=>n?()=>{}:(r(E4(t)),()=>{r(E4(void 0))}),[t,r,n]),null},iD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},g7=As({name:"brush",initialState:iD,reducers:{setBrushSettings(e,t){return t.payload==null?iD:t.payload}}}),{setBrushSettings:CTe}=g7.actions,U1e=g7.reducer;function z1e(e,t,r){return(t=B1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B1e(e){var t=V1e(e,"string");return typeof t=="symbol"?t:t+""}function V1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class p2{static create(t){return new p2(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}z1e(p2,"EPS",1e-4);function W1e(e){return(e%180+180)%180}var q1e=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=W1e(s),a=i*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},H1e={dots:[],areas:[],lines:[]},v7=As({name:"referenceElements",initialState:H1e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=qa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=qa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=qa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:PTe,removeDot:ATe,addArea:OTe,removeArea:TTe,addLine:RTe,removeLine:ITe}=v7.actions,K1e=v7.reducer,G1e=p.createContext(void 0),Y1e=e=>{var{children:t}=e,[r]=p.useState("".concat(Yp("recharts"),"-clip")),n=u2();if(n==null)return null;var{x:s,y:i,width:a,height:l}=n;return p.createElement(G1e.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:s,y:i,height:l,width:a}))),t)};function uf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function x7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function X1e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return q1e(n,r)}function Q1e(e,t,r){var n=r==="width",{x:s,y:i,width:a,height:l}=e;return t===1?{start:n?s:i,end:n?s+a:i+l}:{start:n?s+a:i+l,end:n?s:i}}function ky(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function J1e(e,t){return x7(e,t+1)}function Z1e(e,t,r,n,s){for(var i=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:x7(n,u)};var g=c,x,y=()=>(x===void 0&&(x=r(v,g)),x),w=v.coordinate,b=c===0||ky(e,w,y,d,l);b||(c=0,d=a,u+=1),b&&(d=w+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){eje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eje(e,t,r){return(t=tje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tje(e){var t=rje(e,"string");return typeof t=="symbol"?t:t+""}function rje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nje(e,t,r,n,s){for(var i=(n||[]).slice(),a=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],v,g=()=>(v===void 0&&(v=r(m,h)),v);if(h===a-1){var x=e*(m.coordinate+e*g()/2-c);i[h]=m=nn(nn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=nn(nn({},m),{},{tickCoord:m.coordinate});var y=ky(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+s),i[h]=nn(nn({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return i}function sje(e,t,r,n,s,i){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=nn(nn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=ky(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+s),a[l-1]=nn(nn({},d),{},{isShow:!0}))}for(var v=i?l-1:l,g=function(w){var b=a[w],_,j=()=>(_===void 0&&(_=r(b,w)),_);if(w===0){var S=e*(b.coordinate-e*j()/2-c);a[w]=b=nn(nn({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else a[w]=b=nn(nn({},b),{},{tickCoord:b.coordinate});var N=ky(e,b.tickCoord,j,c,u);N&&(c=b.tickCoord+e*(j()/2+s),a[w]=nn(nn({},b),{},{isShow:!0}))},x=0;x<v;x++)g(x);return a}function m2(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!s||!s.length||!n)return[];if(_e(c)||Eu.isSsr){var h;return(h=J1e(s,_e(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],v=l==="top"||l==="bottom"?"width":"height",g=d&&v==="width"?up(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(b,_)=>{var j=typeof u=="function"?u(b.value,_):b.value;return v==="width"?X1e(up(j,{fontSize:t,letterSpacing:r}),g,f):up(j,{fontSize:t,letterSpacing:r})[v]},y=s.length>=2?qn(s[1].coordinate-s[0].coordinate):1,w=Q1e(i,y,v);return c==="equidistantPreserveStart"?Z1e(y,w,x,s,a):(c==="preserveStart"||c==="preserveStartEnd"?m=sje(y,w,x,s,a,c==="preserveStartEnd"):m=nje(y,w,x,s,a),m.filter(b=>b.isShow))}var ije=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,a=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,u=a+c+l+(r?n:0);return Math.round(u)}return 0},aje=["axisLine","width","height","className","hide","ticks"],oje=["viewBox"],lje=["viewBox"];function ON(e,t){if(e==null)return{};var r,n,s=cje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(null,arguments)}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){uje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uje(e,t,r){return(t=dje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dje(e){var t=fje(e,"string");return typeof t=="symbol"?t:t+""}function fje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g2={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function hje(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:a,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Sr(Sr(Sr({},c),Js(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!a||i==="bottom"&&a);u=Sr(Sr({},u),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var f=+(i==="left"&&!a||i==="right"&&a);u=Sr(Sr({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+s})}return p.createElement("line",mu({},u,{className:lt("recharts-cartesian-axis-line",sf(l,"className"))}))}function pje(e,t,r,n,s,i,a,l,c){var u,d,f,h,m,v,g=l?-1:1,x=e.tickSize||a,y=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*s,f=h-g*x,v=f-g*c,m=y;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-g*x,m=u-g*c,v=y;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+g*x,m=u+g*c,v=y;break;default:u=d=e.coordinate,h=r+ +l*s,f=h+g*x,v=f+g*c,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function mje(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function gje(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function vje(e){var{option:t,tickProps:r,value:n}=e,s,i=lt(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,Sr(Sr({},r),{},{className:i}));else if(typeof t=="function")s=t(Sr(Sr({},r),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=lt(a,t==null?void 0:t.className)),s=p.createElement(i2,mu({},r,{className:a}),n)}return s}function xje(e){var{ticks:t=[],tick:r,tickLine:n,stroke:s,tickFormatter:i,unit:a,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:v,tickSize:g,tickMargin:x,fontSize:y,letterSpacing:w,getTicksConfig:b,events:_}=e,j=m2(Sr(Sr({},b),{},{ticks:t}),y,w),S=mje(u,d),N=gje(u,d),E=Js(b),A=Lm(r),P={};typeof n=="object"&&(P=n);var C=Sr(Sr({},E),{},{fill:"none"},P),k=j.map((D,T)=>{var{line:L,tick:z}=pje(D,f,h,m,v,u,g,d,x),X=Sr(Sr(Sr(Sr({textAnchor:S,verticalAnchor:N},E),{},{stroke:"none",fill:s},A),z),{},{index:T,payload:D,visibleTicksCount:j.length,tickFormatter:i,padding:l},c);return p.createElement(rs,mu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},BC(_,D,T)),n&&p.createElement("line",mu({},C,L,{className:lt("recharts-cartesian-axis-tick-line",sf(n,"className"))})),r&&p.createElement(vje,{option:r,tickProps:X,value:"".concat(typeof i=="function"?i(D.value,T):D.value).concat(a||"")}))});return k.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},k):null}var yje=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:a,ticks:l}=e,c=ON(e,aje),[u,d]=p.useState(""),[f,h]=p.useState(""),m=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return ije({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=p.useCallback(g=>{if(g){var x=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=x;var y=x[0];if(y){var w=window.getComputedStyle(y),b=w.fontSize,_=w.letterSpacing;(b!==u||_!==f)&&(d(b),h(_))}}},[u,f]);return a||n!=null&&n<=0||s!=null&&s<=0?null:p.createElement(rs,{className:lt("recharts-cartesian-axis",i),ref:v},p.createElement(hje,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Js(e)}),p.createElement(xje,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),p.createElement(lwe,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(xwe,{label:e.label,labelRef:e.labelRef}),e.children))}),bje=p.memo(yje,(e,t)=>{var{viewBox:r}=e,n=ON(e,oje),{viewBox:s}=t,i=ON(t,lje);return uf(r,s)&&uf(n,i)}),v2=p.forwardRef((e,t)=>{var r=ns(e,g2);return p.createElement(bje,mu({},r,{ref:t}))});v2.displayName="CartesianAxis";var wje=["x1","y1","x2","y2","key"],_je=["offset"],jje=["xAxisId","yAxisId"],Sje=["xAxisId","yAxisId"];function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){Nje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nje(e,t,r){return(t=Eje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eje(e){var t=kje(e,"string");return typeof t=="symbol"?t:t+""}function kje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(null,arguments)}function Cy(e,t){if(e==null)return{};var r,n,s=Cje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pje=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:a,ry:l}=e;return p.createElement("rect",{x:n,y:s,ry:l,width:i,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function y7(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:a,key:l}=t,c=Cy(t,wje),u=Js(c),{offset:d}=u,f=Cy(u,_je);r=p.createElement("line",Ec({},f,{x1:n,y1:s,x2:i,y2:a,fill:"none",key:l}))}return r}function Aje(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:a}=e,l=Cy(e,jje),c=s.map((u,d)=>{var f=an(an({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return y7(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Oje(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:a}=e,l=Cy(e,Sje),c=s.map((u,d)=>{var f=an(an({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return y7(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Tje(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?s+a-f:u[h+1]-f;if(v<=0)return null;var g=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Rje(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?s+a-f:u[h+1]-f;if(v<=0)return null;var g=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:v,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ije=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return B8(m2(an(an(an({},g2),r),{},{ticks:V8(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},Dje=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return B8(m2(an(an(an({},g2),r),{},{ticks:V8(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Mje={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function gw(e){var t=Z8(),r=eB(),n=J8(),s=an(an({},ns(e,Mje)),{},{x:_e(e.x)?e.x:n.left,y:_e(e.y)?e.y:n.top,width:_e(e.width)?e.width:n.width,height:_e(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=s,v=In(),g=Ae(A=>x4(A,"xAxis",i,v)),x=Ae(A=>x4(A,"yAxis",a,v));if(!_e(u)||u<=0||!_e(d)||d<=0||!_e(l)||l!==+l||!_e(c)||c!==+c)return null;var y=s.verticalCoordinatesGenerator||Ije,w=s.horizontalCoordinatesGenerator||Dje,{horizontalPoints:b,verticalPoints:_}=s;if((!b||!b.length)&&typeof w=="function"){var j=h&&h.length,S=w({yAxis:x?an(an({},x),{},{ticks:j?h:x.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);ay(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!_||!_.length)&&typeof y=="function"){var N=m&&m.length,E=y({xAxis:g?an(an({},g),{},{ticks:N?m:g.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);ay(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Pje,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(Tje,Ec({},s,{horizontalPoints:b})),p.createElement(Rje,Ec({},s,{verticalPoints:_})),p.createElement(Aje,Ec({},s,{offset:n,horizontalPoints:b,xAxis:g,yAxis:x})),p.createElement(Oje,Ec({},s,{offset:n,verticalPoints:_,xAxis:g,yAxis:x})))}gw.displayName="CartesianGrid";function $je(e){var t=Lm(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:i}=t,a=Number(s),l=Number(i);return(Number.isNaN(a)||a<0)&&(a=r),(Number.isNaN(l)||l<0)&&(l=n),{r:a,strokeWidth:l}}return{r,strokeWidth:n}}var b7=(e,t,r,n)=>Ml(e,"xAxis",t,n),w7=(e,t,r,n)=>Dl(e,"xAxis",t,n),_7=(e,t,r,n)=>Ml(e,"yAxis",r,n),j7=(e,t,r,n)=>Dl(e,"yAxis",r,n),Lje=V([ot,b7,_7,w7,j7],(e,t,r,n,s)=>vo(e,"xAxis")?Zp(t,n,!1):Zp(r,s,!1)),Fje=(e,t,r,n,s)=>s,S7=V([ew,Fje],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Uje=(e,t,r,n,s)=>{var i,a=S7(e,t,r,n,s);if(a!=null){var l=ot(e),c=vo(l,"xAxis"),u;if(c?u=am(e,"yAxis",r,n):u=am(e,"xAxis",t,n),u!=null){var{stackId:d}=a,f=Xb(a);if(!(d==null||f==null)){var h=(i=u[d])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===f)}}}},zje=V([ot,b7,_7,w7,j7,Uje,Wb,Lje,S7],(e,t,r,n,s,i,a,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=a;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:h}=c,m;if(h&&h.length>0?m=h:m=u==null?void 0:u.slice(d,f+1),m!=null){var v=void 0;return lSe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:v,bandSize:l})}}}),Bje=["id"],Vje=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function N7(e,t){if(e==null)return{};var r,n,s=Wje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Wje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){qje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qje(e,t,r){return(t=Hje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hje(e){var t=Kje(e,"string");return typeof t=="symbol"?t:t+""}function Kje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(null,arguments)}function Py(e,t){return e&&e!=="none"?e:t}var Gje=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:Py(n,s),value:Cb(r,t),payload:e}]};function Yje(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:a,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Cb(a,t),hide:l,type:e.tooltipType,color:Py(n,i),unit:c}}}var Xje=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=lt("recharts-area-dot",typeof e!="boolean"?e.className:"");r=p.createElement(XW,Ka({},t,{className:n}))}return r};function Qje(e,t){return e==null?!1:t?!0:e.length===1}function Jje(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:a}=n;if(!Qje(r,i))return null;var l=t7(i),c=Js(n),u=Ode(i),d=r.map((h,m)=>{var v=za(za(za({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:h.x,cy:h.y,dataKey:a,value:h.value,payload:h.payload,points:r});return Xje(i,v)}),f={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(rs,Ka({className:"recharts-area-dots"},f),d)}function Zje(e){var{showLabels:t,children:r,points:n}=e,s=n.map(i=>{var a={x:i.x,y:i.y,width:0,height:0};return za(za({},a),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:a,fill:void 0})});return p.createElement(KW,{value:t?s:null},r)}function uD(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i}=e,{layout:a,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:f}=i,h=N7(i,Bje),m=Js(h);return p.createElement(p.Fragment,null,(t==null?void 0:t.length)>1&&p.createElement(rs,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},p.createElement(Bv,Ka({},m,{id:f,points:t,connectNulls:u,type:l,baseLine:r,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&p.createElement(Bv,Ka({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&p.createElement(Bv,Ka({},m,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:r}))),p.createElement(Jje,{points:t,props:h,clipPathId:s}))}function eSe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,a=n[n.length-1].y;if(!xr(i)||!xr(a))return null;var l=t*Math.abs(i-a),c=Math.max(...n.map(u=>u.x||0));return _e(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),_e(c)?p.createElement("rect",{x:0,y:i<a?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function tSe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,a=n[n.length-1].x;if(!xr(i)||!xr(a))return null;var l=t*Math.abs(i-a),c=Math.max(...n.map(u=>u.y||0));return _e(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),_e(c)?p.createElement("rect",{x:i<a?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function rSe(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?p.createElement(eSe,{alpha:t,points:n,baseLine:s,strokeWidth:i}):p.createElement(tSe,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function nSe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:a,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=n,v=$b(n,"recharts-area-"),[g,x]=p.useState(!1),y=!g,w=p.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),b=p.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]),_=s.current,j=i.current;return p.createElement(Zje,{showLabels:y,points:a},n.children,p.createElement(Mb,{animationId:v,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:w,onAnimationStart:b,key:v},S=>{if(_){var N=_.length/a.length,E=S===1?a:a.map((P,C)=>{var k=Math.floor(C*N);if(_[k]){var D=_[k];return za(za({},P),{},{x:sr(D.x,P.x,S),y:sr(D.y,P.y,S)})}return P}),A;return _e(l)?A=sr(j,l,S):Kt(l)||Ss(l)?A=sr(j,0,S):A=l.map((P,C)=>{var k=Math.floor(C*N);if(Array.isArray(j)&&j[k]){var D=j[k];return za(za({},P),{},{x:sr(D.x,P.x,S),y:sr(D.y,P.y,S)})}return P}),S>0&&(s.current=E,i.current=A),p.createElement(uD,{points:E,baseLine:A,needClip:t,clipPathId:r,props:n})}return S>0&&(s.current=a,i.current=l),p.createElement(rs,null,c&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(rSe,{alpha:S,points:a,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),p.createElement(rs,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(uD,{points:a,baseLine:l,needClip:t,clipPathId:r,props:n})))}),p.createElement(YW,{label:n.label}))}function sSe(e){var{needClip:t,clipPathId:r,props:n}=e,s=p.useRef(null),i=p.useRef();return p.createElement(nSe,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class iSe extends p.PureComponent{render(){var{hide:t,dot:r,points:n,className:s,top:i,left:a,needClip:l,xAxisId:c,yAxisId:u,width:d,height:f,id:h,baseLine:m}=this.props;if(t)return null;var v=lt("recharts-area",s),g=h,{r:x,strokeWidth:y}=$je(r),w=t7(r),b=x*2+y;return p.createElement(p.Fragment,null,p.createElement(rs,{className:v},l&&p.createElement("defs",null,p.createElement(h7,{clipPathId:g,xAxisId:c,yAxisId:u}),!w&&p.createElement("clipPath",{id:"clipPath-dots-".concat(g)},p.createElement("rect",{x:a-b/2,y:i-b/2,width:d+b,height:f+b}))),p.createElement(sSe,{needClip:l,clipPathId:g,props:this.props})),p.createElement(eD,{points:n,mainColor:Py(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&p.createElement(eD,{points:m,mainColor:Py(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var E7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Eu.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function aSe(e){var t,r=ns(e,E7),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:a,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:m,stroke:v,xAxisId:g,yAxisId:x}=r,y=N7(r,Vje),w=Ib(),b=SW(),{needClip:_}=f2(g,x),j=In(),{points:S,isRange:N,baseLine:E}=(t=Ae(T=>zje(T,g,x,j,e.id)))!==null&&t!==void 0?t:{},A=u2();if(w!=="horizontal"&&w!=="vertical"||A==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:P,width:C,x:k,y:D}=A;return!S||!S.length?null:p.createElement(iSe,Ka({},y,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:a,baseLine:E,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:P,hide:f,layout:w,isAnimationActive:h,isRange:N,legendType:m,needClip:_,points:S,stroke:v,width:C,left:k,top:D,xAxisId:g,yAxisId:x}))}var oSe=(e,t,r,n,s)=>{var i=r??t;if(_e(i))return i;var a=e==="horizontal"?s:n,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function lSe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,v=s&&s.length,g=oSe(i,a,r,l,c),x=i==="horizontal",y=!1,w=u.map((_,j)=>{var S;v?S=s[d+j]:(S=zr(_,n),Array.isArray(S)?y=!0:S=[g,S]);var N=S[1]==null||v&&!t&&zr(_,n)==null;return x?{x:rI({axis:l,ticks:f,bandSize:m,entry:_,index:j}),y:N?null:c.scale(S[1]),value:S,payload:_}:{x:N?null:l.scale(S[1]),y:rI({axis:c,ticks:h,bandSize:m,entry:_,index:j}),value:S,payload:_}}),b;return v||y?b=w.map(_=>{var j=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:j!=null&&_.y!=null?c.scale(j):null,payload:_.payload}:{x:j!=null?l.scale(j):null,y:_.y,payload:_.payload}}):b=x?c.scale(g):l.scale(g),{points:w,baseLine:b,isRange:y}}function cSe(e){var t=ns(e,E7),r=In();return p.createElement(l7,{id:t.id,type:"area"},n=>p.createElement(p.Fragment,null,p.createElement(o7,{legendPayload:Gje(t)}),p.createElement(a7,{fn:Yje,args:t}),p.createElement(u7,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:W8(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(aSe,Ka({},t,{id:n}))))}var k7=p.memo(cSe);k7.displayName="Area";var uSe=["dangerouslySetInnerHTML","ticks"],dSe=["id"],fSe=["domain"],hSe=["domain"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(null,arguments)}function Ay(e,t){if(e==null)return{};var r,n,s=pSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mSe(e){var t=Ar();return p.useLayoutEffect(()=>(t(h_e(e)),()=>{t(p_e(e))}),[e,t]),null}var gSe=e=>{var{xAxisId:t,className:r}=e,n=Ae(aP),s=In(),i="xAxis",a=Ae(x=>Wf(x,i,t,s)),l=Ae(x=>tW(x,i,t,s)),c=Ae(x=>QV(x,t)),u=Ae(x=>Wye(x,t)),d=Ae(x=>bV(x,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=Ay(e,uSe),{id:v}=d,g=Ay(d,dSe);return p.createElement(v2,TN({},m,g,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:lt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},vSe={allowDataOverflow:ss.allowDataOverflow,allowDecimals:ss.allowDecimals,allowDuplicatedCategory:ss.allowDuplicatedCategory,height:ss.height,hide:!1,mirror:ss.mirror,orientation:ss.orientation,padding:ss.padding,reversed:ss.reversed,scale:ss.scale,tickCount:ss.tickCount,type:ss.type,xAxisId:0},xSe=e=>{var t,r,n,s,i,a=ns(e,vSe);return p.createElement(p.Fragment,null,p.createElement(mSe,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(s=a.minTickGap)!==null&&s!==void 0?s:5,tick:(i=a.tick)!==null&&i!==void 0?i:!0,tickFormatter:a.tickFormatter}),p.createElement(gSe,a))},ySe=(e,t)=>{var{domain:r}=e,n=Ay(e,fSe),{domain:s}=t,i=Ay(t,hSe);return uf(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:uf({domain:r},{domain:s}):!1},vw=p.memo(xSe,ySe);vw.displayName="XAxis";var bSe=["dangerouslySetInnerHTML","ticks"],wSe=["id"],_Se=["domain"],jSe=["domain"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RN.apply(null,arguments)}function Oy(e,t){if(e==null)return{};var r,n,s=SSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NSe(e){var t=Ar();return p.useLayoutEffect(()=>(t(m_e(e)),()=>{t(g_e(e))}),[e,t]),null}var ESe=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=p.useRef(null),a=p.useRef(null),l=Ae(aP),c=In(),u=Ar(),d="yAxis",f=Ae(j=>Wf(j,d,t,c)),h=Ae(j=>JV(j,t)),m=Ae(j=>Hye(j,t)),v=Ae(j=>tW(j,d,t,c)),g=Ae(j=>wV(j,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!h||a2(s)||p.isValidElement(s)||g==null)){var j=i.current;if(j){var S=j.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&u(v_e({id:t,width:S}))}}},[v,h,u,s,t,n,g]),h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:y}=e,w=Oy(e,bSe),{id:b}=g,_=Oy(g,wSe);return p.createElement(v2,RN({},w,_,{ref:i,labelRef:a,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:lt("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:v}))},kSe={allowDataOverflow:is.allowDataOverflow,allowDecimals:is.allowDecimals,allowDuplicatedCategory:is.allowDuplicatedCategory,hide:!1,mirror:is.mirror,orientation:is.orientation,padding:is.padding,reversed:is.reversed,scale:is.scale,tickCount:is.tickCount,type:is.type,width:is.width,yAxisId:0},CSe=e=>{var t,r,n,s,i,a=ns(e,kSe);return p.createElement(p.Fragment,null,p.createElement(NSe,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(s=a.minTickGap)!==null&&s!==void 0?s:5,tick:(i=a.tick)!==null&&i!==void 0?i:!0,tickFormatter:a.tickFormatter}),p.createElement(ESe,a))},PSe=(e,t)=>{var{domain:r}=e,n=Oy(e,_Se),{domain:s}=t,i=Oy(t,jSe);return uf(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:uf({domain:r},{domain:s}):!1},xw=p.memo(CSe,PSe);xw.displayName="YAxis";var ASe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=p;function OSe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TSe=typeof Object.is=="function"?Object.is:OSe,RSe=eg.useSyncExternalStore,ISe=eg.useRef,DSe=eg.useEffect,MSe=eg.useMemo,$Se=eg.useDebugValue;ASe.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=ISe(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=MSe(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var v=a.value;if(s(v,m))return f=v}return f=m}if(v=f,TSe(d,m))return v;var g=n(m);return s!==void 0&&s(v,g)?(d=m,v):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=RSe(e,i[0],i[1]);return DSe(function(){a.hasValue=!0,a.value=l},[l]),$Se(l),l};function LSe(e){e()}function FSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){LSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var dD={notify(){},get:()=>[]};function USe(e,t){let r,n=dD,s=0,i=!1;function a(g){d();const x=n.subscribe(g);let y=!1;return()=>{y||(y=!0,x(),f())}}function l(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=FSe())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=dD)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const v={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var zSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BSe=zSe(),VSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WSe=VSe(),qSe=()=>BSe||WSe?p.useLayoutEffect:p.useEffect,HSe=qSe(),b1=Symbol.for("react-redux-context"),w1=typeof globalThis<"u"?globalThis:{};function KSe(){if(!p.createContext)return{};const e=w1[b1]??(w1[b1]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var GSe=KSe();function YSe(e){const{children:t,context:r,serverState:n,store:s}=e,i=p.useMemo(()=>{const c=USe(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),a=p.useMemo(()=>s.getState(),[s]);HSe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=r||GSe;return p.createElement(l.Provider,{value:i},t)}var XSe=YSe,QSe=(e,t)=>t,x2=V([QSe,ot,vV,Rr,xW,jo,X0e,Br],tbe),y2=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},C7=Zs("mouseClick"),P7=zm();P7.startListening({actionCreator:C7,effect:(e,t)=>{var r=e.payload,n=x2(t.getState(),y2(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(i0e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var IN=Zs("mouseMove"),A7=zm();A7.startListening({actionCreator:IN,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=YP(n,n.tooltip.settings.shared),i=x2(n,y2(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(cW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(lW()))}});var fD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},O7=As({name:"rootProps",initialState:fD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:fD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),JSe=O7.reducer,{updateOptions:ZSe}=O7.actions,T7=As({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:DTe}=T7.actions,eNe=T7.reducer,R7=Zs("keyDown"),I7=Zs("focus"),b2=zm();b2.startListening({actionCreator:R7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var a=Number(XP(s,Hf(r))),l=jo(r);if(i==="Enter"){var c=_y(r,"axis","hover",String(s.index));t.dispatch(NN({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=Xye(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=_y(r,"axis","hover",String(h));t.dispatch(NN({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});b2.startListening({actionCreator:I7,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",a=_y(r,"axis","hover",String(i));t.dispatch(NN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:a}))}}}});var Ms=Zs("externalEvent"),D7=zm();D7.startListening({actionCreator:Ms,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:z0e(r),activeDataKey:_W(r),activeIndex:pu(r),activeLabel:wW(r),activeTooltipIndex:pu(r),isTooltipActive:B0e(r)};e.payload.handler(n,e.payload.reactEvent)}}});var tNe=V([qf],e=>e.tooltipItemPayloads),rNe=V([tNe,Qm,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var a=t(i,r);return a}}}),M7=Zs("touchMove"),$7=zm();$7.startListening({actionCreator:M7,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=YP(n,n.tooltip.settings.shared);if(s==="axis"){var i=x2(n,y2({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(cW({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(wpe),d=(a=c.getAttribute(_pe))!==null&&a!==void 0?a:void 0,f=rNe(t.getState(),u,d);t.dispatch(oW({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var nNe=g8({brush:U1e,cartesianAxis:x_e,chartData:gbe,errorBars:$_e,graphicalItems:l_e,layout:qhe,legend:Ype,options:dbe,polarAxis:Cwe,polarOptions:eNe,referenceElements:K1e,rootProps:JSe,tooltip:a0e}),sNe=function(t){return ghe({reducer:nNe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([P7.middleware,A7.middleware,b2.middleware,D7.middleware,$7.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(C8({type:"raf"}))},devTools:Eu.devToolsEnabled})};function iNe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=In(),i=p.useRef(null);if(s)return r;i.current==null&&(i.current=sNe(t));var a=JC;return p.createElement(XSe,{context:a,store:i.current},r)}function aNe(e){var{layout:t,margin:r}=e,n=Ar(),s=In();return p.useEffect(()=>{s||(n(Bhe(t)),n(zhe(r)))},[n,s,t,r]),null}function oNe(e){var t=Ar();return p.useEffect(()=>{t(ZSe(e))},[t,e]),null}var lNe=["children"];function cNe(e,t){if(e==null)return{};var r,n,s=uNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}var dNe={width:"100%",height:"100%",display:"block"},fNe=p.forwardRef((e,t)=>{var r=Z8(),n=eB(),s=rB();if(!af(r)||!af(n))return null;var{children:i,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=s?0:void 0,typeof a.role=="string"?d=a.role:d=s?"application":void 0,p.createElement(_z,Ty({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:dNe,ref:t}),i)}),hNe=e=>{var{children:t}=e,r=Ae(Tb);if(!r)return null;var{width:n,height:s,y:i,x:a}=r;return p.createElement(_z,{width:n,height:s,x:a,y:i},t)},hD=p.forwardRef((e,t)=>{var{children:r}=e,n=cNe(e,lNe),s=In();return s?p.createElement(hNe,null,r):p.createElement(fNe,Ty({ref:t},n),r)});function pNe(){var e=Ar(),[t,r]=p.useState(null),n=Ae(bpe);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;xr(i)&&i!==n&&e(Whe(i))}},[t,e,n]),r}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){gNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gNe(e,t,r){return(t=vNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vNe(e){var t=xNe(e,"string");return typeof t=="symbol"?t:t+""}function xNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(null,arguments)}var yNe=()=>(Nbe(),null);function Ry(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bNe=p.forwardRef((e,t)=>{var r,n,s=p.useRef(null),[i,a]=p.useState({containerWidth:Ry((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ry((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((u,d)=>{a(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=v=>{var{width:g,height:x}=v[0].contentRect;l(g,x)},m=new ResizeObserver(h);m.observe(u),s.current=m}},[t,l]);return p.useEffect(()=>()=>{var u=s.current;u!=null&&u.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(Db,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",gu({ref:c},e)))}),wNe=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,i]=p.useState({containerWidth:Ry(r),containerHeight:Ry(n)}),a=p.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();a(u,d)}},[t,a]);return p.createElement(p.Fragment,null,p.createElement(Db,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",gu({ref:l},e)))}),_Ne=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(Db,{width:r,height:n}),p.createElement("div",gu({ref:t},e)))}),jNe=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return io(r)||io(n)?p.createElement(wNe,gu({},e,{ref:t})):p.createElement(_Ne,gu({},e,{ref:t}))});function SNe(e){return e===!0?bNe:jNe}var NNe=p.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:g,style:x,width:y,responsive:w,dispatchTouchEvents:b=!0}=e,_=p.useRef(null),j=Ar(),[S,N]=p.useState(null),[E,A]=p.useState(null),P=pNe(),C=oP(),k=(C==null?void 0:C.width)>0?C.width:y,D=(C==null?void 0:C.height)>0?C.height:s,T=p.useCallback(K=>{P(K),typeof t=="function"&&t(K),N(K),A(K),K!=null&&(_.current=K)},[P,t,N,A]),L=p.useCallback(K=>{j(C7(K)),j(Ms({handler:i,reactEvent:K}))},[j,i]),z=p.useCallback(K=>{j(IN(K)),j(Ms({handler:u,reactEvent:K}))},[j,u]),X=p.useCallback(K=>{j(lW()),j(Ms({handler:d,reactEvent:K}))},[j,d]),I=p.useCallback(K=>{j(IN(K)),j(Ms({handler:f,reactEvent:K}))},[j,f]),M=p.useCallback(()=>{j(I7())},[j]),Q=p.useCallback(K=>{j(R7(K.key))},[j]),J=p.useCallback(K=>{j(Ms({handler:a,reactEvent:K}))},[j,a]),ee=p.useCallback(K=>{j(Ms({handler:l,reactEvent:K}))},[j,l]),Ee=p.useCallback(K=>{j(Ms({handler:c,reactEvent:K}))},[j,c]),je=p.useCallback(K=>{j(Ms({handler:h,reactEvent:K}))},[j,h]),Fe=p.useCallback(K=>{j(Ms({handler:g,reactEvent:K}))},[j,g]),ze=p.useCallback(K=>{b&&j(M7(K)),j(Ms({handler:v,reactEvent:K}))},[j,b,v]),pe=p.useCallback(K=>{j(Ms({handler:m,reactEvent:K}))},[j,m]),Ke=SNe(w);return p.createElement(PW.Provider,{value:S},p.createElement(Lde.Provider,{value:E},p.createElement(Ke,{width:k??(x==null?void 0:x.width),height:D??(x==null?void 0:x.height),className:lt("recharts-wrapper",n),style:mNe({position:"relative",cursor:"default",width:k,height:D},x),onClick:L,onContextMenu:J,onDoubleClick:ee,onFocus:M,onKeyDown:Q,onMouseDown:Ee,onMouseEnter:z,onMouseLeave:X,onMouseMove:I,onMouseUp:je,onTouchEnd:pe,onTouchMove:ze,onTouchStart:Fe,ref:T},p.createElement(yNe,null),r)))}),ENe=["width","height","responsive","children","className","style","compact","title","desc"];function kNe(e,t){if(e==null)return{};var r,n,s=CNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PNe=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:i,className:a,style:l,compact:c,title:u,desc:d}=e,f=kNe(e,ENe),h=Js(f);return c?p.createElement(p.Fragment,null,p.createElement(Db,{width:r,height:n}),p.createElement(hD,{otherAttributes:h,title:u,desc:d},i)):p.createElement(NNe,{className:a,style:l,width:r,height:n,responsive:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(hD,{otherAttributes:h,title:u,desc:d,ref:t},p.createElement(Y1e,null,i)))});function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(null,arguments)}var ANe={top:5,right:5,bottom:5,left:5},ONe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ANe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},L7=p.forwardRef(function(t,r){var n,s=ns(t.categoricalChartProps,ONe),{chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(iNe,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},p.createElement(F1e,{chartData:u.data}),p.createElement(aNe,{layout:s.layout,margin:s.margin}),p.createElement(oNe,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(PNe,DN({},s,{ref:r})))}),TNe=["axis","item"],F7=p.forwardRef((e,t)=>p.createElement(L7,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TNe,tooltipPayloadSearcher:OW,categoricalChartProps:e,ref:t})),RNe=["axis"],INe=p.forwardRef((e,t)=>p.createElement(L7,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RNe,tooltipPayloadSearcher:OW,categoricalChartProps:e,ref:t}));function DNe(){const[e,t]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{try{const c=await De.get("/api/v1/dashboard/monthly-summary");t(c.data)}catch(c){console.error("Failed to load monthly summary:",c)}finally{n(!1)}};if(r)return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsx(qt,{className:"h-6 w-32"})}),o.jsx(le,{children:o.jsx(qt,{className:"h-64 w-full"})})]});if(!e)return null;const i=e.change_percent>0,a=i?Zt:Al,l=[{name:"Last Month",spend:e.last_month_spend,items:e.last_month_items},{name:"This Month",spend:e.current_month_spend,items:e.current_month_items}];return o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-emerald-500/30 transition-all",children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs(Te,{className:"text-white text-lg flex items-center gap-2",children:[o.jsx(po,{className:"h-5 w-5 text-emerald-400"}),"Monthly Spending Trend"]})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-3xl font-bold text-white",children:["$",e.current_month_spend.toLocaleString()]}),o.jsxs("div",{className:"text-sm text-slate-400 mt-1",children:["This Month (",e.current_month_items," items)"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`flex items-center justify-end gap-2 text-sm ${i?"text-red-400":"text-emerald-400"}`,children:[o.jsx(a,{className:"h-4 w-4"}),o.jsxs("span",{className:"font-semibold text-lg",children:[Math.abs(e.change_percent).toFixed(1),"%"]})]}),o.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"vs last month"})]})]}),o.jsx("div",{className:"h-48",children:o.jsx(lP,{width:"100%",height:"100%",children:o.jsxs(INe,{data:l,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"spendGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),o.jsx(gw,{strokeDasharray:"3 3",stroke:"#334155",opacity:.2}),o.jsx(vw,{dataKey:"name",stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(xw,{stroke:"#94a3b8",style:{fontSize:"12px"},tickFormatter:c=>`$${(c/1e3).toFixed(0)}k`}),o.jsx(s2,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff"},formatter:c=>[`$${c.toLocaleString()}`,"Spend"]}),o.jsx(k7,{type:"monotone",dataKey:"spend",stroke:"#10b981",strokeWidth:2,fill:"url(#spendGradient)"})]})})}),o.jsx("div",{className:"pt-3 border-t border-white/10",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-400",children:"Last Month"}),o.jsxs("span",{className:"text-slate-300 font-medium",children:["$",e.last_month_spend.toLocaleString()," (",e.last_month_items," items)"]})]})})]})})]})}const _1=["#f97316","#fb923c","#fdba74","#fed7aa","#ffedd5"];function MNe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{try{const a=await De.get("/api/v1/dashboard/top-ordered-items?days=30&limit=5");t(a.data.items)}catch(a){console.error("Failed to load top ordered items:",a)}finally{n(!1)}};if(r)return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsx(qt,{className:"h-6 w-40"})}),o.jsx(le,{children:o.jsx(qt,{className:"h-64 w-full"})})]});const i=e.map((a,l)=>({name:a.description.length>20?a.description.substring(0,20)+"...":a.description,fullName:a.description,frequency:a.order_frequency,cost:a.total_cost,color:_1[l]}));return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white text-lg flex items-center gap-2",children:[o.jsx(N3,{className:"h-5 w-5 text-orange-400"}),"Most Ordered Items (30 days)"]})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-64",children:o.jsx(lP,{width:"100%",height:"100%",children:o.jsxs(F7,{data:i,layout:"vertical",children:[o.jsx(gw,{strokeDasharray:"3 3",stroke:"#334155",opacity:.2}),o.jsx(vw,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"},tickFormatter:a=>`${a}x`}),o.jsx(xw,{type:"category",dataKey:"name",stroke:"#94a3b8",style:{fontSize:"11px"},width:120}),o.jsx(s2,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff"},formatter:(a,l,c)=>l==="frequency"?[`${a}x ordered`,c.payload.fullName]:[a,l]}),o.jsx(h2,{dataKey:"frequency",radius:[0,4,4,0],children:i.map((a,l)=>o.jsx(iw,{fill:a.color},`cell-${l}`))})]})})}),o.jsx("div",{className:"space-y-2 pt-3 border-t border-white/10",children:e.slice(0,3).map((a,l)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-800/30 hover:bg-slate-800/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:`${_1[l]}20`,color:_1[l]},children:l+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-white truncate",children:a.description}),o.jsxs("div",{className:"text-xs text-slate-400",children:[a.order_frequency,"x ordered"]})]})]}),o.jsxs("div",{className:"text-sm font-semibold text-emerald-400 ml-3",children:["$",a.total_cost.toLocaleString()]})]},l))})]})})]})}function $Ne(){const[e,t]=p.useState([]),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{try{const a=await De.get("/api/v1/dashboard/fastest-rising-costs?days=30&limit=5");t(a.data.items)}catch(a){console.error("Failed to load rising costs:",a)}finally{n(!1)}};if(r)return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsx(qt,{className:"h-6 w-40"})}),o.jsx(le,{children:o.jsx(qt,{className:"h-64 w-full"})})]});if(e.length===0)return o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white text-lg flex items-center gap-2",children:[o.jsx(Zt,{className:"h-5 w-5 text-red-400"}),"Fastest Rising Costs"]})}),o.jsx(le,{children:o.jsx("div",{className:"text-center py-8 text-slate-400",children:"No significant price increases detected"})})]});const i=e.map(a=>({name:a.description.length>20?a.description.substring(0,20)+"...":a.description,fullName:a.description,percent:a.increase_percent,oldPrice:a.price_30_days_ago,newPrice:a.current_price}));return o.jsxs(se,{className:"bg-card-dark border-white/10 border-red-500/20",children:[o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white text-lg flex items-center gap-2",children:[o.jsx(Va,{className:"h-5 w-5 text-red-400"}),"Fastest Rising Costs (30 days)"]})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-64",children:o.jsx(lP,{width:"100%",height:"100%",children:o.jsxs(F7,{data:i,layout:"vertical",children:[o.jsx(gw,{strokeDasharray:"3 3",stroke:"#334155",opacity:.2}),o.jsx(vw,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"},tickFormatter:a=>`+${a}%`}),o.jsx(xw,{type:"category",dataKey:"name",stroke:"#94a3b8",style:{fontSize:"11px"},width:120}),o.jsx(s2,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff"},formatter:(a,l,c)=>l==="percent"?[`+${a.toFixed(1)}% increase`,c.payload.fullName]:[a,l]}),o.jsxs(h2,{dataKey:"percent",radius:[0,4,4,0],children:[i.map((a,l)=>o.jsx(iw,{fill:a.percent>20?"#ef4444":a.percent>10?"#f97316":"#fb923c"},`cell-${l}`)),o.jsx(dp,{dataKey:"percent",position:"right",formatter:a=>`+${Number(a).toFixed(1)}%`,style:{fill:"#fff",fontSize:"11px",fontWeight:"bold"}})]})]})})}),o.jsx("div",{className:"space-y-2 pt-3 border-t border-white/10",children:e.slice(0,3).map((a,l)=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-500/5 border border-red-500/20 hover:bg-red-500/10 transition-colors",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-white truncate",children:a.description}),o.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["$",a.price_30_days_ago.toFixed(2),"  $",a.current_price.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-3",children:[o.jsx(Zt,{className:"h-4 w-4 text-red-400"}),o.jsxs("span",{className:"text-sm font-bold text-red-400",children:["+",a.increase_percent.toFixed(1),"%"]})]})]},l))})]})})]})}function LNe(){const[e,t]=p.useState(null),r=n=>{t(e===n?null:n)};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zt,{className:"h-5 w-5 text-emerald-400"}),o.jsx("h2",{className:"text-xl font-bold text-white",children:"Financial Intelligence"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-emerald-500/30 transition-all cursor-pointer",onClick:()=>r("monthly"),children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs(Te,{className:"text-white text-base flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"h-4 w-4 text-emerald-400"}),o.jsx("span",{children:"This Month"})]}),e==="monthly"?o.jsx(Fc,{className:"h-4 w-4 text-slate-400"}):o.jsx(ji,{className:"h-4 w-4 text-slate-400"})]})}),o.jsx(le,{children:o.jsxs("div",{className:"text-xs text-slate-400",children:["Click to ",e==="monthly"?"hide":"view"," details"]})})]}),o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-orange-500/30 transition-all cursor-pointer",onClick:()=>r("ordered"),children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs(Te,{className:"text-white text-base flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(N3,{className:"h-4 w-4 text-orange-400"}),o.jsx("span",{children:"Most Ordered"})]}),e==="ordered"?o.jsx(Fc,{className:"h-4 w-4 text-slate-400"}):o.jsx(ji,{className:"h-4 w-4 text-slate-400"})]})}),o.jsx(le,{children:o.jsxs("div",{className:"text-xs text-slate-400",children:["Click to ",e==="ordered"?"hide":"view"," details"]})})]}),o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-red-500/30 transition-all cursor-pointer",onClick:()=>r("rising"),children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs(Te,{className:"text-white text-base flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Va,{className:"h-4 w-4 text-red-400"}),o.jsx("span",{children:"Rising Costs"})]}),e==="rising"?o.jsx(Fc,{className:"h-4 w-4 text-slate-400"}):o.jsx(ji,{className:"h-4 w-4 text-slate-400"})]})}),o.jsx(le,{children:o.jsxs("div",{className:"text-xs text-slate-400",children:["Click to ",e==="rising"?"hide":"view"," details"]})})]})]}),e==="monthly"&&o.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200",children:o.jsx(DNe,{})}),e==="ordered"&&o.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200",children:o.jsx(MNe,{})}),e==="rising"&&o.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200",children:o.jsx($Ne,{})})]})}var yw="Tabs",[FNe]=Cs(yw,[Z0]),U7=Z0(),[UNe,w2]=FNe(yw),z7=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=J0(l),[f,h]=ia({prop:n,onChange:s,defaultProp:i??"",caller:yw});return o.jsx(UNe,{scope:r,baseId:Ei(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:o.jsx(Oe.div,{dir:d,"data-orientation":a,...u,ref:t})})});z7.displayName=yw;var B7="TabsList",V7=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=w2(B7,r),a=U7(r);return o.jsx(x6,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});V7.displayName=B7;var W7="TabsTrigger",q7=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=w2(W7,r),l=U7(r),c=G7(a.baseId,n),u=Y7(a.baseId,n),d=n===a.value;return o.jsx(y6,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ne(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:ne(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(n)})})})});q7.displayName=W7;var H7="TabsContent",K7=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=w2(H7,r),c=G7(l.baseId,n),u=Y7(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Ps,{present:s||d,children:({present:h})=>o.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});K7.displayName=H7;function G7(e,t){return`${e}-trigger-${t}`}function Y7(e,t){return`${e}-content-${t}`}var zNe=z7,bw=V7,ww=q7,_w=K7;const Pu=zNe,Xl=p.forwardRef(({className:e,...t},r)=>o.jsx(bw,{ref:r,className:$("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xl.displayName=bw.displayName;const Cr=p.forwardRef(({className:e,...t},r)=>o.jsx(ww,{ref:r,className:$("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Cr.displayName=ww.displayName;const Pr=p.forwardRef(({className:e,...t},r)=>o.jsx(_w,{ref:r,className:$("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Pr.displayName=_w.displayName;function BNe(){const[e,t]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{try{const i=await De.get("/api/v1/dashboard/vendor-scorecard?days=90");t(i.data)}catch(i){console.error("Failed to load vendor scorecard:",i)}finally{n(!1)}};return r?o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsx(qt,{className:"h-6 w-40"})}),o.jsx(le,{children:o.jsx(qt,{className:"h-48 w-full"})})]}):e?o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsxs(Ne,{children:[o.jsxs(Te,{className:"text-white text-lg flex items-center gap-2",children:[o.jsx(TQ,{className:"h-5 w-5 text-cyan-400"}),"Vendor Scorecard"]}),o.jsxs("div",{className:"text-sm text-slate-400",children:[e.total_vendors," vendors tracked"]})]}),o.jsx(le,{children:o.jsxs(Pu,{defaultValue:"most-used",className:"w-full",children:[o.jsxs(Xl,{className:"grid w-full grid-cols-3 bg-slate-800/50",children:[o.jsx(Cr,{value:"most-used",children:"Most Used"}),o.jsx(Cr,{value:"highest-spend",children:"Highest Spend"}),o.jsx(Cr,{value:"avg-value",children:"Avg Order"})]}),o.jsx(Pr,{value:"most-used",className:"mt-4",children:o.jsx("div",{className:"space-y-2",children:e.most_used.slice(0,3).map((i,a)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-slate-800/30",children:[o.jsx("div",{className:"text-sm text-white truncate flex-1",children:i.vendor}),o.jsxs("div",{className:"text-sm text-cyan-400 font-semibold ml-2",children:[i.order_count," orders"]})]},a))})}),o.jsx(Pr,{value:"highest-spend",className:"mt-4",children:o.jsx("div",{className:"space-y-2",children:e.highest_spend.slice(0,3).map((i,a)=>{var l;return o.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-slate-800/30",children:[o.jsx("div",{className:"text-sm text-white truncate flex-1",children:i.vendor}),o.jsxs("div",{className:"text-sm text-emerald-400 font-semibold ml-2",children:["$",(l=i.total_spend)==null?void 0:l.toLocaleString()]})]},a)})})}),o.jsx(Pr,{value:"avg-value",className:"mt-4",children:o.jsx("div",{className:"space-y-2",children:e.avg_order_value.slice(0,3).map((i,a)=>{var l;return o.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-slate-800/30",children:[o.jsx("div",{className:"text-sm text-white truncate flex-1",children:i.vendor}),o.jsxs("div",{className:"text-sm text-purple-400 font-semibold ml-2",children:["$",(l=i.avg_order_value)==null?void 0:l.toLocaleString()]})]},a)})})})]})})]}):null}function VNe(){const[e,t]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const i=await xz.getKPIData();t(i)}catch(i){console.error("Failed to load dashboard data:",i)}finally{n(!1)}};return o.jsxs(Ur,{maxWidth:"wide",children:[o.jsx(Pue,{}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(CR,{title:"Negative Alerts",count:(e==null?void 0:e.negativeAlerts)||0,icon:Va,type:"negative",loading:r,linkTo:"/analytics/alerts",subtitle:"Items requiring attention"}),o.jsx(CR,{title:"Positive Alerts",count:(e==null?void 0:e.positiveAlerts)||0,icon:Al,type:"positive",loading:r,linkTo:"/analytics/opportunities",subtitle:"Savings opportunities"}),o.jsx(Re,{to:"/invoices",className:"block",children:o.jsx(kR,{title:"Recent Invoices",value:(e==null?void 0:e.recentInvoicesCount)||0,icon:Si,loading:r,className:"bg-card-dark border-white/10 hover:border-cyan-500/50 transition-all duration-200 hover:-translate-y-1 hover:shadow-lg cursor-pointer h-full"})}),o.jsx(Re,{to:"/menu/dashboard",className:"block",children:o.jsx(kR,{title:"Menu Items",value:(e==null?void 0:e.menuItemsCount)||0,icon:Wa,loading:r,className:"bg-card-dark border-white/10 hover:border-orange-500/50 transition-all duration-200 hover:-translate-y-1 hover:shadow-lg cursor-pointer h-full"})})]}),o.jsx(LNe,{}),o.jsx(BNe,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Recently Ordered Items"}),o.jsx(Cde,{})]})]})]})}function jw({limit:e,featureName:t,className:r}){if(e.allowed)return null;const n=new Date(e.reset_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return o.jsxs(dt,{className:`border-yellow-500/30 bg-yellow-500/10 ${r||""}`,children:[o.jsx(Ot,{className:"h-4 w-4 text-yellow-400"}),o.jsxs(ft,{className:"text-yellow-200",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("strong",{className:"block mb-1",children:"Usage Limit Reached"}),o.jsx("p",{className:"text-sm mb-2",children:e.message}),o.jsxs("p",{className:"text-xs text-yellow-300/80",children:["Resets: ",n]})]}),e.subscription_tier==="free"&&o.jsx(Re,{to:"/pricing",children:o.jsxs(W,{size:"sm",className:"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:opacity-90 text-white",children:[o.jsx(tu,{className:"h-3 w-3 mr-1"}),"Upgrade"]})})]}),e.subscription_tier==="free"&&o.jsxs("p",{className:"text-xs text-yellow-300/80 mt-3 pt-3 border-t border-yellow-500/20",children:[" Upgrade to Premium for unlimited ",t]})]})]})}function Sw({limit:e,className:t}){const r=e.current_usage/e.limit*100,n=r>=80;return o.jsxs("div",{className:`text-xs ${t||""}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("span",{className:n?"text-yellow-400":"text-slate-400",children:[e.current_usage," of ",e.limit," used"]}),n&&e.current_usage<e.limit&&o.jsx("span",{className:"text-yellow-400",children:" Almost at limit"})]}),o.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5",children:o.jsx("div",{className:`h-1.5 rounded-full transition-all ${n?"bg-yellow-400":"bg-emerald-400"}`,style:{width:`${Math.min(r,100)}%`}})})]})}function mD(e,[t,r]){return Math.min(r,Math.max(t,e))}function WNe(e){const t=qNe(e),r=p.forwardRef((n,s)=>{const{children:i,...a}=n,l=p.Children.toArray(i),c=l.find(KNe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function qNe(e){const t=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const a=YNe(s),l=GNe(i,s.props);return s.type!==p.Fragment&&(l.ref=n?mo(n,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HNe=Symbol("radix.slottable");function KNe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HNe}function GNe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function YNe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _2(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var XNe=[" ","Enter","ArrowUp","ArrowDown"],QNe=[" ","Enter"],vu="Select",[Nw,Ew,JNe]=Q0(vu),[Kf]=Cs(vu,[JNe,$f]),kw=$f(),[ZNe,Ql]=Kf(vu),[eEe,tEe]=Kf(vu),X7=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,g=kw(t),[x,y]=p.useState(null),[w,b]=p.useState(null),[_,j]=p.useState(!1),S=J0(u),[N,E]=ia({prop:n,defaultProp:s??!1,onChange:i,caller:vu}),[A,P]=ia({prop:a,defaultProp:l,onChange:c,caller:vu}),C=p.useRef(null),k=x?v||!!x.closest("form"):!0,[D,T]=p.useState(new Set),L=Array.from(D).map(z=>z.props.value).join(";");return o.jsx(wC,{...g,children:o.jsxs(ZNe,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ei(),value:A,onValueChange:P,open:N,onOpenChange:E,dir:S,triggerPointerDownPosRef:C,disabled:h,children:[o.jsx(Nw.Provider,{scope:t,children:o.jsx(eEe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{T(X=>new Set(X).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{T(X=>{const I=new Set(X);return I.delete(z),I})},[]),children:r})}),k?o.jsxs(b9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:z=>P(z.target.value),disabled:h,form:v,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(D)]},L):null]})})};X7.displayName=vu;var Q7="SelectTrigger",J7=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=kw(r),a=Ql(Q7,r),l=a.disabled||n,c=tt(t,a.onTriggerChange),u=Ew(r),d=p.useRef("touch"),[f,h,m]=_9(g=>{const x=u().filter(b=>!b.disabled),y=x.find(b=>b.value===a.value),w=j9(x,g,y);w!==void 0&&a.onValueChange(w.value)}),v=g=>{l||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(_C,{asChild:!0,...i,children:o.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":w9(a.value)?"":void 0,...s,ref:c,onClick:ne(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:ne(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ne(s.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&XNe.includes(g.key)&&(v(),g.preventDefault())})})})});J7.displayName=Q7;var Z7="SelectValue",e9=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...l}=e,c=Ql(Z7,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=tt(t,c.onValueNodeChange);return vr(()=>{u(d)},[u,d]),o.jsx(Oe.span,{...l,ref:f,style:{pointerEvents:"none"},children:w9(c.value)?o.jsx(o.Fragment,{children:a}):i})});e9.displayName=Z7;var rEe="SelectIcon",t9=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(Oe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});t9.displayName=rEe;var nEe="SelectPortal",r9=e=>o.jsx(Af,{asChild:!0,...e});r9.displayName=nEe;var xu="SelectContent",n9=p.forwardRef((e,t)=>{const r=Ql(xu,e.__scopeSelect),[n,s]=p.useState();if(vr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?zl.createPortal(o.jsx(s9,{scope:e.__scopeSelect,children:o.jsx(Nw.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(i9,{...e,ref:t})});n9.displayName=xu;var ci=10,[s9,Jl]=Kf(xu),sEe="SelectContentImpl",iEe=WNe("SelectContent.RemoveScroll"),i9=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x,...y}=e,w=Ql(xu,r),[b,_]=p.useState(null),[j,S]=p.useState(null),N=tt(t,pe=>_(pe)),[E,A]=p.useState(null),[P,C]=p.useState(null),k=Ew(r),[D,T]=p.useState(!1),L=p.useRef(!1);p.useEffect(()=>{if(b)return aC(b)},[b]),iC();const z=p.useCallback(pe=>{const[Ke,...K]=k().map(G=>G.ref.current),[re]=K.slice(-1),fe=document.activeElement;for(const G of pe)if(G===fe||(G==null||G.scrollIntoView({block:"nearest"}),G===Ke&&j&&(j.scrollTop=0),G===re&&j&&(j.scrollTop=j.scrollHeight),G==null||G.focus(),document.activeElement!==fe))return},[k,j]),X=p.useCallback(()=>z([E,b]),[z,E,b]);p.useEffect(()=>{D&&X()},[D,X]);const{onOpenChange:I,triggerPointerDownPosRef:M}=w;p.useEffect(()=>{if(b){let pe={x:0,y:0};const Ke=re=>{var fe,G;pe={x:Math.abs(Math.round(re.pageX)-(((fe=M.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(re.pageY)-(((G=M.current)==null?void 0:G.y)??0))}},K=re=>{pe.x<=10&&pe.y<=10?re.preventDefault():b.contains(re.target)||I(!1),document.removeEventListener("pointermove",Ke),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Ke),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ke),document.removeEventListener("pointerup",K,{capture:!0})}}},[b,I,M]),p.useEffect(()=>{const pe=()=>I(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[I]);const[Q,J]=_9(pe=>{const Ke=k().filter(fe=>!fe.disabled),K=Ke.find(fe=>fe.ref.current===document.activeElement),re=j9(Ke,pe,K);re&&setTimeout(()=>re.ref.current.focus())}),ee=p.useCallback((pe,Ke,K)=>{const re=!L.current&&!K;(w.value!==void 0&&w.value===Ke||re)&&(A(pe),re&&(L.current=!0))},[w.value]),Ee=p.useCallback(()=>b==null?void 0:b.focus(),[b]),je=p.useCallback((pe,Ke,K)=>{const re=!L.current&&!K;(w.value!==void 0&&w.value===Ke||re)&&C(pe)},[w.value]),Fe=n==="popper"?MN:a9,ze=Fe===MN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return o.jsx(s9,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:ee,selectedItem:E,onItemLeave:Ee,itemTextRefCallback:je,focusSelectedItem:X,selectedItemText:P,position:n,isPositioned:D,searchRef:Q,children:o.jsx(L0,{as:iEe,allowPinchZoom:!0,children:o.jsx(M0,{asChild:!0,trapped:w.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:ne(s,pe=>{var Ke;(Ke=w.trigger)==null||Ke.focus({preventScroll:!0}),pe.preventDefault()}),children:o.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Fe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:pe=>pe.preventDefault(),...y,...ze,onPlaced:()=>T(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,pe=>{const Ke=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ke&&pe.key.length===1&&J(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let re=k().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const fe=pe.target,G=re.indexOf(fe);re=re.slice(G+1)}setTimeout(()=>z(re)),pe.preventDefault()}})})})})})})});i9.displayName=sEe;var aEe="SelectItemAlignedPosition",a9=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Ql(xu,r),a=Jl(xu,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=tt(t,N=>d(N)),h=Ew(r),m=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=a,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&x&&y){const N=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const fe=P.left-E.left,G=A.left-fe,Qe=N.left-G,Ue=N.width+Qe,vt=Math.max(Ue,E.width),wt=window.innerWidth-ci,Et=mD(G,[ci,Math.max(ci,wt-vt)]);l.style.minWidth=Ue+"px",l.style.left=Et+"px"}else{const fe=E.right-P.right,G=window.innerWidth-A.right-fe,Qe=window.innerWidth-N.right-G,Ue=N.width+Qe,vt=Math.max(Ue,E.width),wt=window.innerWidth-ci,Et=mD(G,[ci,Math.max(ci,wt-vt)]);l.style.minWidth=Ue+"px",l.style.right=Et+"px"}const C=h(),k=window.innerHeight-ci*2,D=g.scrollHeight,T=window.getComputedStyle(u),L=parseInt(T.borderTopWidth,10),z=parseInt(T.paddingTop,10),X=parseInt(T.borderBottomWidth,10),I=parseInt(T.paddingBottom,10),M=L+z+D+I+X,Q=Math.min(x.offsetHeight*5,M),J=window.getComputedStyle(g),ee=parseInt(J.paddingTop,10),Ee=parseInt(J.paddingBottom,10),je=N.top+N.height/2-ci,Fe=k-je,ze=x.offsetHeight/2,pe=x.offsetTop+ze,Ke=L+z+pe,K=M-Ke;if(Ke<=je){const fe=C.length>0&&x===C[C.length-1].ref.current;l.style.bottom="0px";const G=u.clientHeight-g.offsetTop-g.offsetHeight,Qe=Math.max(Fe,ze+(fe?Ee:0)+G+X),Ue=Ke+Qe;l.style.height=Ue+"px"}else{const fe=C.length>0&&x===C[0].ref.current;l.style.top="0px";const Qe=Math.max(je,L+g.offsetTop+(fe?ee:0)+ze)+K;l.style.height=Qe+"px",g.scrollTop=Ke-je+g.offsetTop}l.style.margin=`${ci}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,x,y,i.dir,n]);vr(()=>b(),[b]);const[_,j]=p.useState();vr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=p.useCallback(N=>{N&&v.current===!0&&(b(),w==null||w(),v.current=!1)},[b,w]);return o.jsx(lEe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});a9.displayName=aEe;var oEe="SelectPopperPosition",MN=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ci,...i}=e,a=kw(r);return o.jsx(jC,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});MN.displayName=oEe;var[lEe,j2]=Kf(xu,{}),$N="SelectViewport",o9=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Jl($N,r),a=j2($N,r),l=tt(t,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Nw.Slot,{scope:r,children:o.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-ci*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(g,x);if(y<v){const w=y+m,b=Math.min(v,w),_=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});o9.displayName=$N;var l9="SelectGroup",[cEe,uEe]=Kf(l9),dEe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ei();return o.jsx(cEe,{scope:r,id:s,children:o.jsx(Oe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});dEe.displayName=l9;var c9="SelectLabel",u9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=uEe(c9,r);return o.jsx(Oe.div,{id:s.id,...n,ref:t})});u9.displayName=c9;var Iy="SelectItem",[fEe,d9]=Kf(Iy),f9=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,l=Ql(Iy,r),c=Jl(Iy,r),u=l.value===n,[d,f]=p.useState(i??""),[h,m]=p.useState(!1),v=tt(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,s)}),g=Ei(),x=p.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(fEe,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Nw.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(Oe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:ne(a.onFocus,()=>m(!0)),onBlur:ne(a.onBlur,()=>m(!1)),onClick:ne(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ne(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ne(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ne(a.onPointerMove,w=>{var b;x.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ne(a.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(QNe.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});f9.displayName=Iy;var Fh="SelectItemText",h9=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Ql(Fh,r),l=Jl(Fh,r),c=d9(Fh,r),u=tEe(Fh,r),[d,f]=p.useState(null),h=tt(t,y=>f(y),c.onItemTextChange,y=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return vr(()=>(g(v),()=>x(v)),[g,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(Oe.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?zl.createPortal(i.children,a.valueNode):null]})});h9.displayName=Fh;var p9="SelectItemIndicator",m9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d9(p9,r).isSelected?o.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});m9.displayName=p9;var LN="SelectScrollUpButton",g9=p.forwardRef((e,t)=>{const r=Jl(LN,e.__scopeSelect),n=j2(LN,e.__scopeSelect),[s,i]=p.useState(!1),a=tt(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(x9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});g9.displayName=LN;var FN="SelectScrollDownButton",v9=p.forwardRef((e,t)=>{const r=Jl(FN,e.__scopeSelect),n=j2(FN,e.__scopeSelect),[s,i]=p.useState(!1),a=tt(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(x9,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});v9.displayName=FN;var x9=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Jl("SelectScrollButton",r),a=p.useRef(null),l=Ew(r),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),vr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Oe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ne(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{c()})})}),hEe="SelectSeparator",y9=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});y9.displayName=hEe;var UN="SelectArrow",pEe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kw(r),i=Ql(UN,r),a=Jl(UN,r);return i.open&&a.position==="popper"?o.jsx(SC,{...s,...n,ref:t}):null});pEe.displayName=UN;var mEe="SelectBubbleInput",b9=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=p.useRef(null),i=tt(n,s),a=_2(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(Oe.select,{...r,style:{...JU,...r.style},ref:i,defaultValue:t})});b9.displayName=mEe;function w9(e){return e===""||e===void 0}function _9(e){const t=Pn(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function j9(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=gEe(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function gEe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vEe=X7,Cw=J7,xEe=e9,S9=t9,N9=r9,Pw=n9,E9=o9,Aw=u9,Ow=f9,k9=h9,C9=m9,Tw=g9,Rw=v9,Iw=y9;const ca=vEe,ua=xEe,Ii=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Cw,{ref:n,className:$("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(S9,{asChild:!0,children:o.jsx(ji,{className:"h-4 w-4 opacity-50"})})]}));Ii.displayName=Cw.displayName;const P9=p.forwardRef(({className:e,...t},r)=>o.jsx(Tw,{ref:r,className:$("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Fc,{className:"h-4 w-4"})}));P9.displayName=Tw.displayName;const A9=p.forwardRef(({className:e,...t},r)=>o.jsx(Rw,{ref:r,className:$("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ji,{className:"h-4 w-4"})}));A9.displayName=Rw.displayName;const Di=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(N9,{children:o.jsxs(Pw,{ref:s,className:$("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(P9,{}),o.jsx(E9,{className:$("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(A9,{})]})}));Di.displayName=Pw.displayName;const yEe=p.forwardRef(({className:e,...t},r)=>o.jsx(Aw,{ref:r,className:$("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yEe.displayName=Aw.displayName;const ct=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Ow,{ref:n,className:$("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(C9,{children:o.jsx(kl,{className:"h-4 w-4"})})}),o.jsx(k9,{children:t})]}));ct.displayName=Ow.displayName;const bEe=p.forwardRef(({className:e,...t},r)=>o.jsx(Iw,{ref:r,className:$("-mx-1 my-1 h-px bg-muted",e),...t}));bEe.displayName=Iw.displayName;const S2=p.forwardRef(({className:e,onLocationSelect:t,onChange:r,...n},s)=>{const[i,a]=p.useState([]),[l,c]=p.useState(!1),[u,d]=p.useState(""),f=p.useRef(null),h=["New York, NY, USA","Los Angeles, CA, USA","Chicago, IL, USA","Houston, TX, USA","Phoenix, AZ, USA","Philadelphia, PA, USA","San Antonio, TX, USA","San Diego, CA, USA"],m=x=>{const y=x.target.value;if(d(y),y.length>2){const w=h.filter(b=>b.toLowerCase().includes(y.toLowerCase()));a(w.slice(0,5)),c(!0)}else c(!1);r&&r(x)},v=x=>{d(x),c(!1),r&&r({target:{value:x}}),t&&t(x)},g=()=>{setTimeout(()=>c(!1),150)};return p.useEffect(()=>{s&&typeof s=="object"&&(s.current=f.current)},[s]),o.jsxs("div",{className:"relative",children:[o.jsx(We,{...n,ref:f,value:u,onChange:m,onBlur:g,onFocus:()=>u.length>2&&c(!0),className:$("bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20",e),autoComplete:"off"}),l&&i.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-2 bg-card-dark border border-white/10 rounded-lg shadow-2xl max-h-60 overflow-auto",children:i.map((x,y)=>o.jsx("button",{type:"button",className:"w-full px-4 py-3 text-left text-white hover:bg-emerald-500/10 focus:bg-emerald-500/10 text-sm border-b border-white/5 last:border-b-0 transition-colors",onClick:()=>v(x),style:{minHeight:"44px"},children:x},y))})]})});S2.displayName="LocationAutocomplete";function wEe({value:e,onChange:t,userTier:r}){const n=[{id:"free",name:"Free Analysis",competitors:2,description:"Analyze 2 closest competitors",available:!0,badge:"Free",badgeColor:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",icon:Ni,borderColor:"border-emerald-500/50"},{id:"premium",name:"Premium Analysis",competitors:5,description:"Analyze 5 competitors with detailed insights",available:r!=="free",badge:r==="free"?"Upgrade Required":"Premium",badgeColor:r==="free"?"bg-amber-500/10 text-amber-400 border-amber-500/30":"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",icon:r==="free"?tu:b0,borderColor:"border-cyan-500/50"}];return o.jsx("div",{className:"space-y-3",children:n.map(s=>{const i=s.icon;return o.jsx(se,{className:$("cursor-pointer transition-all duration-200 bg-obsidian/50 border-white/10",e===s.id&&`ring-2 ${s.borderColor} ring-offset-0 bg-obsidian/80`,s.available&&"hover:border-white/20",!s.available&&"opacity-60 cursor-not-allowed"),onClick:()=>s.available&&t(s.id),"data-testid":`tier-${s.id}`,children:o.jsx(le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:$("p-1.5 rounded-lg",s.id==="free"?"bg-emerald-500/10":"bg-cyan-500/10"),children:o.jsx(i,{className:$("h-4 w-4",s.id==="free"?"text-emerald-400":"text-cyan-400")})}),o.jsx("h3",{className:"font-semibold text-base text-white",children:s.name}),o.jsx(ke,{className:`${s.badgeColor} border font-medium`,children:s.badge})]}),o.jsx("p",{className:"text-sm text-slate-400 mb-3 ml-10",children:s.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm ml-10",children:[o.jsxs("span",{className:"font-medium text-white",children:[s.competitors," competitors"]}),s.id==="premium"&&o.jsx("span",{className:"text-slate-400",children:"+ Detailed insights"})]})]}),o.jsx("div",{className:"flex items-center",children:s.available?o.jsx("div",{className:$("w-5 h-5 rounded-full border-2 transition-colors flex items-center justify-center",e===s.id?s.id==="free"?"bg-emerald-500 border-emerald-500":"bg-cyan-500 border-cyan-500":"border-slate-500"),children:e===s.id&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}):o.jsxs(W,{variant:"outline",size:"sm",className:"text-xs border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:text-amber-300",onClick:a=>{a.stopPropagation(),console.log("Navigate to upgrade")},children:[o.jsx(tu,{className:"h-3 w-3 mr-1"}),"Upgrade"]})})]})})},s.id)})})}const Dw=p.forwardRef(({className:e,value:t,...r},n)=>o.jsx(w0,{ref:n,className:$("relative h-2 w-full overflow-hidden rounded-full bg-slate-900/20",e),...r,children:o.jsx(W3,{className:"h-full w-full flex-1 bg-slate-900 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Dw.displayName=w0.displayName;function O9({competitors:e}){const t=n=>n>=4.5?{color:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",textColor:"text-emerald-400"}:n>=4?{color:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",textColor:"text-cyan-400"}:n>=3.5?{color:"bg-amber-500/10 text-amber-400 border-amber-500/30",textColor:"text-amber-400"}:{color:"bg-red-500/10 text-red-400 border-red-500/30",textColor:"text-red-400"},r=n=>n<1?`${(n*5280).toFixed(0)} ft`:`${n.toFixed(1)} mi`;return e.length===0?o.jsx(se,{className:"bg-obsidian/50 border-white/10",children:o.jsx(le,{className:"p-8 text-center",children:o.jsx("p",{className:"text-slate-400",children:"No competitors found in the analysis."})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map((n,s)=>{const i=t(n.rating);return o.jsxs(se,{className:"bg-obsidian/50 border-white/10 hover:border-emerald-500/30 transition-all duration-200 group",children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx(Te,{className:"text-base leading-tight text-white group-hover:text-emerald-400 transition-colors",children:n.competitor_name||n.name||"Unknown Restaurant"}),o.jsxs(ke,{className:`${i.color} border font-semibold shrink-0`,children:[o.jsx(Mp,{className:"h-3 w-3 mr-1"}),n.rating.toFixed(1)]})]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-400",children:[o.jsx(fa,{className:"h-4 w-4 shrink-0 mt-0.5"}),o.jsx("p",{className:"line-clamp-2",children:n.address||"Address not available"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-white/5",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[o.jsx(C3,{className:"h-4 w-4"}),o.jsx("span",{children:"Reviews"})]}),o.jsx("span",{className:"font-semibold text-white",children:n.review_count.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[o.jsx(Pk,{className:"h-4 w-4"}),o.jsx("span",{children:"Distance"})]}),o.jsx("span",{className:"font-semibold text-cyan-400",children:r(n.distance_miles)})]}),o.jsx("div",{className:"pt-2",children:o.jsxs(W,{variant:"outline",size:"sm",className:"w-full border-white/10 text-slate-300 hover:bg-emerald-500/10 hover:text-emerald-400 hover:border-emerald-500/30",onClick:()=>{console.log("View competitor details:",n.competitor_name||n.name)},children:[o.jsx(Cl,{className:"h-3 w-3 mr-2"}),"View Details"]})})]})]},n.competitor_id||n.place_id||n.id||s)})}),o.jsx("div",{className:"hidden lg:block",children:o.jsx(se,{className:"bg-obsidian/50 border-white/10",children:o.jsx(le,{className:"p-0",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-white/10",children:[o.jsx("th",{className:"text-left p-4 font-semibold text-slate-300 text-sm",children:"Name"}),o.jsx("th",{className:"text-left p-4 font-semibold text-slate-300 text-sm",children:"Rating"}),o.jsx("th",{className:"text-left p-4 font-semibold text-slate-300 text-sm",children:"Reviews"}),o.jsx("th",{className:"text-left p-4 font-semibold text-slate-300 text-sm",children:"Distance"}),o.jsx("th",{className:"text-left p-4 font-semibold text-slate-300 text-sm",children:"Address"})]})}),o.jsx("tbody",{children:e.map((n,s)=>{const i=t(n.rating);return o.jsxs("tr",{className:"border-b border-white/5 hover:bg-emerald-500/5 transition-colors",children:[o.jsx("td",{className:"p-4 font-medium text-white",children:n.competitor_name||n.name||"Unknown Restaurant"}),o.jsx("td",{className:"p-4",children:o.jsxs(ke,{className:`${i.color} border font-semibold`,children:[o.jsx(Mp,{className:"h-3 w-3 mr-1"}),n.rating.toFixed(1)]})}),o.jsx("td",{className:"p-4 text-white",children:n.review_count.toLocaleString()}),o.jsx("td",{className:"p-4 text-cyan-400 font-medium",children:r(n.distance_miles)}),o.jsx("td",{className:"p-4 text-sm text-slate-400 max-w-xs truncate",children:n.address})]},n.competitor_id||n.place_id||n.id||s)})})]})})})})})]})}function _Ee({insight:e,isExpanded:t,onToggle:r}){const n=l=>{switch(l){case"threat":return{bg:"bg-red-500/5",border:"border-red-500/30",text:"text-red-400",badge:"bg-red-500/10 text-red-400 border-red-500/30",icon:Va,hover:"hover:border-red-500/50"};case"opportunity":return{bg:"bg-emerald-500/5",border:"border-emerald-500/30",text:"text-emerald-400",badge:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",icon:E3,hover:"hover:border-emerald-500/50"};case"watch":return{bg:"bg-amber-500/5",border:"border-amber-500/30",text:"text-amber-400",badge:"bg-amber-500/10 text-amber-400 border-amber-500/30",icon:Cl,hover:"hover:border-amber-500/50"};default:return{bg:"bg-slate-500/5",border:"border-slate-500/30",text:"text-slate-400",badge:"bg-slate-500/10 text-slate-400 border-slate-500/30",icon:Zc,hover:"hover:border-slate-500/50"}}},s=l=>{switch(l){case"high":return"bg-cyan-500/10 text-cyan-400 border-cyan-500/30";case"medium":return"bg-amber-500/10 text-amber-400 border-amber-500/30";case"low":return"bg-slate-500/10 text-slate-400 border-slate-500/30";default:return"bg-slate-500/10 text-slate-400 border-slate-500/30"}},i=n(e.type||e.category),a=i.icon;return o.jsxs(se,{className:$("cursor-pointer transition-all duration-200 bg-obsidian/50 border-white/10",i.hover,i.bg,i.border,t&&"ring-2 ring-offset-0",t&&i.border.replace("border-","ring-")),onClick:r,children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("div",{className:$("p-2 rounded-lg",i.bg),children:o.jsx(a,{className:$("h-4 w-4",i.text)})}),o.jsx(Te,{className:"text-base leading-tight text-white",children:e.title})]}),o.jsx(ke,{className:$(s(e.confidence),"border shrink-0"),children:e.confidence})]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsx(gn,{className:"text-sm text-slate-400",children:e.description}),t&&o.jsxs("div",{className:"space-y-3 pt-3 border-t border-white/10",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm text-white mb-2",children:"Evidence"}),o.jsxs("blockquote",{className:$("text-sm italic text-slate-300 p-3 rounded border-l-4",i.bg,i.border),children:['"',e.proof_quote,'"']})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("span",{className:"text-slate-500",children:["Source:"," ",o.jsx("span",{className:"text-slate-300",children:e.competitor_name||"Multiple Sources"})]}),o.jsxs("span",{className:i.text,children:[e.mention_count," mentions"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs(ke,{className:$(i.badge,"border text-xs"),children:[o.jsx(a,{className:"h-3 w-3 mr-1"}),(e.type||e.category).charAt(0).toUpperCase()+(e.type||e.category).slice(1)]}),o.jsx(W,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-slate-400 hover:text-white hover:bg-white/5",onClick:l=>{l.stopPropagation(),r()},children:t?o.jsxs(o.Fragment,{children:[o.jsx(Fc,{className:"h-3 w-3 mr-1"}),"Less"]}):o.jsxs(o.Fragment,{children:[o.jsx(ji,{className:"h-3 w-3 mr-1"}),"More"]})})]})]})]})}function T9({insights:e}){const[t,r]=p.useState(null),[n,s]=p.useState("all"),[i,a]=p.useState(""),[l,c]=p.useState("significance");if(e.length===0)return o.jsx(dt,{className:"bg-slate-500/10 border-slate-500/30 text-slate-400",children:o.jsx(ft,{children:"No insights generated for this analysis. This may happen if competitors have limited review data."})});const d=[...e.filter(h=>{const m=n==="all"||(h.type||h.category)===n,v=i===""||h.title.toLowerCase().includes(i.toLowerCase())||h.description.toLowerCase().includes(i.toLowerCase())||h.proof_quote.toLowerCase().includes(i.toLowerCase())||(h.competitor_name||"").toLowerCase().includes(i.toLowerCase());return m&&v})].sort((h,m)=>{switch(l){case"confidence":const v={high:3,medium:2,low:1};return(v[m.confidence]||0)-(v[h.confidence]||0);case"mentions":return(m.mention_count||0)-(h.mention_count||0);case"significance":return(m.significance||0)-(h.significance||0);case"alphabetical":return h.title.localeCompare(m.title);default:return 0}}),f={all:e.length,threat:e.filter(h=>(h.type||h.category)==="threat").length,opportunity:e.filter(h=>(h.type||h.category)==="opportunity").length,watch:e.filter(h=>(h.type||h.category)==="watch").length};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),o.jsx(We,{placeholder:"Search insights, descriptions, or competitors...",value:i,onChange:h=>a(h.target.value),className:"h-11 pl-10 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),o.jsxs(ca,{value:l,onValueChange:h=>c(h),children:[o.jsx(Ii,{className:"w-48 h-11 bg-obsidian/50 border-white/10 text-white",children:o.jsx(ua,{placeholder:"Sort by..."})}),o.jsxs(Di,{className:"bg-card-dark border-white/10",children:[o.jsx(ct,{value:"significance",className:"text-white hover:bg-white/5",children:"Significance"}),o.jsx(ct,{value:"confidence",className:"text-white hover:bg-white/5",children:"Confidence"}),o.jsx(ct,{value:"mentions",className:"text-white hover:bg-white/5",children:"Mention Count"}),o.jsx(ct,{value:"alphabetical",className:"text-white hover:bg-white/5",children:"Alphabetical"})]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["all","threat","opportunity","watch"].map(h=>o.jsxs(W,{variant:n===h?"default":"outline",size:"sm",onClick:()=>s(h),className:$("text-xs",n===h?"bg-emerald-500 hover:bg-emerald-600 text-white":"border-white/10 text-slate-300 hover:bg-white/5"),children:[o.jsx(v0,{className:"h-3 w-3 mr-1"}),h==="all"?"All":h.charAt(0).toUpperCase()+h.slice(1),o.jsx(ke,{variant:"secondary",className:"ml-2 bg-white/10 text-white border-0",children:f[h]})]},h))}),o.jsx("div",{className:"flex items-center justify-between text-sm",children:o.jsxs("span",{className:"text-slate-400",children:["Showing ",d.length," of ",e.length," insights"]})})]}),d.length===0?o.jsx(dt,{className:"bg-slate-500/10 border-slate-500/30 text-slate-400",children:o.jsx(ft,{children:"No insights found matching your search criteria. Try adjusting your search or filter."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map((h,m)=>o.jsx(_Ee,{insight:h,isExpanded:t===`${h.title}-${m}`,onToggle:()=>r(t===`${h.title}-${m}`?null:`${h.title}-${m}`)},`${h.title}-${m}`))}),o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zt,{className:"h-5 w-5 text-emerald-400"}),o.jsx(Te,{className:"text-base text-white",children:"Insights Summary"})]})}),o.jsx(le,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-red-400",children:f.threat}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Threats"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:f.opportunity}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Opportunities"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-amber-400",children:f.watch}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Watch Items"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:e.filter(h=>h.confidence==="high").length}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"High Confidence"})]})]})})]})]})}function jEe({review:e,competitorName:t}){const[r,n]=p.useState(!1),s=l=>{try{return new Date(l).toLocaleDateString()}catch{return l}},i=l=>Array.from({length:5},(c,u)=>o.jsx(Mp,{className:$("h-4 w-4",u<l?"text-amber-400 fill-current":"text-slate-600")},u)),a=(l,c=150)=>l.length<=c?l:l.substring(0,c)+"...";return o.jsxs(se,{className:"bg-obsidian/50 border-white/10 hover:border-emerald-500/30 transition-all duration-200",children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Te,{className:"text-sm font-semibold text-white",children:t}),o.jsxs(gn,{className:"flex items-center gap-2 mt-2 text-slate-400",children:[o.jsx($p,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:e.author_name}),o.jsx(Jn,{className:"h-3 w-3 ml-2"}),o.jsx("span",{className:"text-xs",children:s(e.review_date)})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsx("div",{className:"flex items-center gap-1",children:i(e.rating)}),o.jsx(ke,{className:"bg-slate-500/10 text-slate-400 border-slate-500/30 border text-xs",children:e.source})]})]})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:r?e.text:a(e.text)}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.quality_score&&o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"text-slate-500",children:"Quality:"}),o.jsxs(ke,{className:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30 border",children:[Math.round(e.quality_score*100),"%"]})]}),e.text.length>150&&o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-7 px-2 text-xs text-slate-400 hover:text-white hover:bg-white/5",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Fc,{className:"h-3 w-3 mr-1"}),"Less"]}):o.jsxs(o.Fragment,{children:[o.jsx(ji,{className:"h-3 w-3 mr-1"}),"More"]})})]})]})})]})}function R9({analysisId:e,competitors:t}){const[r,n]=p.useState([]),[s,i]=p.useState(!0),[a,l]=p.useState(null),[c,u]=p.useState(""),[d,f]=p.useState("all"),[h,m]=p.useState("all");if(p.useEffect(()=>{if(console.log(" EvidenceReviewsDisplay useEffect triggered, analysisId:",e),!e){console.log(" No analysisId provided to EvidenceReviewsDisplay"),i(!1);return}(async()=>{var w,b;try{i(!0),l(null),console.log(` Fetching reviews for analysis: ${e}`);const _=await De.get(`/api/v1/streaming/${e}/reviews`);console.log(` Reviews API response status: ${_.status}`);const j=_.data;console.log(` Successfully received data with ${((w=j.reviews)==null?void 0:w.length)||0} reviews`),j.reviews&&j.reviews.length>0&&(console.log(" First review sample:",j.reviews[0]),console.log(" competitor_name:",j.reviews[0].competitor_name),console.log(" competitor_id:",j.reviews[0].competitor_id)),n(j.reviews||[]),console.log(` Set ${((b=j.reviews)==null?void 0:b.length)||0} reviews in state`)}catch(_){const j=_ instanceof Error?_.message:"Failed to load reviews";console.error(" Error fetching reviews:",_),l(j)}finally{i(!1)}})()},[e]),s)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hr,{className:"h-10 w-10 mx-auto mb-3 text-emerald-400 animate-spin"}),o.jsx("p",{className:"text-slate-400",children:"Loading review evidence..."})]});if(a)return o.jsx(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:o.jsx(ft,{children:a})});if(r.length===0)return o.jsx(dt,{className:"bg-slate-500/10 border-slate-500/30 text-slate-400",children:o.jsx(ft,{children:"No review evidence available. This may happen if competitors have limited review data or if the analysis is still in progress."})});const v=r.filter(y=>{const w=c===""||y.text.toLowerCase().includes(c.toLowerCase())||y.author_name.toLowerCase().includes(c.toLowerCase()),b=d==="all"||y.competitor_id===d,_=h==="all"||h==="high"&&y.rating>=4||h==="medium"&&y.rating===3||h==="low"&&y.rating<=2;return w&&b&&_}),g=y=>{if(y.competitor_name)return y.competitor_name;const w=t.find(b=>b.competitor_id===y.competitor_id);return(w==null?void 0:w.competitor_name)||"Unknown Competitor"},x={total:r.length,high:r.filter(y=>y.rating>=4).length,medium:r.filter(y=>y.rating===3).length,low:r.filter(y=>y.rating<=2).length,avgRating:r.reduce((y,w)=>y+w.rating,0)/r.length};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),o.jsx(We,{placeholder:"Search reviews...",value:c,onChange:y=>u(y.target.value),className:"h-11 pl-10 bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),o.jsxs(ca,{value:d,onValueChange:f,children:[o.jsx(Ii,{className:"w-48 h-11 bg-obsidian/50 border-white/10 text-white",children:o.jsx(ua,{placeholder:"All Competitors"})}),o.jsxs(Di,{className:"bg-card-dark border-white/10",children:[o.jsx(ct,{value:"all",className:"text-white hover:bg-white/5",children:"All Competitors"}),t.map(y=>o.jsx(ct,{value:y.competitor_id,className:"text-white hover:bg-white/5",children:y.competitor_name},y.competitor_id))]})]}),o.jsxs(ca,{value:h,onValueChange:m,children:[o.jsx(Ii,{className:"w-40 h-11 bg-obsidian/50 border-white/10 text-white",children:o.jsx(ua,{placeholder:"All Ratings"})}),o.jsxs(Di,{className:"bg-card-dark border-white/10",children:[o.jsx(ct,{value:"all",className:"text-white hover:bg-white/5",children:"All Ratings"}),o.jsx(ct,{value:"high",className:"text-white hover:bg-white/5",children:"4-5 Stars"}),o.jsx(ct,{value:"medium",className:"text-white hover:bg-white/5",children:"3 Stars"}),o.jsx(ct,{value:"low",className:"text-white hover:bg-white/5",children:"1-2 Stars"})]})]})]}),o.jsx("div",{className:"flex items-center justify-between text-sm",children:o.jsxs("span",{className:"text-slate-400",children:["Showing ",v.length," of ",r.length," reviews"]})})]}),o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(C3,{className:"h-5 w-5 text-cyan-400"}),o.jsx(Te,{className:"text-base text-white",children:"Review Summary"})]})}),o.jsx(le,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:x.total}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Total Reviews"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:x.high}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"4-5 Stars"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-amber-400",children:x.medium}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"3 Stars"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-red-400",children:x.low}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"1-2 Stars"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-white",children:x.avgRating.toFixed(1)}),o.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Avg Rating"})]})]})})]}),v.length===0?o.jsx(dt,{className:"bg-slate-500/10 border-slate-500/30 text-slate-400",children:o.jsx(ft,{children:"No reviews found matching your search criteria. Try adjusting your filters."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:v.map(y=>o.jsx(jEe,{review:y,competitorName:g(y)},y.id))})]})}function SEe(){const[e,t]=p.useState({status:"idle",competitors:[],insights:[],progress:0,currentStep:"",totalReviews:0,insightsCompleted:0,totalInsights:0}),[r,n]=p.useState(!1),s=p.useRef(null),i=p.useRef(null),a=p.useCallback(()=>{s.current&&(s.current.close(),s.current=null),i.current&&(i.current.abort(),i.current=null),n(!1)},[]),l=p.useCallback(c=>{a(),t(u=>({...u,status:"streaming",progress:0,currentStep:"Connecting...",competitors:[],insights:[],error:void 0,totalReviews:0,insightsCompleted:0,totalInsights:0})),i.current=new AbortController;try{const d="https://restaurantiq.us/api/v1/streaming/run/stream",f=async()=>{var m;try{const v=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream","Cache-Control":"no-cache"},body:JSON.stringify(c),credentials:"include",signal:(m=i.current)==null?void 0:m.signal});if(!v.ok)throw new Error(`HTTP ${v.status}: ${v.statusText}`);if(!v.body)throw new Error("No response body for streaming");n(!0);const g=v.body.getReader(),x=new TextDecoder;let y="";for(;;){const{done:w,value:b}=await g.read();if(w)break;const j=x.decode(b,{stream:!0}).split(`
`);for(const S of j){if(S.startsWith("event:")){y=S.substring(6).trim();continue}if(S.startsWith("data:"))try{const N=JSON.parse(S.substring(5).trim());h(y||"message",N)}catch{console.warn("Failed to parse SSE data:",S)}}}}catch(v){if(v instanceof Error&&v.name==="AbortError"){console.log("Streaming request aborted");return}console.error("Streaming request failed:",v),t(g=>({...g,status:"error",error:v instanceof Error?v.message:"Streaming failed"}))}finally{n(!1)}},h=(m,v)=>{var g,x,y,w,b,_,j,S,N,E,A;switch(m){case"analysis_started":t(C=>({...C,analysisId:v.analysis_id,currentStep:"Analysis started...",progress:5}));break;case"competitors_found":t(C=>({...C,competitors:v.competitors||[],currentStep:v.step||"Competitors found",progress:v.progress||20}));break;case"competitor_reviews":t(C=>({...C,currentStep:v.step||"Collecting reviews...",progress:v.progress||C.progress,totalReviews:v.total_reviews||C.totalReviews}));break;case"llm_analysis_started":t(C=>({...C,currentStep:v.step||"Generating competitive insights...",progress:v.progress||70,totalReviews:v.total_reviews||C.totalReviews}));break;case"insight_generated":const P={id:((g=v.insight)==null?void 0:g.id)||`insight-${Date.now()}`,title:((x=v.insight)==null?void 0:x.title)||"",description:((y=v.insight)==null?void 0:y.description)||"",category:((w=v.insight)==null?void 0:w.category)||"opportunity",confidence:((b=v.insight)==null?void 0:b.confidence)||"medium",proof_quote:((_=v.insight)==null?void 0:_.proof_quote)||"",competitor_name:((j=v.insight)==null?void 0:j.competitor_source)||((S=v.insight)==null?void 0:S.competitor_name),competitor_id:(N=v.insight)==null?void 0:N.competitor_id,mention_count:((E=v.insight)==null?void 0:E.mention_count)||0,significance:((A=v.insight)==null?void 0:A.significance)||0};t(C=>({...C,insights:[...C.insights,P],currentStep:v.step||"Generating insights...",progress:v.progress||C.progress,insightsCompleted:v.insights_completed||C.insightsCompleted+1,totalInsights:v.total_insights||C.totalInsights}));break;case"analysis_complete":console.log(" Analysis complete event received, preserving analysisId:",e.analysisId),t(C=>({...C,status:"complete",currentStep:"Analysis complete!",progress:100,analysisId:C.analysisId||v.analysis_id})),a();break;case"error":t(C=>({...C,status:"error",error:v.error||"Analysis failed"})),a();break;default:console.log("Unknown event type:",m,v)}};f()}catch(u){console.error("Failed to start streaming analysis:",u),t(d=>({...d,status:"error",error:u instanceof Error?u.message:"Failed to start analysis"}))}},[a]);return p.useEffect(()=>()=>{a()},[a]),{state:e,startAnalysis:l,stopAnalysis:a,isConnected:r}}function NEe({request:e,onComplete:t,onCancel:r}){var d;const n=Nt(),{state:s,startAnalysis:i,stopAnalysis:a,isConnected:l}=SEe();p.useEffect(()=>(i(e),()=>{a()}),[e,i,a]),p.useEffect(()=>{s.status==="complete"&&s.analysisId&&t&&t(s.analysisId)},[s.status,s.analysisId,t]);const c=()=>{switch(s.status){case"streaming":return o.jsx(Jn,{className:"h-5 w-5 text-blue-500 animate-spin"});case"complete":return o.jsx(eu,{className:"h-5 w-5 text-green-500"});case"error":return o.jsx(Ot,{className:"h-5 w-5 text-red-500"});default:return o.jsx(Jn,{className:"h-5 w-5 text-gray-400"})}},u=()=>s.progress<20?"2-3 minutes remaining":s.progress<50?"1-2 minutes remaining":s.progress<80?"30-60 seconds remaining":s.progress<95?"Almost done...":"Finalizing...";return s.status==="error"?o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-transparent to-red-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative container mx-auto px-4 py-12 max-w-2xl",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Re,{to:"/",className:"inline-flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"RestaurantIQ"})]})}),o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsx(ft,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"font-semibold",children:["Analysis failed: ",s.error]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(W,{onClick:()=>i(e),className:"bg-red-500 hover:bg-red-600",children:"Retry Analysis"}),o.jsx(W,{variant:"outline",onClick:r||(()=>n("/dashboard")),className:"border-white/10 text-white hover:bg-white/5",children:"Cancel"})]})]})})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsx("div",{className:"relative border-b border-white/10 bg-card-dark/50 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs(Re,{to:"/",className:"inline-flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"RestaurantIQ"})]})})}),o.jsxs("div",{className:"relative container mx-auto px-4 py-8 max-w-7xl space-y-6",children:[o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-lg animate-pulse"}),o.jsx("div",{className:"relative p-3 rounded-full bg-emerald-500/10 border border-emerald-500/30",children:c()})]}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-2xl font-bold text-white mb-1",children:e.restaurant_name}),o.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsx("span",{children:e.location})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ke,{className:`${s.status==="streaming"?"bg-cyan-500/10 text-cyan-400 border-cyan-500/30":s.status==="complete"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/30":"bg-red-500/10 text-red-400 border-red-500/30"} border font-semibold`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),l?o.jsx(O3,{className:"h-5 w-5 text-emerald-400"}):o.jsx(A3,{className:"h-5 w-5 text-red-400"})]})]})}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(Dw,{value:s.progress,className:"h-3 bg-obsidian/50"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-emerald-400 font-semibold",children:[s.progress,"% complete"]}),o.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[o.jsx(Jn,{className:"h-3 w-3"}),u()]})]})]}),o.jsx("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ni,{className:"h-5 w-5 text-cyan-400 mt-0.5 animate-pulse"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:"Current Step"}),o.jsx("p",{className:"text-sm text-slate-400",children:s.currentStep||"Initializing analysis..."}),s.totalReviews>0&&o.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-xs",children:[o.jsxs("span",{className:"text-slate-500",children:[o.jsx("span",{className:"text-emerald-400 font-semibold",children:s.totalReviews})," ","reviews collected"]}),s.totalInsights>0&&o.jsxs("span",{className:"text-slate-500",children:[o.jsxs("span",{className:"text-cyan-400 font-semibold",children:[s.insightsCompleted,"/",s.totalInsights]})," ","insights generated"]})]})]})]})}),s.status==="complete"&&s.analysisId&&o.jsxs(dt,{className:"bg-emerald-500/10 border-emerald-500/30",children:[o.jsx(eu,{className:"h-5 w-5 text-emerald-400"}),o.jsx(ft,{className:"text-emerald-300",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Analysis Complete & Saved!"}),o.jsx("p",{className:"text-sm text-emerald-400/80 mt-1",children:"Your analysis has been automatically saved and is available in your dashboard."})]})})})]}),o.jsx("div",{className:"flex justify-end gap-3 pt-2",children:s.status==="complete"&&s.analysisId?o.jsxs(o.Fragment,{children:[o.jsx(W,{variant:"outline",onClick:()=>n("/saved-analyses"),className:"border-white/10 text-slate-300 hover:bg-white/5",children:"View Saved Analyses"}),o.jsxs(W,{onClick:()=>n(`/analysis/${s.analysisId}/results`),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25",children:[o.jsx(Cl,{className:"h-4 w-4 mr-2"}),"View Full Results"]})]}):o.jsx(W,{variant:"outline",onClick:()=>{a(),r?r():n("/dashboard")},className:"border-white/10 text-slate-300 hover:bg-red-500/10 hover:text-red-400 hover:border-red-500/30",children:"Cancel Analysis"})})]})]}),(s.competitors.length>0||s.insights.length>0)&&o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hr,{className:"h-5 w-5 text-emerald-400 animate-spin"}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-white",children:"Live Results"}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Results appear as they're generated"})]})]})}),o.jsx(le,{children:o.jsxs(Pu,{defaultValue:"competitors",className:"w-full",children:[o.jsxs(Xl,{className:"grid w-full grid-cols-3 bg-obsidian/50 border border-white/10",children:[o.jsxs(Cr,{value:"competitors",className:"data-[state=active]:bg-emerald-500/10 data-[state=active]:text-emerald-400",children:[o.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Competitors (",s.competitors.length,")"]}),o.jsxs(Cr,{value:"insights",className:"data-[state=active]:bg-cyan-500/10 data-[state=active]:text-cyan-400",children:[o.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Insights (",s.insights.length,")"]}),o.jsxs(Cr,{value:"evidence",className:"data-[state=active]:bg-slate-500/10 data-[state=active]:text-slate-300",children:[o.jsx(Si,{className:"h-4 w-4 mr-2"}),"Evidence (",s.totalReviews,")"]})]}),o.jsx(Pr,{value:"competitors",className:"mt-6",children:s.competitors.length>0?o.jsx(O9,{competitors:s.competitors}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hr,{className:"h-10 w-10 mx-auto mb-3 text-emerald-400 animate-spin"}),o.jsx("p",{className:"text-slate-400",children:"Discovering competitors..."})]})}),o.jsx(Pr,{value:"insights",className:"mt-6",children:s.insights.length>0?o.jsx(T9,{insights:s.insights}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hr,{className:"h-10 w-10 mx-auto mb-3 text-cyan-400 animate-spin"}),o.jsx("p",{className:"text-slate-400",children:s.competitors.length>0?"Analyzing competitor reviews...":"Waiting for competitors..."})]})}),o.jsx(Pr,{value:"evidence",className:"mt-6",children:(s.totalReviews>0||s.status==="complete")&&s.analysisId?o.jsx(R9,{analysisId:s.analysisId,competitors:s.competitors}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hr,{className:"h-10 w-10 mx-auto mb-3 text-slate-400 animate-spin"}),o.jsx("p",{className:"text-slate-400",children:s.competitors.length>0?"Collecting review evidence...":"Waiting for competitors..."})]})})]})})]}),o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsx(Ne,{children:o.jsx(Te,{className:"text-lg text-white",children:"Analysis Details"})}),o.jsx(le,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Tier"}),o.jsx("div",{className:"font-semibold text-white capitalize mt-1",children:e.tier})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Category"}),o.jsx("div",{className:"font-semibold text-white capitalize mt-1",children:(d=e.category)==null?void 0:d.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Competitors"}),o.jsxs("div",{className:"font-semibold text-white mt-1",children:[o.jsx("span",{className:"text-emerald-400",children:s.competitors.length})," ","/ ",e.tier==="free"?2:5]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Reviews"}),o.jsx("div",{className:"font-semibold text-cyan-400 mt-1",children:s.totalReviews})]})]})})]})]})]})}const EEe=Object.prototype.toString;function kEe(e,t){return EEe.call(e)===`[object ${t}]`}function I9(e){return kEe(e,"Object")}function N2(e){return!!(e&&e.then&&typeof e.then=="function")}function sv(e){return e&&e.Math==Math?e:void 0}const ki=typeof globalThis=="object"&&sv(globalThis)||typeof window=="object"&&sv(window)||typeof self=="object"&&sv(self)||typeof global=="object"&&sv(global)||function(){return this}()||{};function D9(e,t,r){const n=r||ki,s=n.__SENTRY__=n.__SENTRY__||{};return s[e]||(s[e]=t())}const CEe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,PEe="Sentry Logger ",gD=["debug","info","warn","error","log","assert","trace"],vD={};function M9(e){if(!("console"in ki))return e();const t=ki.console,r={},n=Object.keys(vD);n.forEach(s=>{const i=vD[s];r[s]=t[s],t[s]=i});try{return e()}finally{n.forEach(s=>{t[s]=r[s]})}}function AEe(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return CEe?gD.forEach(r=>{t[r]=(...n)=>{e&&M9(()=>{ki.console[r](`${PEe}[${r}]:`,...n)})}}):gD.forEach(r=>{t[r]=()=>{}}),t}const sl=AEe();function kc(e){return zN(e,new Map)}function zN(e,t){if(OEe(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const s of Object.keys(e))typeof e[s]<"u"&&(n[s]=zN(e[s],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(s=>{n.push(zN(s,t))}),n}return e}function OEe(e){if(!I9(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}function na(){const e=ki,t=e.crypto||e.msCrypto;let r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function TEe(e){return Array.isArray(e)?e:[e]}var Sa;(function(e){e[e.PENDING=0]="PENDING";const r=1;e[e.RESOLVED=r]="RESOLVED";const n=2;e[e.REJECTED=n]="REJECTED"})(Sa||(Sa={}));class Uo{constructor(t){Uo.prototype.__init.call(this),Uo.prototype.__init2.call(this),Uo.prototype.__init3.call(this),Uo.prototype.__init4.call(this),this._state=Sa.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Uo((n,s)=>{this._handlers.push([!1,i=>{if(!t)n(i);else try{n(t(i))}catch(a){s(a)}},i=>{if(!r)s(i);else try{n(r(i))}catch(a){s(a)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Uo((r,n)=>{let s,i;return this.then(a=>{i=!1,s=a,t&&t()},a=>{i=!0,s=a,t&&t()}).then(()=>{if(i){n(s);return}r(s)})})}__init(){this._resolve=t=>{this._setResult(Sa.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Sa.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Sa.PENDING){if(N2(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Sa.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Sa.RESOLVED&&r[1](this._value),this._state===Sa.REJECTED&&r[2](this._value),r[0]=!0)})}}}const $9=1e3;function E2(){return Date.now()/$9}function REe(){const{performance:e}=ki;if(!e||!e.now)return E2;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/$9}const L9=REe();(()=>{const{performance:e}=ki;if(!e||!e.now)return;const t=3600*1e3,r=e.now(),n=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,i=s<t,a=e.timing&&e.timing.navigationStart,c=typeof a=="number"?Math.abs(a+r-n):t,u=c<t;return i||u?s<=c?e.timeOrigin:a:n})();const Wv=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,F9="production";function IEe(){return D9("globalEventProcessors",()=>[])}function BN(e,t,r,n=0){return new Uo((s,i)=>{const a=e[n];if(t===null||typeof a!="function")s(t);else{const l=a({...t},r);Wv&&a.id&&l===null&&sl.log(`Event processor "${a.id}" dropped event`),N2(l)?l.then(c=>BN(e,c,r,n+1).then(s)).then(null,i):BN(e,l,r,n+1).then(s).then(null,i)}})}function DEe(e){const t=L9(),r={sid:na(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>$Ee(r)};return e&&Mw(r,e),r}function Mw(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||L9(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:na()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function MEe(e,t){let r={};e.status==="ok"&&(r={status:"exited"}),Mw(e,r)}function $Ee(e){return kc({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const LEe=1;function FEe(e){const{spanId:t,traceId:r}=e.spanContext(),{data:n,op:s,parent_span_id:i,status:a,tags:l,origin:c}=Dy(e);return kc({data:n,op:s,parent_span_id:i,span_id:t,status:a,tags:l,trace_id:r,origin:c})}function Dy(e){return UEe(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function UEe(e){return typeof e.getSpanJSON=="function"}function zEe(e){const{traceFlags:t}=e.spanContext();return!!(t&LEe)}function BEe(e){if(e)return VEe(e)?{captureContext:e}:qEe(e)?{captureContext:e}:e}function VEe(e){return e instanceof qc||typeof e=="function"}const WEe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function qEe(e){return Object.keys(e).some(t=>WEe.includes(t))}function HEe(e,t){return k2().captureException(e,BEe(t))}function KEe(){return k2().getClient()}function GEe(){return k2().getScope()}function U9(e){return e.transaction}function YEe(e,t,r){const n=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=r&&r.getUser()||{},a=kc({environment:n.environment||F9,release:n.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",a),a}function XEe(e){const t=KEe();if(!t)return{};const r=YEe(Dy(e).trace_id||"",t,GEe()),n=U9(e);if(!n)return r;const s=n&&n._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:a}=n.metadata;i!=null&&(r.sample_rate=`${i}`);const l=Dy(n);return a&&a!=="url"&&(r.transaction=l.description),r.sampled=String(zEe(n)),t.emit&&t.emit("createDsc",r),r}function QEe(e,t){const{fingerprint:r,span:n,breadcrumbs:s,sdkProcessingMetadata:i}=t;JEe(e,t),n&&tke(e,n),rke(e,r),ZEe(e,s),eke(e,i)}function JEe(e,t){const{extra:r,tags:n,user:s,contexts:i,level:a,transactionName:l}=t,c=kc(r);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=kc(n);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=kc(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const f=kc(i);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),a&&(e.level=a),l&&(e.transaction=l)}function ZEe(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function eke(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function tke(e,t){e.contexts={trace:FEe(t),...e.contexts};const r=U9(t);if(r){e.sdkProcessingMetadata={dynamicSamplingContext:XEe(t),...e.sdkProcessingMetadata};const n=Dy(r).description;n&&(e.tags={transaction:n,...e.tags})}}function rke(e,t){e.fingerprint=e.fingerprint?TEe(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const nke=100;class qc{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=xD()}static clone(t){return t?t.clone():new qc}clone(){const t=new qc;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Mw(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t;if(r instanceof qc){const n=r.getScopeData();this._tags={...this._tags,...n.tags},this._extra={...this._extra,...n.extra},this._contexts={...this._contexts,...n.contexts},n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(I9(r)){const n=t;this._tags={...this._tags,...n.tags},this._extra={...this._extra,...n.extra},this._contexts={...this._contexts,...n.contexts},n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=xD(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:nke;if(n<=0)return this;const s={timestamp:E2(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:s,_extra:i,_user:a,_level:l,_fingerprint:c,_eventProcessors:u,_propagationContext:d,_sdkProcessingMetadata:f,_transactionName:h,_span:m}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:s,extra:i,user:a,level:l,fingerprint:c||[],eventProcessors:u,propagationContext:d,sdkProcessingMetadata:f,transactionName:h,span:m}}applyToEvent(t,r={},n=[]){QEe(t,this.getScopeData());const s=[...n,...IEe(),...this._eventProcessors];return BN(s,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:na();if(!this._client)return sl.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...r,event_id:n},this),n}captureMessage(t,r,n){const s=n&&n.event_id?n.event_id:na();if(!this._client)return sl.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:s},this),s}captureEvent(t,r){const n=r&&r.event_id?r.event_id:na();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(sl.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function xD(){return{traceId:na(),spanId:na().substring(16)}}const ske="7.120.4",z9=parseFloat(ske),ike=100;class B9{constructor(t,r,n,s=z9){this._version=s;let i;r?i=r:(i=new qc,i.setClient(t));let a;n?a=n:(a=new qc,a.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=a}isOlderThan(t){return this._version<t}bindClient(t){const r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const r=this.pushScope();let n;try{n=t(r)}catch(s){throw this.popScope(),s}return N2(n)?n.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:na(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...r,event_id:n}),n}captureMessage(t,r,n){const s=this._lastEventId=n&&n.event_id?n.event_id:na(),i=new Error(t);return this.getScope().captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:s}),s}captureEvent(t,r){const n=r&&r.event_id?r.event_id:na();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,{...r,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){const{scope:n,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=ike}=s.getOptions&&s.getOptions()||{};if(a<=0)return;const c={timestamp:E2(),...t},u=i?M9(()=>i(c,r)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,a))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){const{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){const r=yD(this);try{t(this)}finally{yD(r)}}getIntegration(t){const r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch{return Wv&&sl.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){const n=this._callExtensionMethod("startTransaction",t,r);return Wv&&!n&&(this.getClient()?sl.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):sl.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const r=this.getStackTop().scope,n=r.getSession();n&&MEe(n),this._sendSessionUpdate(),r.setSession()}startSession(t){const{scope:r,client:n}=this.getStackTop(),{release:s,environment:i=F9}=n&&n.getOptions()||{},{userAgent:a}=ki.navigator||{},l=DEe({release:s,environment:i,user:r.getUser(),...a&&{userAgent:a},...t}),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&Mw(c,{status:"exited"}),this.endSession(),r.setSession(l),l}shouldSendDefaultPii(){const t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){const s=$w().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,r);Wv&&sl.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function $w(){return ki.__SENTRY__=ki.__SENTRY__||{extensions:{},hub:void 0},ki}function yD(e){const t=$w(),r=VN(t);return V9(t,e),r}function k2(){const e=$w();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return ake(e)}function ake(e=$w()){return(!oke(e)||VN(e).isOlderThan(z9))&&V9(e,new B9),VN(e)}function oke(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function VN(e){return D9("hub",()=>new B9,e)}function V9(e,t){if(!e)return!1;const r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}var q=typeof window<"u"?window:void 0,Kn=typeof globalThis<"u"?globalThis:q,W9=Array.prototype,bD=W9.forEach,wD=W9.indexOf,ms=Kn==null?void 0:Kn.navigator,ue=Kn==null?void 0:Kn.document,Vn=Kn==null?void 0:Kn.location,WN=Kn==null?void 0:Kn.fetch,qN=Kn!=null&&Kn.XMLHttpRequest&&"withCredentials"in new Kn.XMLHttpRequest?Kn.XMLHttpRequest:void 0,_D=Kn==null?void 0:Kn.AbortController,Un=ms==null?void 0:ms.userAgent,Le=q??{},Na={DEBUG:!1,LIB_VERSION:"1.280.1"};function jD(e,t,r,n,s,i,a){try{var l=e[i](a),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function SD(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function a(c){jD(i,n,s,a,l,"next",c)}function l(c){jD(i,n,s,a,l,"throw",c)}a(void 0)})}}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(null,arguments)}function q9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lke=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Je(e,t){return e.indexOf(t)!==-1}var Lw=function(e){return e.trim()},HN=function(e){return e.replace(/^\$/,"")},cke=Array.isArray,H9=Object.prototype,K9=H9.hasOwnProperty,Fw=H9.toString,Mt=cke||function(e){return Fw.call(e)==="[object Array]"},bl=e=>typeof e=="function",on=e=>e===Object(e)&&!Mt(e),dd=e=>{if(on(e)){for(var t in e)if(K9.call(e,t))return!1;return!0}return!1},oe=e=>e===void 0,Er=e=>Fw.call(e)=="[object String]",KN=e=>Er(e)&&e.trim().length===0,So=e=>e===null,Dt=e=>oe(e)||So(e),da=e=>Fw.call(e)=="[object Number]",wl=e=>Fw.call(e)==="[object Boolean]",uke=e=>e instanceof FormData,dke=e=>Je(lke,e);function GN(e){return e===null||typeof e!="object"}function My(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function G9(e){return!oe(Event)&&function(t,r){try{return t instanceof r}catch{return!1}}(e,Event)}var fke=[!0,"true",1,"1","yes"],j1=e=>Je(fke,e),hke=[!1,"false",0,"0","no"];function Xi(e,t,r,n,s){return t>r&&(n.warn("min cannot be greater than max."),t=r),da(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+s),Xi(s||r,t,r,n))}class pke{constructor(t){this.t=t,this.i={},this.o=()=>{Object.keys(this.i).forEach(r=>{var n=this.h(r)+this.m;n>=this.S?delete this.i[r]:this.$(r,n)})},this.h=r=>this.i[String(r)],this.$=(r,n)=>{this.i[String(r)]=n},this.consumeRateLimit=r=>{var n,s,i=(n=this.h(r))!==null&&n!==void 0?n:this.S;if((i=Math.max(i-1,0))===0)return!0;this.$(r,i);var a=i===0;return a&&((s=this.k)==null||s.call(this,r)),a},this.k=this.t.k,this.S=Xi(this.t.bucketSize,0,100,this.t.P),this.m=Xi(this.t.refillRate,0,this.S,this.t.P),this.T=Xi(this.t.refillInterval,0,864e5,this.t.P),this.I=setInterval(()=>{this.o()},this.T)}stop(){this.I&&(clearInterval(this.I),this.I=void 0)}}var iv,ND,S1,mke=e=>e instanceof Error;function gke(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return S1&&r.length===ND||(ND=r.length,S1=r.reduce((n,s)=>{iv||(iv={});var i=iv[s];if(i)n[i[0]]=i[1];else for(var a=e(s),l=a.length-1;l>=0;l--){var c=a[l],u=c==null?void 0:c.filename,d=t[s];if(u&&d){n[u]=d,iv[s]=[u,d];break}}return n},{})),S1}}var df="?";function YN(e,t,r,n){var s={platform:"web:javascript",filename:e,function:t==="<anonymous>"?df:t,in_app:!0};return oe(r)||(s.lineno=r),oe(n)||(s.colno=n),s}var Y9=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:df,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},vke=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,xke=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,yke=/\((\S*)(?::(\d+))(?::(\d+))\)/,bke=e=>{var t=vke.exec(e);if(t){var[,r,n,s]=t;return YN(r,df,+n,+s)}var i=xke.exec(e);if(i){if(i[2]&&i[2].indexOf("eval")===0){var a=yke.exec(i[2]);a&&(i[2]=a[1],i[3]=a[2],i[4]=a[3])}var[l,c]=Y9(i[1]||df,i[2]);return YN(c,l,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},wke=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,_ke=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jke=e=>{var t=wke.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var r=_ke.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}var n=t[3],s=t[1]||df;return[s,n]=Y9(s,n),YN(n,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ED=/\(error: (.*)\)/,kD=50;function Ske(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n,s){s===void 0&&(s=0);for(var i=[],a=n.split(`
`),l=s;l<a.length;l++){var c=a[l];if(!(c.length>1024)){var u=ED.test(c)?c.replace(ED,"$1"):c;if(!u.match(/\S*Error: /)){for(var d of t){var f=d(u);if(f){i.push(f);break}}if(i.length>=kD)break}}}return function(h){if(!h.length)return[];var m=Array.from(h);return m.reverse(),m.slice(0,kD).map(v=>{return be({},v,{filename:v.filename||(g=m,g[g.length-1]||{}).filename,function:v.function||df});var g})}(i)}}class Nke{constructor(t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n=[]),this.coercers=t,this.modifiers=n,this.stackParser=Ske(...r)}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},s=this.buildCoercingContext(n,r,0).apply(t),i=this.buildParsingContext(),a=this.parseStacktrace(s,i);return{$exception_list:this.convertToExceptionList(a,n),$exception_level:"error"}}modifyFrames(t){var r=this;return SD(function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&Mt(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t})()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,s;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(s=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),be({},t,{cause:n,stack:s})}applyChunkIds(t,r){return t.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return SD(function*(){var n=t;for(var s of r.modifiers)n=yield s(n);return n})()}convertToExceptionList(t,r){var n,s,i,a={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(s=r.handled)===null||s===void 0||s,synthetic:(i=t.synthetic)!==null&&i!==void 0&&i}};t.stack&&(a.stacktrace={type:"raw",frames:t.stack});var l=[a];return t.cause!=null&&l.push(...this.convertToExceptionList(t.cause,be({},r,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:gke(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var s=(i,a)=>{if(a<=4){var l=this.buildCoercingContext(t,r,a);return this.applyCoercers(i,l)}};return be({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:i=>s(i,n),next:i=>s(i,n+1)})}}class Eke{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=Er(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return My(t,"DOMException")}isDOMError(t){return My(t,"DOMError")}}class kke{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}class Cke{constructor(){}match(t){return My(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,s=r.apply(t.error);return s||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}var Pke=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class Ake{match(t){return typeof t=="string"}coerce(t,r){var n,[s,i]=this.getInfos(t);return{type:s??"Error",value:i??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,s=t.match(Pke);return s&&(r=s[1],n=s[2]),[r,n]}}var Oke=["fatal","error","warning","log","info","debug"];function X9(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var s=r.slice(0,n).join(", ");if(!(s.length>t))return n===r.length||s.length<=t?s:s.slice(0,t)+"..."}return""}class Tke{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,s=this.getErrorPropertyFromObject(t);return s?r.apply(s):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return G9(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+X9(t)}isSeverityLevel(t){return Er(t)&&!KN(t)&&Oke.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(mke(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class Rke{match(t){return G9(t)}coerce(t,r){var n,s=t.constructor.name;return{type:s,value:s+" captured as exception with keys: "+X9(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class Ike{match(t){return GN(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class Dke{match(t){return My(t,"PromiseRejectionEvent")}coerce(t,r){var n,s=this.getUnhandledRejectionReason(t);return GN(s)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(s)}getUnhandledRejectionReason(t){if(GN(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}}var Q9=e=>{var t={R:function(r){if(q&&(Na.DEBUG||Le.POSTHOG_DEBUG)&&!oe(q.console)&&q.console){for(var n=("__rrweb_original__"in q.console[r])?q.console[r].__rrweb_original__:q.console[r],s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];n(e,...i)}},info:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];t.R("log",...n)},warn:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];t.R("warn",...n)},error:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];t.R("error",...n)},critical:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];console.error(e,...n)},uninitializedWarning:r=>{t.error("You must initialize PostHog before calling "+r)},createLogger:r=>Q9(e+" "+r)};return t},me=Q9("[PostHog.js]"),qr=me.createLogger,Mke=qr("[ExternalScriptsLoader]"),CD=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return Mke.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=ue==null?void 0:ue.querySelectorAll("script");if(n){for(var s,i=function(){if(n[a].src===t){var c=n[a];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",u=>{c.__posthog_loading_callback_fired=!0,r(void 0,u)}),c.onerror=u=>r(u),{v:void 0})}},a=0;a<n.length;a++)if(s=i())return s.v}var l=()=>{if(!ue)return r("document not found");var c=ue.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=f=>{c.__posthog_loading_callback_fired=!0,r(void 0,f)},c.onerror=f=>r(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var u,d=ue.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(c,d[0]):ue.body.appendChild(c)};ue!=null&&ue.body?l():ue==null||ue.addEventListener("DOMContentLoaded",l)};Le.__PosthogExtensions__=Le.__PosthogExtensions__||{},Le.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var s=3e5;n=n+"&t="+Math.floor(Date.now()/s)*s}var i=e.requestRouter.endpointFor("assets",n);CD(e,i,r)},Le.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);CD(e,n,r)};var $y={};function _l(e,t,r){if(Mt(e)){if(bD&&e.forEach===bD)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,s=e.length;n<s;n++)if(n in e&&t.call(r,e[n],n)===$y)return}}}function Pt(e,t,r){if(!Dt(e)){if(Mt(e))return _l(e,t,r);if(uke(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===$y)return}else for(var s in e)if(K9.call(e,s)&&t.call(r,e[s],s)===$y)return}}var rr=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return _l(r,function(s){for(var i in s)s[i]!==void 0&&(e[i]=s[i])}),e},Gf=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return _l(r,function(s){_l(s,function(i){e.push(i)})}),e};function qv(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var PD=function(e){try{return e()}catch{return}},$ke=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(s){me.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),me.critical(s)}}},C2=function(e){var t={};return Pt(e,function(r,n){(Er(r)&&r.length>0||da(r))&&(t[n]=r)}),t};function Lke(e,t){return r=e,n=i=>Er(i)&&!So(t)?i.slice(0,t):i,s=new Set,function i(a,l){return a!==Object(a)?n?n(a,l):a:s.has(a)?void 0:(s.add(a),Mt(a)?(c=[],_l(a,u=>{c.push(i(u))})):(c={},Pt(a,(u,d)=>{s.has(u)||(c[d]=i(u,d))})),c);var c}(r);var r,n,s}var Fke=["herokuapp.com","vercel.app","netlify.app"];function Uke(e){var t=e==null?void 0:e.hostname;if(!Er(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of Fke)if(r===n)return!1;return!0}function J9(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function fr(e,t,r,n){var{capture:s=!1,passive:i=!0}=n??{};e==null||e.addEventListener(t,r,{capture:s,passive:i})}var Z9="$people_distinct_id",Uh="__alias",zh="__timers",AD="$autocapture_disabled_server_side",XN="$heatmaps_enabled_server_side",OD="$exception_capture_enabled_server_side",QN="$error_tracking_suppression_rules",TD="$error_tracking_capture_extension_exceptions",RD="$web_vitals_enabled_server_side",eq="$dead_clicks_enabled_server_side",ID="$web_vitals_allowed_metrics",N1="$session_recording_remote_config",Ly="$sesid",tq="$session_is_sampled",fd="$enabled_feature_flags",Bh="$early_access_features",JN="$feature_flag_details",Vh="$stored_person_properties",dc="$stored_group_properties",ZN="$surveys",av="$surveys_activated",Fy="$flag_call_reported",Ea="$user_state",eE="$client_session_props",tE="$capture_rate_limit",rE="$initial_campaign_params",nE="$initial_referrer_info",Uy="$initial_person_info",zy="$epp",rq="__POSTHOG_TOOLBAR__",wh="$posthog_cookieless",zke=[Z9,Uh,"__cmpns",zh,"$session_recording_enabled_server_side",XN,Ly,fd,QN,Ea,Bh,JN,dc,Vh,ZN,Fy,eE,tE,rE,nE,zy,Uy];function DD(e){return e instanceof Element&&(e.id===rq||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Uw(e){return!!e&&e.nodeType===1}function jl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function nq(e){return!!e&&e.nodeType===3}function sq(e){return!!e&&e.nodeType===11}function P2(e){return e?Lw(e).split(/\s+/):[]}function MD(e){var t=q==null?void 0:q.location.href;return!!(t&&e&&e.some(r=>t.match(r)))}function By(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return P2(t)}function iq(e){return Dt(e)?null:Lw(e).split(/(\s+)/).filter(t=>lm(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function zw(e){var t="";return sE(e)&&!uq(e)&&e.childNodes&&e.childNodes.length&&Pt(e.childNodes,function(r){var n;nq(r)&&r.textContent&&(t+=(n=iq(r.textContent))!==null&&n!==void 0?n:"")}),Lw(t)}function aq(e){return oe(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var A2=["a","button","form","input","select","textarea","label"];function oq(e,t){if(oe(t))return!0;var r,n=function(i){if(t.some(a=>i.matches(a)))return{v:!0}};for(var s of e)if(r=n(s))return r.v;return!1}function lq(e){var t=e.parentNode;return!(!t||!Uw(t))&&t}var $D=[".ph-no-rageclick",".ph-no-capture"],O2=e=>!e||jl(e,"html")||!Uw(e),cq=(e,t)=>{if(!q||O2(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],s=e;s.parentNode&&!jl(s,"body");)if(sq(s.parentNode))n.push(s.parentNode.host),s=s.parentNode.host;else{var i=lq(s);if(!i)break;if(t||A2.indexOf(i.tagName.toLowerCase())>-1)r=!0;else{var a=q.getComputedStyle(i);a&&a.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(i),s=i}return{parentIsUsefulElement:r,targetElementList:n}};function Bke(e,t,r,n,s){var i,a,l,c;if(r===void 0&&(r=void 0),!q||O2(e)||(i=r)!=null&&i.url_allowlist&&!MD(r.url_allowlist)||(a=r)!=null&&a.url_ignorelist&&MD(r.url_ignorelist))return!1;if((l=r)!=null&&l.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(v=>t.type===v))return!1}var{parentIsUsefulElement:d,targetElementList:f}=cq(e,n);if(!function(v,g){var x=g==null?void 0:g.element_allowlist;if(oe(x))return!0;var y,w=function(_){if(x.some(j=>_.tagName.toLowerCase()===j))return{v:!0}};for(var b of v)if(y=w(b))return y.v;return!1}(f,r)||!oq(f,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var h=q.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var m=e.tagName.toLowerCase();switch(m){case"html":return!1;case"form":return(s||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(t.type)>=0;default:return d?(s||["click"]).indexOf(t.type)>=0:(s||["click"]).indexOf(t.type)>=0&&(A2.indexOf(m)>-1||e.getAttribute("contenteditable")==="true")}}function sE(e){for(var t=e;t.parentNode&&!jl(t,"body");t=t.parentNode){var r=By(t);if(Je(r,"ph-sensitive")||Je(r,"ph-no-capture"))return!1}if(Je(By(e),"ph-include"))return!0;var n=e.type||"";if(Er(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!(Er(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function uq(e){return!!(jl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||jl(e,"select")||jl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var dq="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Vke=new RegExp("^(?:"+dq+")$"),Wke=new RegExp(dq),fq="\\d{3}-?\\d{2}-?\\d{4}",qke=new RegExp("^("+fq+")$"),Hke=new RegExp("("+fq+")");function lm(e,t){return t===void 0&&(t=!0),!(Dt(e)||Er(e)&&(e=Lw(e),(t?Vke:Wke).test((e||"").replace(/[- ]/g,""))||(t?qke:Hke).test(e)))}function hq(e){var t=zw(e);return lm(t=(t+" "+pq(e)).trim())?t:""}function pq(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Pt(e.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var s=zw(r);t=(t+" "+s).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+pq(r)).trim())}catch(i){me.error("[AutoCapture]",i)}}),t}function Kke(e){return function(t){var r=t.map(n=>{var s,i,a="";if(n.tag_name&&(a+=n.tag_name),n.attr_class)for(var l of(n.attr_class.sort(),n.attr_class))a+="."+l.replace(/"/g,"");var c=be({},n.text?{text:n.text}:{},{"nth-child":(s=n.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(i=n.nth_of_type)!==null&&i!==void 0?i:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return qv(c).sort((d,f)=>{var[h]=d,[m]=f;return h.localeCompare(m)}).forEach(d=>{var[f,h]=d;return u[LD(f.toString())]=LD(h.toString())}),a+=":",a+=qv(u).map(d=>{var[f,h]=d;return f+'="'+h+'"'}).join("")});return r.join(";")}(function(t){return t.map(r=>{var n,s,i={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(s=r.attr__href)==null?void 0:s.slice(0,2048),attr_class:Gke(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return qv(r).filter(a=>{var[l]=a;return l.indexOf("attr__")===0}).forEach(a=>{var[l,c]=a;return i.attributes[l]=c}),i})}(e))}function LD(e){return e.replace(/"|\\"/g,'\\"')}function Gke(e){var t=e.attr__class;return t?Mt(t)?t:P2(t):void 0}class mq{constructor(){this.clicks=[]}isRageClick(t,r,n){var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(t-s.x)+Math.abs(r-s.y)<30&&n-s.timestamp<1e3){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}}var E1="$copy_autocapture",Ma=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),Vy=e=>{var t=ue==null?void 0:ue.createElement("a");return oe(t)?null:(t.href=e,t)},Yke=function(e,t){var r,n;t===void 0&&(t="&");var s=[];return Pt(e,function(i,a){oe(i)||oe(a)||a==="undefined"||(r=encodeURIComponent((l=>l instanceof File)(i)?i.name:i.toString()),n=encodeURIComponent(a),s[s.length]=n+"="+r)}),s.join(t)},Wy=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<n.length;s++){var i=n[s].split("=");if(i[0]===t){r=i;break}}if(!Mt(r)||r.length<2)return"";var a=r[1];try{a=decodeURIComponent(a)}catch{me.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},tg=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),s=n[0]||"",i=n[1],a=s.split("?"),l=a[1],c=a[0],u=(l||"").split("&"),d=[],f=0;f<u.length;f++){var h=u[f].split("=");Mt(h)&&(t.includes(h[0])?d.push(h[0]+"="+r):d.push(u[f]))}var m=c;return l!=null&&(m+="?"+d.join("&")),i!=null&&(m+="#"+i),m},qy=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},FD=qr("[AutoCapture]");function k1(e,t){return t.length>e?t.slice(0,e)+"...":t}function Xke(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Uw(t));return t}function Qke(e,t,r,n){var s=e.tagName.toLowerCase(),i={tag_name:s};A2.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?i.$el_text=k1(1024,hq(e)):i.$el_text=k1(1024,zw(e)));var a=By(e);a.length>0&&(i.classes=a.filter(function(d){return d!==""})),Pt(e.attributes,function(d){var f;if((!uq(e)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(n==null||!n.includes(d.name))&&!t&&lm(d.value)&&(f=d.name,!Er(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=d.value;d.name==="class"&&(h=P2(h).join(" ")),i["attr__"+d.name]=k1(1024,h)}});for(var l=1,c=1,u=e;u=Xke(u);)l++,u.tagName===e.tagName&&c++;return i.nth_child=l,i.nth_of_type=c,i}function Jke(e,t){for(var r,n,{e:s,maskAllElementAttributes:i,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:c}=t,u=[e],d=e;d.parentNode&&!jl(d,"body");)sq(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,h=[],m={},v=!1,g=!1;if(Pt(u,_=>{var j=sE(_);_.tagName.toLowerCase()==="a"&&(v=_.getAttribute("href"),v=j&&v&&lm(v)&&v),Je(By(_),"ph-no-capture")&&(g=!0),h.push(Qke(_,i,a,l));var S=function(N){if(!sE(N))return{};var E={};return Pt(N.attributes,function(A){if(A.name&&A.name.indexOf("data-ph-capture-attribute")===0){var P=A.name.replace("data-ph-capture-attribute-",""),C=A.value;P&&C&&lm(C)&&(E[P]=C)}}),E}(_);rr(m,S)}),g)return{props:{},explicitNoCapture:g};if(a||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=hq(e):h[0].$el_text=zw(e)),v){var x,y;h[0].attr__href=v;var w=(x=Vy(v))==null?void 0:x.host,b=q==null||(y=q.location)==null?void 0:y.host;w&&b&&w!==b&&(f=v)}return{props:rr({$event_type:s.type,$ce_version:1},c?{}:{$elements:h},{$elements_chain:Kke(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},f&&s.type==="click"?{$external_click_url:f}:{},m)}}class Zke{constructor(t){this.C=!1,this.O=null,this.rageclicks=new mq,this.F=!1,this.instance=t,this.M=null}get A(){var t,r,n=on(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map(s=>new RegExp(s)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(s=>new RegExp(s)),n}j(){if(this.isBrowserSupported()){if(q&&ue){var t=n=>{n=n||(q==null?void 0:q.event);try{this.D(n)}catch(s){FD.error("Failed to capture event",s)}};if(fr(ue,"submit",t,{capture:!0}),fr(ue,"change",t,{capture:!0}),fr(ue,"click",t,{capture:!0}),this.A.capture_copied_text){var r=n=>{n=n||(q==null?void 0:q.event),this.D(n,E1)};fr(ue,"copy",r,{capture:!0}),fr(ue,"cut",r,{capture:!0})}}}else FD.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.j(),this.C=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.F=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[AD]:!!t.autocapture_opt_out}),this.O=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.M=t}getElementSelectors(t){var r,n=[];return(r=this.M)==null||r.forEach(s=>{var i=ue==null?void 0:ue.querySelectorAll(s);i==null||i.forEach(a=>{t===a&&n.push(s)})}),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[AD],s=this.O;if(So(s)&&!wl(n)&&!this.instance.L())return!1;var i=(r=this.O)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!i}D(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,s=aq(t);nq(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&function(h,m){if(!q||O2(h))return!1;var v,g;if((v=wl(m)?!!m&&$D:(g=m==null?void 0:m.css_selector_ignorelist)!==null&&g!==void 0?g:$D)===!1)return!1;var{targetElementList:x}=cq(h,!1);return!oq(x,v)}(s,this.instance.config.rageclick)&&this.D(t,"$rageclick");var i=r===E1;if(s&&Bke(s,t,this.A,i,i?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:l}=Jke(s,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.F});if(l)return!1;var c=this.getElementSelectors(s);if(c&&c.length>0&&(a.$element_selectors=c),r===E1){var u,d=iq(q==null||(u=q.getSelection())==null?void 0:u.toString()),f=t.type||"clipboard";if(!d)return!1;a.$selected_content=d,a.$copy_type=f}return this.instance.capture(r,a),!0}}}isBrowserSupported(){return bl(ue==null?void 0:ue.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return da(e)&&isFinite(e)&&Math.floor(e)===e});var UD="0123456789abcdef";class Hy{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,s){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||t<0||r<0||n<0||s<0||t>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=t/Math.pow(2,40),i[1]=t/Math.pow(2,32),i[2]=t/Math.pow(2,24),i[3]=t/Math.pow(2,16),i[4]=t/Math.pow(2,8),i[5]=t,i[6]=112|r>>>8,i[7]=r,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new Hy(i)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+UD.charAt(this.bytes[r]>>>4)+UD.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new Hy(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class eCe{constructor(){this.N=0,this.U=0,this.H=new tCe}generate(){var t=this.generateOrAbort();if(oe(t)){this.N=0;var r=this.generateOrAbort();if(oe(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.N)this.N=t,this.B();else{if(!(t+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return Hy.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.H.nextUint32())}B(){this.U=1024*this.H.nextUint32()+(1023&this.H.nextUint32())}}var zD,gq=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};q&&!oe(q.crypto)&&crypto.getRandomValues&&(gq=e=>crypto.getRandomValues(e));class tCe{constructor(){this.q=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.q.length&&(gq(this.q),this.W=0),this.q[this.W++]}}var il=()=>rCe().toString(),rCe=()=>(zD||(zD=new eCe)).generate(),_h="",nCe=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function sCe(e,t){if(t){var r=function(s,i){if(i===void 0&&(i=ue),_h)return _h;if(!i||["localhost","127.0.0.1"].includes(s))return"";for(var a=s.split("."),l=Math.min(a.length,8),c="dmn_chk_"+il();!_h&&l--;){var u=a.slice(l).join("."),d=c+"=1;domain=."+u+";path=/";i.cookie=d+";max-age=3",i.cookie.includes(c)&&(i.cookie=d+";max-age=0",_h=u)}return _h}(e);if(!r){var n=(s=>{var i=s.match(nCe);return i?i[0]:""})(e);n!==r&&me.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var sa={G:()=>!!ue,V:function(e){me.error("cookieStore error: "+e)},J:function(e){if(ue){try{for(var t=e+"=",r=ue.cookie.split(";").filter(i=>i.length),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}}catch{}return null}},K:function(e){var t;try{t=JSON.parse(sa.J(e))||{}}catch{}return t},Y:function(e,t,r,n,s){if(ue)try{var i="",a="",l=sCe(ue.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),i="; expires="+c.toUTCString()}s&&(a="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+i+"; SameSite=Lax; path=/"+l+a;return u.length>3686.4&&me.warn("cookieStore warning: large cookie, len="+u.length),ue.cookie=u,u}catch{return}},X:function(e,t){if(ue!=null&&ue.cookie)try{sa.Y(e,"",-1,t)}catch{return}}},C1=null,Wt={G:function(){if(!So(C1))return C1;var e=!0;if(oe(q))e=!1;else try{var t="__mplssupport__";Wt.Y(t,"xyz"),Wt.J(t)!=='"xyz"'&&(e=!1),Wt.X(t)}catch{e=!1}return e||me.error("localStorage unsupported; falling back to cookie store"),C1=e,e},V:function(e){me.error("localStorage error: "+e)},J:function(e){try{return q==null?void 0:q.localStorage.getItem(e)}catch(t){Wt.V(t)}return null},K:function(e){try{return JSON.parse(Wt.J(e))||{}}catch{}return null},Y:function(e,t){try{q==null||q.localStorage.setItem(e,JSON.stringify(t))}catch(r){Wt.V(r)}},X:function(e){try{q==null||q.localStorage.removeItem(e)}catch(t){Wt.V(t)}}},iCe=["distinct_id",Ly,tq,zy,Uy],ov=be({},Wt,{K:function(e){try{var t={};try{t=sa.K(e)||{}}catch{}var r=rr(t,JSON.parse(Wt.J(e)||"{}"));return Wt.Y(e,r),r}catch{}return null},Y:function(e,t,r,n,s,i){try{Wt.Y(e,t,void 0,void 0,i);var a={};iCe.forEach(l=>{t[l]&&(a[l]=t[l])}),Object.keys(a).length&&sa.Y(e,a,r,n,s,i)}catch(l){Wt.V(l)}},X:function(e,t){try{q==null||q.localStorage.removeItem(e),sa.X(e,t)}catch(r){Wt.V(r)}}}),lv={},aCe={G:function(){return!0},V:function(e){me.error("memoryStorage error: "+e)},J:function(e){return lv[e]||null},K:function(e){return lv[e]||null},Y:function(e,t){lv[e]=t},X:function(e){delete lv[e]}},rc=null,Yr={G:function(){if(!So(rc))return rc;if(rc=!0,oe(q))rc=!1;else try{var e="__support__";Yr.Y(e,"xyz"),Yr.J(e)!=='"xyz"'&&(rc=!1),Yr.X(e)}catch{rc=!1}return rc},V:function(e){me.error("sessionStorage error: ",e)},J:function(e){try{return q==null?void 0:q.sessionStorage.getItem(e)}catch(t){Yr.V(t)}return null},K:function(e){try{return JSON.parse(Yr.J(e))||null}catch{}return null},Y:function(e,t){try{q==null||q.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Yr.V(r)}},X:function(e){try{q==null||q.sessionStorage.removeItem(e)}catch(t){Yr.V(t)}}},ka=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class oCe{constructor(t){this._instance=t}get A(){return this._instance.config}get consent(){return this.Z()?ka.DENIED:this.tt}isOptedOut(){return this.A.cookieless_mode==="always"||this.consent===ka.DENIED||this.consent===ka.PENDING&&(this.A.opt_out_capturing_by_default||this.A.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===ka.DENIED}optInOut(t){this.it.Y(this.et,t?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get tt(){var t=this.it.J(this.et);return j1(t)?ka.GRANTED:Je(hke,t)?ka.DENIED:ka.PENDING}get it(){if(!this.rt){var t=this.A.opt_out_capturing_persistence_type;this.rt=t==="localStorage"?Wt:sa;var r=t==="localStorage"?sa:Wt;r.J(this.et)&&(this.rt.J(this.et)||this.optInOut(j1(r.J(this.et))),r.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!J9([ms==null?void 0:ms.doNotTrack,ms==null?void 0:ms.msDoNotTrack,Le.doNotTrack],t=>j1(t))}}var cv=qr("[Dead Clicks]"),lCe=()=>!0,cCe=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(eq)),n=e.instance.config.capture_dead_clicks;return wl(n)?n:r};class vq{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[eq]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(t){var r,n;(r=Le.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=Le.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?cv.error("failed to load script",s):t()})}ot(){var t;if(ue){if(!this.st&&(t=Le.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=on(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.st=Le.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.st.start(ue),cv.info("starting...")}}else cv.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,cv.info("stopping..."))}}var jh=qr("[ExceptionAutocapture]");class uCe{constructor(t){var r,n,s;this.lt=()=>{var i;if(q&&this.isEnabled&&(i=Le.__PosthogExtensions__)!=null&&i.errorWrappingFunctions){var a=Le.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=Le.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=Le.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=a(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=l(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=c(this.captureException.bind(this)))}catch(u){jh.error("failed to start",u),this.vt()}}},this._instance=t,this.ct=!((r=this._instance.persistence)==null||!r.props[OD]),this.A=this.ft(),this.gt=new pke({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&s!==void 0?s:10,refillInterval:1e4,P:jh}),this.startIfEnabled()}ft(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return on(t)?r=be({},r,t):(oe(t)?this.ct:t)&&(r=be({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(jh.info("enabled"),this.nt(this.lt))}nt(t){var r,n;(r=Le.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=Le.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",s=>{if(s)return jh.error("failed to load script",s);t()})}vt(){var t,r,n;(t=this.ut)==null||t.call(this),this.ut=void 0,(r=this.ht)==null||r.call(this),this.ht=void 0,(n=this.dt)==null||n.call(this),this.dt=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ct=!!r||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[OD]:this.ct}),this.startIfEnabled()}captureException(t){var r,n,s=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.gt.consumeRateLimit(s)?jh.info("Skipping exception capture because of client rate limiting.",{exception:s}):this._instance.exceptions.sendExceptionEvent(t)}}function BD(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return bl(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}class dCe{constructor(t){var r;this._instance=t,this._t=(q==null||(r=q.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(me.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,me.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(q&&q.history){var n=this;(t=q.history.pushState)!=null&&t.__posthog_wrapped__||BD(q.history,"pushState",s=>function(i,a,l){s.call(this,i,a,l),n.bt("pushState")}),(r=q.history.replaceState)!=null&&r.__posthog_wrapped__||BD(q.history,"replaceState",s=>function(i,a,l){s.call(this,i,a,l),n.bt("replaceState")}),this.wt()}}bt(t){try{var r,n=q==null||(r=q.location)==null?void 0:r.pathname;if(!n)return;n!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this._t=n}catch(s){me.error("Error capturing "+t+" pageview",s)}}wt(){if(!this.yt){var t=()=>{this.bt("popstate")};fr(q,"popstate",t),this.yt=()=>{q&&q.removeEventListener("popstate",t)}}}}var P1=qr("[SegmentIntegration]");function fCe(e,t){var r=e.config.segment;if(!r)return t();(function(n,s){var i=n.config.segment;if(!i)return s();var a=c=>{var u=()=>c.anonymousId()||il();n.config.get_device_id=u,c.id()&&(n.register({distinct_id:c.id(),$device_id:u()}),n.persistence.set_property(Ea,"identified")),s()},l=i.user();"then"in l&&bl(l.then)?l.then(c=>a(c)):a(l)})(e,()=>{r.register((n=>{Promise&&Promise.resolve||P1.warn("This browser does not have Promise support, and can not use the segment integration");var s=(i,a)=>{if(!a)return i;i.event.userId||i.event.anonymousId===n.get_distinct_id()||(P1.info("No userId set, resetting PostHog"),n.reset()),i.event.userId&&i.event.userId!==n.get_distinct_id()&&(P1.info("UserId set, identifying with PostHog"),n.identify(i.event.userId));var l=n.calculateEventProperties(a,i.event.properties);return i.event.properties=Object.assign({},l,i.event.properties),i};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:i=>s(i,i.event.event),page:i=>s(i,"$pageview"),identify:i=>s(i,"$identify"),screen:i=>s(i,"$screen")}})(e)).then(()=>{t()})})}var xq="posthog-js";function yq(e,t){var{organization:r,projectId:n,prefix:s,severityAllowList:i=["error"],sendExceptionsToPostHog:a=!0}=t===void 0?{}:t;return l=>{var c,u,d,f,h;if(!(i==="*"||i.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var m=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=m,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var v=((c=l.exception)==null?void 0:c.values)||[],g=v.map(y=>be({},y,{stacktrace:y.stacktrace?be({},y.stacktrace,{type:"raw",frames:(y.stacktrace.frames||[]).map(w=>be({},w,{platform:"web:javascript"}))}):void 0})),x={$exception_message:((u=v[0])==null?void 0:u.value)||l.message,$exception_type:(d=v[0])==null?void 0:d.type,$exception_level:l.level,$exception_list:g,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=v[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(h=v[0])==null?void 0:h.type,$sentry_tags:l.tags};return r&&n&&(x.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+l.event_id),a&&e.exceptions.sendExceptionEvent(x),l}}class hCe{constructor(t,r,n,s,i,a){this.name=xq,this.setupOnce=function(l){l(yq(t,{organization:r,projectId:n,prefix:s,severityAllowList:i,sendExceptionsToPostHog:a==null||a}))}}}var pCe=q!=null&&q.location?qy(q.location.hash,"__posthog")||qy(location.hash,"state"):null,VD="_postHogToolbarParams",WD=qr("[Toolbar]"),Io=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(Io||{});class mCe{constructor(t){this.instance=t}xt(t){Le.ph_toolbar_state=t}St(){var t;return(t=Le.ph_toolbar_state)!==null&&t!==void 0?t:Io.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!q||!ue)return!1;t=t??q.location,n=n??q.history;try{if(!r){try{q.localStorage.setItem("test","test"),q.localStorage.removeItem("test")}catch{return!1}r=q==null?void 0:q.localStorage}var s,i=pCe||qy(t.hash,"__posthog")||qy(t.hash,"state"),a=i?PD(()=>JSON.parse(atob(decodeURIComponent(i))))||PD(()=>JSON.parse(decodeURIComponent(i))):null;return a&&a.action==="ph_authorize"?((s=a).source="url",s&&Object.keys(s).length>0&&(a.desiredHash?t.hash=a.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((s=JSON.parse(r.getItem(VD)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}Et(t){var r=Le.ph_load_toolbar||Le.ph_load_editor;!Dt(r)&&bl(r)?r(t,this.instance):WD.warn("No toolbar load function found")}loadToolbar(t){var r=!(ue==null||!ue.getElementById(rq));if(!q||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=be({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(q.localStorage.setItem(VD,JSON.stringify(be({},s,{source:void 0}))),this.St()===Io.LOADED)this.Et(s);else if(this.St()===Io.UNINITIALIZED){var i;this.xt(Io.LOADING),(i=Le.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"toolbar",a=>{if(a)return WD.error("[Toolbar] Failed to load",a),void this.xt(Io.UNINITIALIZED);this.xt(Io.LOADED),this.Et(s)}),fr(q,"turbolinks:load",()=>{this.xt(Io.UNINITIALIZED),this.loadToolbar(s)})}return!0}$t(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var gCe=qr("[TracingHeaders]");class vCe{constructor(t){this.kt=void 0,this.Pt=void 0,this.lt=()=>{var r,n;oe(this.kt)&&((r=Le.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),oe(this.Pt)&&((n=Le.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}nt(t){var r,n;(r=Le.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=Le.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",s=>{if(s)return gCe.error("failed to load script",s);t()})}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.nt(this.lt):((t=this.kt)==null||t.call(this),(r=this.Pt)==null||r.call(this),this.kt=void 0,this.Pt=void 0)}}var Ks="Mobile",Ky="iOS",Qi="Android",cm="Tablet",bq=Qi+" "+cm,wq="iPad",_q="Apple",jq=_q+" Watch",um="Safari",ff="BlackBerry",Sq="Samsung",Nq=Sq+"Browser",Eq=Sq+" Internet",yu="Chrome",xCe=yu+" OS",kq=yu+" "+Ky,T2="Internet Explorer",Cq=T2+" "+Ks,R2="Opera",yCe=R2+" Mini",I2="Edge",Pq="Microsoft "+I2,Ed="Firefox",Aq=Ed+" "+Ky,dm="Nintendo",fm="PlayStation",kd="Xbox",Oq=Qi+" "+Ks,Tq=Ks+" "+um,Wh="Windows",iE=Wh+" Phone",qD="Nokia",aE="Ouya",Rq="Generic",bCe=Rq+" "+Ks.toLowerCase(),Iq=Rq+" "+cm.toLowerCase(),oE="Konqueror",vn="(\\d+(\\.\\d+)?)",A1=new RegExp("Version/"+vn),wCe=new RegExp(kd,"i"),_Ce=new RegExp(fm+" \\w+","i"),jCe=new RegExp(dm+" \\w+","i"),D2=new RegExp(ff+"|PlayBook|BB10","i"),SCe={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},NCe=(e,t)=>t&&Je(t,_q)||function(r){return Je(r,um)&&!Je(r,yu)&&!Je(r,Qi)}(e),Dq=function(e,t){return t=t||"",Je(e," OPR/")&&Je(e,"Mini")?yCe:Je(e," OPR/")?R2:D2.test(e)?ff:Je(e,"IE"+Ks)||Je(e,"WPDesktop")?Cq:Je(e,Nq)?Eq:Je(e,I2)||Je(e,"Edg/")?Pq:Je(e,"FBIOS")?"Facebook "+Ks:Je(e,"UCWEB")||Je(e,"UCBrowser")?"UC Browser":Je(e,"CriOS")?kq:Je(e,"CrMo")||Je(e,yu)?yu:Je(e,Qi)&&Je(e,um)?Oq:Je(e,"FxiOS")?Aq:Je(e.toLowerCase(),oE.toLowerCase())?oE:NCe(e,t)?Je(e,Ks)?Tq:um:Je(e,Ed)?Ed:Je(e,"MSIE")||Je(e,"Trident/")?T2:Je(e,"Gecko")?Ed:""},ECe={[Cq]:[new RegExp("rv:"+vn)],[Pq]:[new RegExp(I2+"?\\/"+vn)],[yu]:[new RegExp("("+yu+"|CrMo)\\/"+vn)],[kq]:[new RegExp("CriOS\\/"+vn)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+vn)],[um]:[A1],[Tq]:[A1],[R2]:[new RegExp("(Opera|OPR)\\/"+vn)],[Ed]:[new RegExp(Ed+"\\/"+vn)],[Aq]:[new RegExp("FxiOS\\/"+vn)],[oE]:[new RegExp("Konqueror[:/]?"+vn,"i")],[ff]:[new RegExp(ff+" "+vn),A1],[Oq]:[new RegExp("android\\s"+vn,"i")],[Eq]:[new RegExp(Nq+"\\/"+vn)],[T2]:[new RegExp("(rv:|MSIE )"+vn)],Mozilla:[new RegExp("rv:"+vn)]},kCe=function(e,t){var r=Dq(e,t),n=ECe[r];if(oe(n))return null;for(var s=0;s<n.length;s++){var i=n[s],a=e.match(i);if(a)return parseFloat(a[a.length-2])}return null},HD=[[new RegExp(kd+"; "+kd+" (.*?)[);]","i"),e=>[kd,e&&e[1]||""]],[new RegExp(dm,"i"),[dm,""]],[new RegExp(fm,"i"),[fm,""]],[D2,[ff,""]],[new RegExp(Wh,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[iE,""];if(new RegExp(Ks).test(t)&&!/IEMobile\b/.test(t))return[Wh+" "+Ks,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],s=SCe[n]||"";return/arm/i.test(t)&&(s="RT"),[Wh,s]}return[Wh,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Ky,t.join(".")]}return[Ky,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=oe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Qi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Qi+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Qi,t.join(".")]}return[Qi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[xCe,""]],[/Linux|debian/i,["Linux",""]]],KD=function(e){return jCe.test(e)?dm:_Ce.test(e)?fm:wCe.test(e)?kd:new RegExp(aE,"i").test(e)?aE:new RegExp("("+iE+"|WPDesktop)","i").test(e)?iE:/iPad/.test(e)?wq:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?jq:D2.test(e)?ff:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(qD,"i").test(e)?qD:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Ks).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Qi:bq:Qi:new RegExp("(pda|"+Ks+")","i").test(e)?bCe:new RegExp(cm,"i").test(e)&&!new RegExp(cm+" pc","i").test(e)?Iq:""},uv="https?://(.*)",Yf=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],CCe=Gf(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Yf),rg="<masked>",PCe=["li_fat_id"];function Mq(e,t,r){if(!ue)return{};var n,s=t?Gf([],Yf,r||[]):[],i=$q(tg(ue.URL,s,rg),e),a=(n={},Pt(PCe,function(l){var c=sa.J(l);n[l]=c||null}),n);return rr(a,i)}function $q(e,t){var r=CCe.concat(t||[]),n={};return Pt(r,function(s){var i=Wy(e,s);n[s]=i||null}),n}function Lq(e){var t=function(i){return i?i.search(uv+"google.([^/?]*)")===0?"google":i.search(uv+"bing.com")===0?"bing":i.search(uv+"yahoo.com")===0?"yahoo":i.search(uv+"duckduckgo.com")===0?"duckduckgo":null:null}(e),r=t!="yahoo"?"q":"p",n={};if(!So(t)){n.$search_engine=t;var s=ue?Wy(ue.referrer,r):"";s.length&&(n.ph_keyword=s)}return n}function GD(){return navigator.language||navigator.userLanguage}function Fq(){return(ue==null?void 0:ue.referrer)||"$direct"}function Uq(e,t){var r=e?Gf([],Yf,t||[]):[],n=Vn==null?void 0:Vn.href.substring(0,1e3);return{r:Fq().substring(0,1e3),u:n?tg(n,r,rg):void 0}}function zq(e){var t,{r,u:n}=e,s={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=Vy(r))==null?void 0:t.host};if(n){s.$current_url=n;var i=Vy(n);s.$host=i==null?void 0:i.host,s.$pathname=i==null?void 0:i.pathname;var a=$q(n);rr(s,a)}if(r){var l=Lq(r);rr(s,l)}return s}function Bq(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function ACe(){try{return new Date().getTimezoneOffset()}catch{return}}function OCe(e,t){if(!Un)return{};var r,n,s,i=e?Gf([],Yf,t||[]):[],[a,l]=function(c){for(var u=0;u<HD.length;u++){var[d,f]=HD[u],h=d.exec(c),m=h&&(bl(f)?f(h,c):f);if(m)return m}return["",""]}(Un);return rr(C2({$os:a,$os_version:l,$browser:Dq(Un,navigator.vendor),$device:KD(Un),$device_type:(n=Un,s=KD(n),s===wq||s===bq||s==="Kobo"||s==="Kindle Fire"||s===Iq?cm:s===dm||s===kd||s===fm||s===aE?"Console":s===jq?"Wearable":s?Ks:"Desktop"),$timezone:Bq(),$timezone_offset:ACe()}),{$current_url:tg(Vn==null?void 0:Vn.href,i,rg),$host:Vn==null?void 0:Vn.host,$pathname:Vn==null?void 0:Vn.pathname,$raw_user_agent:Un.length>1e3?Un.substring(0,997)+"...":Un,$browser_version:kCe(Un,navigator.vendor),$browser_language:GD(),$browser_language_prefix:(r=GD(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:q==null?void 0:q.screen.height,$screen_width:q==null?void 0:q.screen.width,$viewport_height:q==null?void 0:q.innerHeight,$viewport_width:q==null?void 0:q.innerWidth,$lib:"web",$lib_version:Na.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Ao=qr("[Web Vitals]"),YD=9e5;class TCe{constructor(t){var r;this.Tt=!1,this.C=!1,this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.It=()=>{clearTimeout(this.Rt),this.q.metrics.length!==0&&(this._instance.capture("$web_vitals",this.q.metrics.reduce((n,s)=>be({},n,{["$web_vitals_"+s.name+"_event"]:be({},s),["$web_vitals_"+s.name+"_value"]:s.value}),{})),this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Ct=n=>{var s,i=(s=this._instance.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0);if(oe(i))Ao.error("Could not read session ID. Dropping metrics!");else{this.q=this.q||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Ot();oe(a)||(Dt(n==null?void 0:n.name)||Dt(n==null?void 0:n.value)?Ao.error("Invalid metric received",n):this.Ft&&n.value>=this.Ft?Ao.error("Ignoring metric with value >= "+this.Ft,n):(this.q.url!==a&&(this.It(),this.Rt=setTimeout(this.It,this.flushToCaptureTimeoutMs)),oe(this.q.url)&&(this.q.url=a),this.q.firstMetricTimestamp=oe(this.q.firstMetricTimestamp)?Date.now():this.q.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.q.metrics.push(be({},n,{$current_url:a,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.q.metrics.length===this.allowedMetrics.length&&this.It()))}},this.lt=()=>{var n,s,i,a,l=Le.__PosthogExtensions__;oe(l)||oe(l.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:s,onFCP:i,onINP:a}=l.postHogWebVitalsCallbacks),n&&s&&i&&a?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Ct.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&s(this.Ct.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&i(this.Ct.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Ct.bind(this)),this.C=!0):Ao.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.Tt=!((r=this._instance.persistence)==null||!r.props[RD]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=on(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return oe(n)?((r=this._instance.persistence)==null?void 0:r.props[ID])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(on(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ft(){var t=on(this._instance.config.capture_performance)&&da(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:YD;return 0<t&&t<=6e4?YD:t}get isEnabled(){var t=Vn==null?void 0:Vn.protocol;if(t!=="http:"&&t!=="https:")return Ao.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=on(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:wl(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return wl(r)?r:this.Tt}startIfEnabled(){this.isEnabled&&!this.C&&(Ao.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(t){var r=on(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=on(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[RD]:r}),this._instance.persistence.register({[ID]:n})),this.Tt=r,this.startIfEnabled()}nt(t){var r,n;(r=Le.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=Le.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",s=>{s?Ao.error("failed to load script",s):t()})}Ot(){var t=q?q.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,s=r?Gf([],Yf,n||[]):[];return tg(t,s,rg)}Ao.error("Could not determine current URL")}}var RCe=qr("[Heatmaps]");function XD(e){return on(e)&&"clientX"in e&&"clientY"in e&&da(e.clientX)&&da(e.clientY)}class ICe{constructor(t){var r;this.rageclicks=new mq,this.Tt=!1,this.C=!1,this.Mt=null,this.instance=t,this.Tt=!((r=this.instance.persistence)==null||!r.props[XN])}get flushIntervalMilliseconds(){var t=5e3;return on(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return oe(this.instance.config.capture_heatmaps)?oe(this.instance.config.enable_heatmaps)?this.Tt:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.C)return;RCe.info("starting..."),this.At(),this.jt()}else{var t;clearInterval((t=this.Mt)!==null&&t!==void 0?t:void 0),this.Dt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[XN]:r}),this.Tt=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.q;return this.q=void 0,t}Lt(t){this.Nt(t.originalEvent,"deadclick")}jt(){this.Mt&&clearInterval(this.Mt),this.Mt=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(ue)?setInterval(this.Ut.bind(this),this.flushIntervalMilliseconds):null}At(){q&&ue&&(this.zt=this.Ut.bind(this),fr(q,"beforeunload",this.zt),this.Ht=t=>this.Nt(t||(q==null?void 0:q.event)),fr(ue,"click",this.Ht,{capture:!0}),this.Bt=t=>this.qt(t||(q==null?void 0:q.event)),fr(ue,"mousemove",this.Bt,{capture:!0}),this.Wt=new vq(this.instance,lCe,this.Lt.bind(this)),this.Wt.startIfEnabled(),this.Gt=this.jt.bind(this),fr(ue,"visibilitychange",this.Gt),this.C=!0)}Dt(){var t;q&&ue&&(this.zt&&q.removeEventListener("beforeunload",this.zt),this.Ht&&ue.removeEventListener("click",this.Ht,{capture:!0}),this.Bt&&ue.removeEventListener("mousemove",this.Bt,{capture:!0}),this.Gt&&ue.removeEventListener("visibilitychange",this.Gt),clearTimeout(this.Vt),(t=this.Wt)==null||t.stop(),this.C=!1)}Jt(t,r){var n=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),a=function(l,c,u){for(var d=l;d&&Uw(d)&&!jl(d,"body");){if(d===u)return!1;if(Je(c,q==null?void 0:q.getComputedStyle(d).position))return!0;d=lq(d)}return!1}(aq(t),["fixed","sticky"],i);return{x:t.clientX+(a?0:s),y:t.clientY+(a?0:n),target_fixed:a,type:r}}Nt(t,r){var n;if(r===void 0&&(r="click"),!DD(t.target)&&XD(t)){var s=this.Jt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Kt(be({},s,{type:"rageclick"})),this.Kt(s)}}qt(t){!DD(t.target)&&XD(t)&&(clearTimeout(this.Vt),this.Vt=setTimeout(()=>{this.Kt(this.Jt(t,"mousemove"))},500))}Kt(t){if(q){var r=q.location.href,n=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,i=n?Gf([],Yf,s||[]):[],a=tg(r,i,rg);this.q=this.q||{},this.q[a]||(this.q[a]=[]),this.q[a].push(t)}}Ut(){this.q&&!dd(this.q)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class DCe{constructor(t){this._instance=t}doPageView(t,r){var n,s=this.Yt(t,r);return this.Xt={pathname:(n=q==null?void 0:q.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var r;return this.Yt(t,(r=this.Xt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Xt)==null?void 0:t.pageViewId}}Yt(t,r){var n=this.Xt;if(!n)return{$pageview_id:r};var s={$pageview_id:r,$prev_pageview_id:n.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:d,maxContentY:f}=i;if(!(oe(a)||oe(l)||oe(c)||oe(u)||oe(d)||oe(f))){a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var h=a<=1?1:Xi(l/a,0,1,me),m=a<=1?1:Xi(c/a,0,1,me),v=u<=1?1:Xi(d/u,0,1,me),g=u<=1?1:Xi(f/u,0,1,me);s=rr(s,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:m,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:g})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),s}}var Gs=Uint8Array,Gn=Uint16Array,hf=Uint32Array,M2=new Gs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$2=new Gs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),QD=new Gs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vq=function(e,t){for(var r=new Gn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new hf(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return[r,s]},Wq=Vq(M2,2),MCe=Wq[0],lE=Wq[1];MCe[28]=258,lE[258]=28;for(var JD=Vq($2,0)[1],qq=new Gn(32768),$t=0;$t<32768;++$t){var nc=(43690&$t)>>>1|(21845&$t)<<1;nc=(61680&(nc=(52428&nc)>>>2|(13107&nc)<<2))>>>4|(3855&nc)<<4,qq[$t]=((65280&nc)>>>8|(255&nc)<<8)>>>1}var fp=function(e,t,r){for(var n=e.length,s=0,i=new Gn(t);s<n;++s)++i[e[s]-1];var a,l=new Gn(t);for(s=0;s<t;++s)l[s]=l[s-1]+i[s-1]<<1;for(a=new Gn(n),s=0;s<n;++s)a[s]=qq[l[e[s]-1]++]>>>15-e[s];return a},bu=new Gs(288);for($t=0;$t<144;++$t)bu[$t]=8;for($t=144;$t<256;++$t)bu[$t]=9;for($t=256;$t<280;++$t)bu[$t]=7;for($t=280;$t<288;++$t)bu[$t]=8;var Gy=new Gs(32);for($t=0;$t<32;++$t)Gy[$t]=5;var $Ce=fp(bu,9),LCe=fp(Gy,5),Hq=function(e){return(e/8>>0)+(7&e&&1)},Kq=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof Gn?Gn:e instanceof hf?hf:Gs)(r-t);return n.set(e.subarray(t,r)),n},xa=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Sh=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},O1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return[new Gs(0),0];if(s==1){var a=new Gs(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort(function(j,S){return j.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};var h=i[0].s;for(n=1;n<s;++n)i[n].s>h&&(h=i[n].s);var m=new Gn(h+1),v=cE(r[d-1],m,0);if(v>t){n=0;var g=0,x=v-t,y=1<<x;for(i.sort(function(j,S){return m[S.s]-m[j.s]||j.f-S.f});n<s;++n){var w=i[n].s;if(!(m[w]>t))break;g+=y-(1<<v-m[w]),m[w]=t}for(g>>>=x;g>0;){var b=i[n].s;m[b]<t?g-=1<<t-m[b]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;m[_]==t&&(--m[_],++g)}v=t}return[new Gs(m),v]},cE=function(e,t,r){return e.s==-1?Math.max(cE(e.l,t,r+1),cE(e.r,t,r+1)):t[e.s]=r},ZD=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Gn(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return[r.subarray(0,n),t]},Nh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},uE=function(e,t,r){var n=r.length,s=Hq(t+2);e[s]=255&n,e[s+1]=n>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var i=0;i<n;++i)e[s+i+4]=r[i];return 8*(s+4+n)},eM=function(e,t,r,n,s,i,a,l,c,u,d){xa(t,d++,r),++s[256];for(var f=O1(s,15),h=f[0],m=f[1],v=O1(i,15),g=v[0],x=v[1],y=ZD(h),w=y[0],b=y[1],_=ZD(g),j=_[0],S=_[1],N=new Gn(19),E=0;E<w.length;++E)N[31&w[E]]++;for(E=0;E<j.length;++E)N[31&j[E]]++;for(var A=O1(N,7),P=A[0],C=A[1],k=19;k>4&&!P[QD[k-1]];--k);var D,T,L,z,X=u+5<<3,I=Nh(s,bu)+Nh(i,Gy)+a,M=Nh(s,h)+Nh(i,g)+a+14+3*k+Nh(N,P)+(2*N[16]+3*N[17]+7*N[18]);if(X<=I&&X<=M)return uE(t,d,e.subarray(c,c+u));if(xa(t,d,1+(M<I)),d+=2,M<I){D=fp(h,m),T=h,L=fp(g,x),z=g;var Q=fp(P,C);for(xa(t,d,b-257),xa(t,d+5,S-1),xa(t,d+10,k-4),d+=14,E=0;E<k;++E)xa(t,d+3*E,P[QD[E]]);d+=3*k;for(var J=[w,j],ee=0;ee<2;++ee){var Ee=J[ee];for(E=0;E<Ee.length;++E){var je=31&Ee[E];xa(t,d,Q[je]),d+=P[je],je>15&&(xa(t,d,Ee[E]>>>5&127),d+=Ee[E]>>>12)}}}else D=$Ce,T=bu,L=LCe,z=Gy;for(E=0;E<l;++E)if(n[E]>255){je=n[E]>>>18&31,Sh(t,d,D[je+257]),d+=T[je+257],je>7&&(xa(t,d,n[E]>>>23&31),d+=M2[je]);var Fe=31&n[E];Sh(t,d,L[Fe]),d+=z[Fe],Fe>3&&(Sh(t,d,n[E]>>>5&8191),d+=$2[Fe])}else Sh(t,d,D[n[E]]),d+=T[n[E]];return Sh(t,d,D[256]),d+T[256]},FCe=new hf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),UCe=function(){for(var e=new hf(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),zCe=function(e,t,r,n,s){return function(i,a,l,c,u,d){var f=i.length,h=new Gs(c+f+5*(1+Math.floor(f/7e3))+u),m=h.subarray(c,h.length-u),v=0;if(!a||f<8)for(var g=0;g<=f;g+=65535){var x=g+65535;x<f?v=uE(m,v,i.subarray(g,x)):(m[g]=d,v=uE(m,v,i.subarray(g,f)))}else{for(var y=FCe[a-1],w=y>>>13,b=8191&y,_=(1<<l)-1,j=new Gn(32768),S=new Gn(_+1),N=Math.ceil(l/3),E=2*N,A=function(Et){return(i[Et]^i[Et+1]<<N^i[Et+2]<<E)&_},P=new hf(25e3),C=new Gn(288),k=new Gn(32),D=0,T=0,L=(g=0,0),z=0,X=0;g<f;++g){var I=A(g),M=32767&g,Q=S[I];if(j[M]=Q,S[I]=M,z<=g){var J=f-g;if((D>7e3||L>24576)&&J>423){v=eM(i,m,0,P,C,k,T,L,X,g-X,v),L=D=T=0,X=g;for(var ee=0;ee<286;++ee)C[ee]=0;for(ee=0;ee<30;++ee)k[ee]=0}var Ee=2,je=0,Fe=b,ze=M-Q&32767;if(J>2&&I==A(g-ze))for(var pe=Math.min(w,J)-1,Ke=Math.min(32767,g),K=Math.min(258,J);ze<=Ke&&--Fe&&M!=Q;){if(i[g+Ee]==i[g+Ee-ze]){for(var re=0;re<K&&i[g+re]==i[g+re-ze];++re);if(re>Ee){if(Ee=re,je=ze,re>pe)break;var fe=Math.min(ze,re-2),G=0;for(ee=0;ee<fe;++ee){var Qe=g-ze+ee+32768&32767,Ue=Qe-j[Qe]+32768&32767;Ue>G&&(G=Ue,Q=Qe)}}}ze+=(M=Q)-(Q=j[M])+32768&32767}if(je){P[L++]=268435456|lE[Ee]<<18|JD[je];var vt=31&lE[Ee],wt=31&JD[je];T+=M2[vt]+$2[wt],++C[257+vt],++k[wt],z=g+Ee,++D}else P[L++]=i[g],++C[i[g]]}}v=eM(i,m,d,P,C,k,T,L,X,g-X,v)}return Kq(h,0,c+Hq(v)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},T1=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function BCe(e,t){t===void 0&&(t={});var r=function(){var l=4294967295;return{p:function(c){for(var u=l,d=0;d<c.length;++d)u=UCe[255&u^c[d]]^u>>>8;l=u},d:function(){return 4294967295^l}}}(),n=e.length;r.p(e);var s,i=zCe(e,t,10+((s=t).filename&&s.filename.length+1||0),8),a=i.length;return function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&T1(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var d=0;d<=u.length;++d)l[d+10]=u.charCodeAt(d)}}(i,t),T1(i,a-8,r.d()),T1(i,a-4,n),i}var VCe=function(e){var t,r,n,s,i="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var a=e.charCodeAt(s),l=null;a<128?r++:l=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),So(l)||(r>t&&(i+=e.substring(t,r)),i+=l,t=r=s+1)}return r>t&&(i+=e.substring(t,e.length)),i},WCe=!!qN||!!WN,tM="text/plain",Yy=function(e,t,r){var n;r===void 0&&(r=!0);var[s,i]=e.split("?"),a=be({},t),l=(n=i==null?void 0:i.split("&").map(u=>{var d,[f,h]=u.split("="),m=r&&(d=a[f])!==null&&d!==void 0?d:h;return delete a[f],f+"="+m}))!==null&&n!==void 0?n:[],c=Yke(a);return c&&l.push(c),s+"?"+l.join("&")},qh=(e,t)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,t),R1=e=>{var{data:t,compression:r}=e;if(t){if(r===Ma.GZipJS){var n=BCe(function(c,u){var d=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new Gs(c.length+(c.length>>>1)),h=0,m=function(y){f[h++]=y},v=0;v<d;++v){if(h+5>f.length){var g=new Gs(h+8+(d-v<<1));g.set(f),f=g}var x=c.charCodeAt(v);x<128||u?m(x):x<2048?(m(192|x>>>6),m(128|63&x)):x>55295&&x<57344?(m(240|(x=65536+(1047552&x)|1023&c.charCodeAt(++v))>>>18),m(128|x>>>12&63),m(128|x>>>6&63),m(128|63&x)):(m(224|x>>>12),m(128|x>>>6&63),m(128|63&x))}return Kq(f,0,h)}(qh(t)),{mtime:0}),s=new Blob([n],{type:tM});return{contentType:tM,body:s,estimatedSize:s.size}}if(r===Ma.Base64){var i=function(c){var u,d,f,h,m,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=0,x=0,y="",w=[];if(!c)return c;c=VCe(c);do u=(m=c.charCodeAt(g++)<<16|c.charCodeAt(g++)<<8|c.charCodeAt(g++))>>18&63,d=m>>12&63,f=m>>6&63,h=63&m,w[x++]=v.charAt(u)+v.charAt(d)+v.charAt(f)+v.charAt(h);while(g<c.length);switch(y=w.join(""),c.length%3){case 1:y=y.slice(0,-2)+"==";break;case 2:y=y.slice(0,-1)+"="}return y}(qh(t)),a=(c=>"data="+encodeURIComponent(typeof c=="string"?c:qh(c)))(i);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var l=qh(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},Hv=[];WN&&Hv.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:s,estimatedSize:i}=(t=R1(e))!==null&&t!==void 0?t:{},a=new Headers;Pt(e.headers,function(d,f){a.append(f,d)}),n&&a.append("Content-Type",n);var l=e.url,c=null;if(_D){var u=new _D;c={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}WN(l,be({method:(e==null?void 0:e.method)||"GET",headers:a,keepalive:e.method==="POST"&&(i||0)<52428.8,body:s,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then(d=>d.text().then(f=>{var h={statusCode:d.status,text:f};if(d.status===200)try{h.json=JSON.parse(f)}catch(m){me.error(m)}e.callback==null||e.callback(h)})).catch(d=>{me.error(d),e.callback==null||e.callback({statusCode:0,text:d})}).finally(()=>c?clearTimeout(c.timeout):null)}}),qN&&Hv.push({transport:"XHR",method:e=>{var t,r=new qN;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:s}=(t=R1(e))!==null&&t!==void 0?t:{};Pt(e.headers,function(i,a){r.setRequestHeader(a,i)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var i={statusCode:r.status,text:r.responseText};if(r.status===200)try{i.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(i)}},r.send(s)}}),ms!=null&&ms.sendBeacon&&Hv.push({transport:"sendBeacon",method:e=>{var t=Yy(e.url,{beacon:"1"});try{var r,{contentType:n,body:s}=(r=R1(e))!==null&&r!==void 0?r:{},i=typeof s=="string"?new Blob([s],{type:n}):s;ms.sendBeacon(t,i)}catch{}}});var pf=function(e,t){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function rM(e,t,r){return qh({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var Gq={exact:(e,t)=>t.some(r=>e.some(n=>r===n)),is_not:(e,t)=>t.every(r=>e.every(n=>r!==n)),regex:(e,t)=>t.some(r=>e.some(n=>pf(r,n))),not_regex:(e,t)=>t.every(r=>e.every(n=>!pf(r,n))),icontains:(e,t)=>t.map(dv).some(r=>e.map(dv).some(n=>r.includes(n))),not_icontains:(e,t)=>t.map(dv).every(r=>e.map(dv).every(n=>!r.includes(n)))},dv=e=>e.toLowerCase(),I1=qr("[Error tracking]");let qCe=class{constructor(t){var r,n;this.Qt=[],this.Zt=new Nke([new Eke,new Dke,new Cke,new kke,new Rke,new Tke,new Ake,new Ike],[bke,jke]),this._instance=t,this.Qt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(QN))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,s,i=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],a=(s=t.errorTracking)==null?void 0:s.captureExtensionExceptions;this.Qt=i,this._instance.persistence&&this._instance.persistence.register({[QN]:this.Qt,[TD]:a})}get ti(){var t,r=!!this._instance.get_property(TD),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Zt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.ii(r)){if(this.ei(r))return void I1.info("Skipping exception capture because a suppression rule matched");if(!this.ti&&this.ri(r))return void I1.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.si(r))return void I1.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}ei(t){if(t.length===0)return!1;var r=t.reduce((n,s)=>{var{type:i,value:a}=s;return Er(i)&&i.length>0&&n.$exception_types.push(i),Er(a)&&a.length>0&&n.$exception_values.push(a),n},{$exception_types:[],$exception_values:[]});return this.Qt.some(n=>{var s=n.values.map(i=>{var a,l=Gq[i.operator],c=Mt(i.value)?i.value:[i.value],u=(a=r[i.key])!==null&&a!==void 0?a:[];return c.length>0&&l(c,u)});return n.type==="OR"?s.some(Boolean):s.every(Boolean)})}ri(t){return t.flatMap(r=>{var n,s;return(n=(s=r.stacktrace)==null?void 0:s.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}si(t){if(t.length>0){var r,n,s,i,a=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],l=a[a.length-1];return(s=l==null||(i=l.filename)==null?void 0:i.includes("posthog.com/static"))!==null&&s!==void 0&&s}return!1}ii(t){return!Dt(t)&&Mt(t)}};var li=qr("[FeatureFlags]"),D1="$active_feature_flags",Wu="$override_feature_flags",nM="$feature_flag_payloads",Eh="$override_feature_flag_payloads",sM="$feature_flag_request_id",iM=e=>{var t={};for(var[r,n]of qv(e||{}))n&&(t[r]=n);return t},HCe=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(r=>t[r].enabled).filter(r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]}))):li.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},KCe=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class GCe{constructor(t){this.ni=!1,this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this._instance=t,this.featureFlagEventHandlers=[]}vi(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter(r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||li.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n}):[]}ci(){return this.vi().length>0}flags(){if(this._instance.config.__preview_remote_config)this.hi=!0;else{var t=!this.fi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.pi({disableFlags:t})}}get hasLoadedFlags(){return this.oi}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(JN),r=this._instance.get_property(Wu),n=this._instance.get_property(Eh);if(!n&&!r)return t||{};var s=rr({},t||{}),i=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var a of i){var l,c,u=s[a],d=r==null?void 0:r[a],f=oe(d)?(l=u==null?void 0:u.enabled)!==null&&l!==void 0&&l:!!d,h=oe(d)?u.variant:typeof d=="string"?d:void 0,m=n==null?void 0:n[a],v=be({},u,{enabled:f,variant:f?h??(u==null?void 0:u.variant):void 0});f!==(u==null?void 0:u.enabled)&&(v.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(v.original_variant=u==null?void 0:u.variant),m&&(v.metadata=be({},u==null?void 0:u.metadata,{payload:m,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),s[a]=v}return this.ni||(li.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:s}),this.ni=!0),s}getFlagVariants(){var t=this._instance.get_property(fd),r=this._instance.get_property(Wu);if(!r)return t||{};for(var n=rr({},t),s=Object.keys(r),i=0;i<s.length;i++)n[s[i]]=r[s[i]];return this.ni||(li.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ni=!0),n}getFlagPayloads(){var t=this._instance.get_property(nM),r=this._instance.get_property(Eh);if(!r)return t||{};for(var n=rr({},t||{}),s=Object.keys(r),i=0;i<s.length;i++)n[s[i]]=r[s[i]];return this.ni||(li.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ni=!0),n}reloadFeatureFlags(){this.li||this._instance.config.advanced_disable_feature_flags||this.fi||(this.fi=setTimeout(()=>{this.pi()},5))}gi(){clearTimeout(this.fi),this.fi=void 0}ensureFlagsLoaded(){this.oi||this.ai||this.fi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.li=t}pi(t){var r;if(this.gi(),!this._instance.L())if(this.ai)this.ui=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:be({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Vh)||{}),group_properties:this._instance.get_property(dc)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0),this.ci()&&(n.evaluation_environments=this.vi());var s=this._instance.config.__preview_remote_config,i=s?"/flags/?v=2":"/flags/?v=2&config=true",a=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",l=this._instance.requestRouter.endpointFor("api",i+a);s&&(n.timezone=Bq()),this.ai=!0,this._instance.mi({method:"POST",url:l,data:n,compression:this._instance.config.disable_compression?void 0:Ma.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:c=>{var u,d,f=!0;if(c.statusCode===200&&(this.ui||(this.$anon_distinct_id=void 0),f=!1),this.ai=!1,this.hi||(this.hi=!0,this._instance.yi((d=c.json)!==null&&d!==void 0?d:{})),!n.disable_flags||this.ui)if(this.di=!f,c.json&&(u=c.json.quotaLimited)!=null&&u.includes(KCe.FeatureFlags))li.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var h;n.disable_flags||this.receivedFeatureFlags((h=c.json)!==null&&h!==void 0?h:{},f),this.ui&&(this.ui=!1,this.pi())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.oi||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],s=""+n,i=this._instance.get_property(sM)||void 0,a=this._instance.get_property(Fy)||{};if((r.send_event||!("send_event"in r))&&(!(t in a)||!a[t].includes(s))){var l,c,u,d,f,h,m,v,g;Mt(a[t])?a[t].push(s):a[t]=[s],(l=this._instance.persistence)==null||l.register({[Fy]:a});var x=this.getFeatureFlagDetails(t),y={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:i,$feature_flag_bootstrapped_response:((c=this._instance.config.bootstrap)==null||(c=c.featureFlags)==null?void 0:c[t])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(u=u.featureFlagPayloads)==null?void 0:u[t])||null,$used_bootstrap_value:!this.di};oe(x==null||(d=x.metadata)==null?void 0:d.version)||(y.$feature_flag_version=x.metadata.version);var w,b=(f=x==null||(h=x.reason)==null?void 0:h.description)!==null&&f!==void 0?f:x==null||(m=x.reason)==null?void 0:m.code;b&&(y.$feature_flag_reason=b),x!=null&&(v=x.metadata)!=null&&v.id&&(y.$feature_flag_id=x.metadata.id),oe(x==null?void 0:x.original_variant)&&oe(x==null?void 0:x.original_enabled)||(y.$feature_flag_original_response=oe(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(g=x.metadata)!=null&&g.original_payload&&(y.$feature_flag_original_payload=x==null||(w=x.metadata)==null?void 0:w.original_payload),this._instance.capture("$feature_flag_called",y)}return n}li.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,s={distinct_id:this._instance.get_distinct_id(),token:n};this.ci()&&(s.evaluation_environments=this.vi()),this._instance.mi({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:s,compression:this._instance.config.disable_compression?void 0:Ma.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var a,l=(a=i.json)==null?void 0:a.featureFlagPayloads;r((l==null?void 0:l[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.oi||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return oe(n)?void 0:!!n}li.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==t)}receivedFeatureFlags(t,r){if(this._instance.persistence){this.oi=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),i=this.getFlagsWithDetails();(function(a,l,c,u,d){c===void 0&&(c={}),u===void 0&&(u={}),d===void 0&&(d={});var f=HCe(a),h=f.flags,m=f.featureFlags,v=f.featureFlagPayloads;if(m){var g=a.requestId;if(Mt(m)){li.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(m)for(var y=0;y<m.length;y++)x[m[y]]=!0;l&&l.register({[D1]:m,[fd]:x})}else{var w=m,b=v,_=h;a.errorsWhileComputingFlags&&(w=be({},c,w),b=be({},u,b),_=be({},d,_)),l&&l.register(be({[D1]:Object.keys(iM(w)),[fd]:w||{},[nM]:b||{},[JN]:_||{}},g?{[sM]:g}:{}))}}})(t,this._instance.persistence,n,s,i),this.bi(r)}}override(t,r){r===void 0&&(r=!1),li.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return li.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(Wu),this._instance.persistence.unregister(Eh),void this.bi();if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ni=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(Wu);else if(n.flags)if(Mt(n.flags)){for(var s={},i=0;i<n.flags.length;i++)s[n.flags[i]]=!0;this._instance.persistence.register({[Wu]:s})}else this._instance.persistence.register({[Wu]:n.flags})}return"payloads"in n&&(n.payloads===!1?this._instance.persistence.unregister(Eh):n.payloads&&this._instance.persistence.register({[Eh]:n.payloads})),void this.bi()}this.bi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.oi){var{flags:r,flagVariants:n}=this.wi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var s,i=(this._instance.get_property(Bh)||[]).find(u=>u.flagKey===t),a={["$feature_enrollment/"+t]:r},l={$feature_flag:t,$feature_enrollment:r,$set:a};i&&(l.$early_access_feature_name=i.name),n&&(l.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(a,!1);var c=be({},this.getFlagVariants(),{[t]:r});(s=this._instance.persistence)==null||s.register({[D1]:Object.keys(iM(c)),[fd]:c}),this.bi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var s=this._instance.get_property(Bh),i=n?"&"+n.map(a=>"stage="+a).join("&"):"";if(s&&!r)return t(s);this._instance.mi({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:a=>{var l,c;if(a.json){var u=a.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(Bh),(c=this._instance.persistence)==null||c.register({[Bh]:u}),t(u)}}})}wi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,s)=>(n[s]=r[s],n),{})}}bi(t){var{flags:r,flagVariants:n}=this.wi();this.featureFlagEventHandlers.forEach(s=>s(r,n,{errorsLoading:t}))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Vh)||{};this._instance.register({[Vh]:be({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Vh)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(dc)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(s=>{n[s]=be({},n[s],t[s]),delete t[s]}),this._instance.register({[dc]:be({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(dc)||{};this._instance.register({[dc]:be({},r,{[t]:{}})})}else this._instance.unregister(dc)}reset(){this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this.$anon_distinct_id=void 0,this.gi(),this.ni=!1}}var YCe=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class M1{constructor(t,r){this.A=t,this.props={},this.xi=!1,this.Si=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(t),this.it=this.Ei(t),this.load(),t.debug&&me.info("Persistence loaded",t.persistence,be({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.$i}Ei(t){YCe.indexOf(t.persistence.toLowerCase())===-1&&(me.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&Wt.G()?Wt:r==="localstorage+cookie"&&ov.G()?ov:r==="sessionstorage"&&Yr.G()?Yr:r==="memory"?aCe:r==="cookie"?sa:ov.G()?ov:sa}properties(){var t={};return Pt(this.props,function(r,n){if(n===fd&&on(r))for(var s=Object.keys(r),i=0;i<s.length;i++)t["$feature/"+s[i]]=r[s[i]];else l=n,c=!1,(So(a=zke)?c:wD&&a.indexOf===wD?a.indexOf(l)!=-1:(Pt(a,function(u){if(c||(c=u===l))return $y}),c))||(t[n]=r);var a,l,c}),t}load(){if(!this.$i){var t=this.it.K(this.Si);t&&(this.props=rr({},t))}}save(){this.$i||this.it.Y(this.Si,this.props,this.ki,this.Pi,this.Ti,this.A.debug)}remove(){this.it.X(this.Si,!1),this.it.X(this.Si,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(on(t)){oe(r)&&(r="None"),this.ki=oe(n)?this.Ii:n;var s=!1;if(Pt(t,(i,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==r||(this.props[a]=i,s=!0)}),s)return this.save(),!0}return!1}register(t,r){if(on(t)){this.ki=oe(r)?this.Ii:r;var n=!1;if(Pt(t,(s,i)=>{t.hasOwnProperty(i)&&this.props[i]!==s&&(this.props[i]=s,n=!0)}),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.xi){var t=Mq(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);dd(C2(t))||this.register(t),this.xi=!0}}update_search_keyword(){var t;this.register((t=ue==null?void 0:ue.referrer)?Lq(t):{})}update_referrer_info(){var t;this.register_once({$referrer:Fq(),$referring_domain:ue!=null&&ue.referrer&&((t=Vy(ue.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[rE]||this.props[nE]||this.register_once({[Uy]:Uq(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Pt([nE,rE],a=>{var l=this.props[a];l&&Pt(l,function(c,u){t["$initial_"+HN(u)]=c})});var r,n,s=this.props[Uy];if(s){var i=(r=zq(s),n={},Pt(r,function(a,l){n["$initial_"+HN(l)]=a}),n);rr(t,i)}return t}safe_merge(t){return Pt(this.props,function(r,n){n in t||(t[n]=r)}),t}update_config(t,r,n){if(this.Ii=this.ki=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var s=this.Ei(t),i=this.props;this.clear(),this.it=s,this.props=i,this.save()}}set_disabled(t){this.$i=t,this.$i?this.remove():this.save()}set_cross_subdomain(t){t!==this.Pi&&(this.Pi=t,this.remove(),this.save())}set_secure(t){t!==this.Ti&&(this.Ti=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[zh]||{};n[t]=r,this.props[zh]=n,this.save()}remove_event_timer(t){var r=(this.props[zh]||{})[t];return oe(r)||(delete this.props[zh][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});var $1=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var Kv=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),aM=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),Yq=function(e){return e.Popover="popover",e.Inline="inline",e}({});class L2{constructor(){this.Ri={},this.Ri={}}on(t,r){return this.Ri[t]||(this.Ri[t]=[]),this.Ri[t].push(r),()=>{this.Ri[t]=this.Ri[t].filter(n=>n!==r)}}emit(t,r){for(var n of this.Ri[t]||[])n(r);for(var s of this.Ri["*"]||[])s(t,r)}}class pc{constructor(t){this.Ci=new L2,this.Oi=(r,n)=>this.Fi(r,n)&&this.Mi(r,n)&&this.Ai(r,n),this.Fi=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.ji=new Set,this.Di=new Set}init(){var t;if(!oe((t=this._instance)==null?void 0:t.Li)){var r;(r=this._instance)==null||r.Li((n,s)=>{this.on(n,s)})}}register(t){var r,n;if(!oe((r=this._instance)==null?void 0:r.Li)&&(t.forEach(a=>{var l,c;(l=this.Di)==null||l.add(a),(c=a.steps)==null||c.forEach(u=>{var d;(d=this.ji)==null||d.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var s,i=new Set;t.forEach(a=>{var l;(l=a.steps)==null||l.forEach(c=>{c!=null&&c.selector&&i.add(c==null?void 0:c.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(i)}}on(t,r){var n;r!=null&&t.length!=0&&(this.ji.has(t)||this.ji.has(r==null?void 0:r.event))&&this.Di&&((n=this.Di)==null?void 0:n.size)>0&&this.Di.forEach(s=>{this.Ni(r,s)&&this.Ci.emit("actionCaptured",s.name)})}Ui(t){this.onAction("actionCaptured",r=>t(r))}Ni(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Oi(t,n))return!0;return!1}onAction(t,r){return this.Ci.on(t,r)}Mi(t,r){if(r!=null&&r.url){var n,s=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!s||typeof s!="string"||!pc.zi(s,r==null?void 0:r.url,(r==null?void 0:r.url_matching)||"contains"))return!1}return!0}static zi(t,r,n){switch(n){case"regex":return!!q&&pf(t,r);case"exact":return r===t;case"contains":var s=pc.Hi(r).replace(/_/g,".").replace(/%/g,".*");return pf(t,s);default:return!1}}static Hi(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ai(t,r){if((r!=null&&r.href||r!=null&&r.tag_name||r!=null&&r.text)&&!this.Bi(t).some(i=>!(r!=null&&r.href&&!pc.zi(i.href||"",r==null?void 0:r.href,(r==null?void 0:r.href_matching)||"exact"))&&(r==null||!r.tag_name||i.tag_name===(r==null?void 0:r.tag_name))&&!(r!=null&&r.text&&!pc.zi(i.text||"",r==null?void 0:r.text,(r==null?void 0:r.text_matching)||"exact")&&!pc.zi(i.$el_text||"",r==null?void 0:r.text,(r==null?void 0:r.text_matching)||"exact"))))return!1;if(r!=null&&r.selector){var n,s=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(!s||!s.includes(r==null?void 0:r.selector))return!1}return!0}Bi(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}var xt=qr("[Surveys]"),dE="seenSurvey_",XCe=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},oM=e=>{var t=""+dE+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+dE+e.id+"_"+e.current_iteration),t},QCe=[$1.Popover,$1.Widget,$1.API],JCe={ignoreConditions:!1,ignoreDelay:!1,displayType:Yq.Popover};class ZCe{constructor(t){this._instance=t,this.qi=new Map,this.Wi=new Map}register(t){var r;oe((r=this._instance)==null?void 0:r.Li)||(this.Gi(t),this.Vi(t))}Vi(t){var r=t.filter(n=>{var s,i;return((s=n.conditions)==null?void 0:s.actions)&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0});r.length!==0&&(this.Ji==null&&(this.Ji=new pc(this._instance),this.Ji.init(),this.Ji.Ui(n=>{this.onAction(n)})),r.forEach(n=>{var s,i,a,l,c;n.conditions&&(s=n.conditions)!=null&&s.actions&&(i=n.conditions)!=null&&(i=i.actions)!=null&&i.values&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0&&((l=this.Ji)==null||l.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach(u=>{if(u&&u.name){var d=this.Wi.get(u.name);d&&d.push(n.id),this.Wi.set(u.name,d||[n.id])}}))}))}Gi(t){var r;t.filter(n=>{var s,i;return((s=n.conditions)==null?void 0:s.events)&&((i=n.conditions)==null||(i=i.events)==null||(i=i.values)==null?void 0:i.length)>0}).length!==0&&((r=this._instance)==null||r.Li((n,s)=>{this.onEvent(n,s)}),t.forEach(n=>{var s;(s=n.conditions)==null||(s=s.events)==null||(s=s.values)==null||s.forEach(i=>{if(i&&i.name){var a=this.qi.get(i.name);a&&a.push(n.id),this.qi.set(i.name,a||[n.id])}})}))}onEvent(t,r){var n,s,i=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[av])||[];if(Kv.SHOWN===t&&r&&i.length>0){var a;xt.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:i});var l=r==null||(a=r.properties)==null?void 0:a.$survey_id;if(l){var c=i.indexOf(l);c>=0&&(i.splice(c,1),this.Ki(i))}}else if(this.qi.has(t)){xt.info("survey event name matched",{event:t,eventPayload:r,surveys:this.qi.get(t)});var u=[];(s=this._instance)==null||s.getSurveys(f=>{u=f.filter(h=>{var m;return(m=this.qi.get(t))==null?void 0:m.includes(h.id)})});var d=u.filter(f=>{var h,m=(h=f.conditions)==null||(h=h.events)==null||(h=h.values)==null?void 0:h.find(v=>v.name===t);return!!m&&(!m.propertyFilters||Object.entries(m.propertyFilters).every(v=>{var g,[x,y]=v,w=r==null||(g=r.properties)==null?void 0:g[x];if(oe(w)||So(w))return!1;var b=[String(w)],_=Gq[y.operator];return _?_(y.values,b):(xt.warn("Unknown property comparison operator: "+y.operator),!1)}))});this.Ki(i.concat(d.map(f=>f.id)||[]))}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[av])||[];this.Wi.has(t)&&this.Ki(n.concat(this.Wi.get(t)||[]))}Ki(t){var r;xt.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[av]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[av];return r||[]}getEventToSurveys(){return this.qi}Yi(){return this.Ji}}class ePe{constructor(t){this.Xi=void 0,this._surveyManager=null,this.Qi=!1,this.Zi=!1,this.te=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(Dt(r))return xt.warn("Flags not loaded yet. Not loading surveys.");var n=Mt(r);this.Xi=n?r.length>0:r,xt.info("flags response received, isSurveysEnabled: "+this.Xi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(dE)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.Zi)xt.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)xt.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())xt.info("Not loading surveys in cookieless mode without consent.");else{var t=Le==null?void 0:Le.__PosthogExtensions__;if(t){if(!oe(this.Xi)||this._instance.config.advanced_enable_surveys){var r=this.Xi||this._instance.config.advanced_enable_surveys;this.Zi=!0;try{var n=t.generateSurveys;if(n)return void this.ie(n,r);var s=t.loadExternalDependency;if(!s)return void this.ee("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",i=>{i||!t.generateSurveys?this.ee("Could not load surveys script",i):this.ie(t.generateSurveys,r)})}catch(i){throw this.ee("Error initializing surveys",i),i}finally{this.Zi=!1}}}else xt.error("PostHog Extensions not found.")}}ie(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new ZCe(this._instance),xt.info("Surveys loaded successfully"),this.re({isLoaded:!0})}ee(t,r){xt.error(t,r),this.re({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.te.push(t),this._surveyManager&&this.re({isLoaded:!0}),()=>{this.te=this.te.filter(r=>r!==t)}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return xt.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(ZN);if(n&&!r)return t(n,{isLoaded:!0});if(this.Qi)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Qi=!0,this._instance.mi({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:s=>{var i;this.Qi=!1;var a=s.statusCode;if(a!==200||!s.json){var l="Surveys API could not be loaded, status: "+a;return xt.error(l),t([],{isLoaded:!1,error:l})}var c,u=s.json.surveys||[],d=u.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var m;return!((m=h.conditions)==null||(m=m.events)==null||(m=m.values)==null||!m.length)}(f)||function(h){var m;return!((m=h.conditions)==null||(m=m.actions)==null||(m=m.values)==null||!m.length)}(f)));return d.length>0&&((c=this._surveyEventReceiver)==null||c.register(d)),(i=this._instance.persistence)==null||i.register({[ZN]:u}),t(u,{isLoaded:!0})}})}catch(s){throw this.Qi=!1,s}}re(t){for(var r of this.te)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){xt.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!Dt(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);xt.warn("init was not called")}se(t){var r=null;return this.getSurveys(n=>{var s;r=(s=n.find(i=>i.id===t))!==null&&s!==void 0?s:null}),r}ne(t){if(Dt(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.se(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(Dt(this._surveyManager))return xt.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.ne(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return Dt(this._surveyManager)?(xt.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(s=>{var i,a=(i=s.find(c=>c.id===t))!==null&&i!==void 0?i:null;if(a){var l=this.ne(a);n({visible:l.eligible,disabledReason:l.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(t,r){var n;if(Dt(this._surveyManager))xt.warn("init was not called");else{var s=typeof t=="string"?this.se(t):t;if(s!=null&&s.id)if(QCe.includes(s.type)){var i=ue==null?void 0:ue.querySelector(r);if(i)return(n=s.appearance)!=null&&n.surveyPopupDelaySeconds?(xt.info("Rendering survey "+s.id+" with delay of "+s.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var a,l;xt.info("Rendering survey "+s.id+" with delay of "+((a=s.appearance)==null?void 0:a.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(s,i),xt.info("Survey "+s.id+" rendered")},1e3*s.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(s,i);xt.warn("Survey element not found")}else xt.warn("Surveys of type "+s.type+" cannot be rendered in the app");else xt.warn("Survey not found")}}displaySurvey(t,r){var n;if(Dt(this._surveyManager))xt.warn("init was not called");else{var s=this.se(t);if(s){var i=s;if((n=s.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(i=be({},s,{appearance:be({},s.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var a=this.canRenderSurvey(s);if(!a.visible)return void xt.warn("Survey is not eligible to be displayed: ",a.disabledReason)}r.displayType!==Yq.Inline?this._surveyManager.handlePopoverSurvey(i):this.renderSurvey(i,r.selector)}else xt.warn("Survey not found")}}}var lM=qr("[RateLimiter]");class tPe{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=s=>{var i=s.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach(a=>{lM.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void lM.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:i})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,s;t===void 0&&(t=!1);var i=new Date().getTime(),a=(r=(n=this.instance.persistence)==null?void 0:n.get_property(tE))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:i};a.tokens+=(i-a.last)/1e3*this.captureEventsPerSecond,a.last=i,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var l=a.tokens<1;return l||t||(a.tokens=Math.max(0,a.tokens-1)),!l||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(s=this.instance.persistence)==null||s.set_property(tE,a),{isRateLimited:l,remainingTokens:a.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var sc=qr("[RemoteConfig]");class rPe{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=Le._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}oe(t){var r,n;(r=Le.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=Le.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(sc.error("PostHog Extensions not found. Cannot load remote config."),t())}ae(t){this._instance.mi({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return sc.info("Using preloaded remote config",this.remoteConfig),void this.yi(this.remoteConfig);if(this._instance.L())return void sc.warn("Remote config is disabled. Falling back to local config.");this.oe(t=>{if(!t)return sc.info("No config found after loading remote JS config. Falling back to JSON."),void this.ae(r=>{this.yi(r)});this.yi(t)})}catch(t){sc.error("Error loading remote config",t)}}yi(t){t?this._instance.config.__preview_remote_config?(this._instance.yi(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):sc.info("__preview_remote_config is disabled. Logging config instead",t):sc.error("Failed to fetch remote config from PostHog.")}}var fE=3e3;class nPe{constructor(t,r){this.le=!0,this.ue=[],this.he=Xi((r==null?void 0:r.flush_interval_ms)||fE,250,5e3,me.createLogger("flush interval"),fE),this.de=t}enqueue(t){this.ue.push(t),this.ve||this.ce()}unload(){this.fe();var t=this.ue.length>0?this.pe():{},r=Object.values(t);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.de(be({},n,{transport:"sendBeacon"}))})}enable(){this.le=!1,this.ce()}ce(){var t=this;this.le||(this.ve=setTimeout(()=>{if(this.fe(),this.ue.length>0){var r=this.pe(),n=function(){var i=r[s],a=new Date().getTime();i.data&&Mt(i.data)&&Pt(i.data,l=>{l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.de(i)};for(var s in r)n()}},this.he))}fe(){clearTimeout(this.ve),this.ve=void 0}pe(){var t={};return Pt(this.ue,r=>{var n,s=r,i=(s?s.batchKey:null)||s.url;oe(t[i])&&(t[i]=be({},s,{data:[]})),(n=t[i].data)==null||n.push(s.data)}),this.ue=[],t}}var sPe=["retriesPerformedSoFar"];class iPe{constructor(t){this.ge=!1,this._e=3e3,this.ue=[],this._instance=t,this.ue=[],this.me=!0,!oe(q)&&"onLine"in q.navigator&&(this.me=q.navigator.onLine,this.ye=()=>{this.me=!0,this.Ut()},this.be=()=>{this.me=!1},fr(q,"online",this.ye),fr(q,"offline",this.be))}get length(){return this.ue.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=q9(t,sPe);da(r)&&r>0&&(n.url=Yy(n.url,{retry_count:r})),this._instance.mi(be({},n,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?this.we(be({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(s)}}))}we(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=function(a){var l=3e3*Math.pow(2,a),c=l/2,u=Math.min(18e5,l),d=(Math.random()-.5)*(u-c);return Math.ceil(u+d)}(r),s=Date.now()+n;this.ue.push({retryAt:s,requestOptions:t});var i="Enqueued failed request for retry in "+n;navigator.onLine||(i+=" (Browser is offline)"),me.warn(i),this.ge||(this.ge=!0,this.xe())}xe(){if(this.Se&&clearTimeout(this.Se),this.ue.length===0)return this.ge=!1,void(this.Se=void 0);this.Se=setTimeout(()=>{this.me&&this.ue.length>0&&this.Ut(),this.xe()},this._e)}Ut(){var t=Date.now(),r=[],n=this.ue.filter(i=>i.retryAt<t||(r.push(i),!1));if(this.ue=r,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:t}of(this.Se&&(clearTimeout(this.Se),this.Se=void 0),this.ge=!1,oe(q)||(this.ye&&(q.removeEventListener("online",this.ye),this.ye=void 0),this.be&&(q.removeEventListener("offline",this.be),this.be=void 0)),this.ue))try{this._instance.mi(be({},t,{transport:"sendBeacon"}))}catch(r){me.error(r)}this.ue=[]}}class aPe{constructor(t){this.Ee=()=>{var r,n,s,i;this.$e||(this.$e={});var a=this.scrollElement(),l=this.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;this.$e.lastScrollY=Math.ceil(l),this.$e.maxScrollY=Math.max(l,(r=this.$e.maxScrollY)!==null&&r!==void 0?r:0),this.$e.maxScrollHeight=Math.max(c,(n=this.$e.maxScrollHeight)!==null&&n!==void 0?n:0),this.$e.lastContentY=u,this.$e.maxContentY=Math.max(u,(s=this.$e.maxContentY)!==null&&s!==void 0?s:0),this.$e.maxContentHeight=Math.max(d,(i=this.$e.maxContentHeight)!==null&&i!==void 0?i:0)},this._instance=t}getContext(){return this.$e}resetContext(){var t=this.$e;return setTimeout(this.Ee,0),t}startMeasuringScrollPosition(){fr(q,"scroll",this.Ee,{capture:!0}),fr(q,"scrollend",this.Ee,{capture:!0}),fr(q,"resize",this.Ee)}scrollElement(){if(!this._instance.config.scroll_root_selector)return q==null?void 0:q.document.documentElement;var t=Mt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=q==null?void 0:q.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return q&&(q.scrollY||q.pageYOffset||q.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return q&&(q.scrollX||q.pageXOffset||q.document.documentElement.scrollLeft)||0}}var oPe=e=>Uq(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class cM{constructor(t,r,n,s){this.ke=i=>{var a=this.Pe();if(!a||a.sessionId!==i){var l={sessionId:i,props:this.Te(this._instance)};this.Ie.register({[eE]:l})}},this._instance=t,this.Re=r,this.Ie=n,this.Te=s||oPe,this.Re.onSessionId(this.ke)}Pe(){return this.Ie.props[eE]}getSetOnceProps(){var t,r=(t=this.Pe())==null?void 0:t.props;return r?"r"in r?zq(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return Pt(C2(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+HN(n)]=r}),t}}var L1=qr("[SessionId]");class uM{on(t,r){return this.Ce.on(t,r)}constructor(t,r,n){var s;if(this.Oe=[],this.Fe=void 0,this.Ce=new L2,this.Me=(d,f)=>Math.abs(d-f)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=t.config,this.Ie=t.persistence,this.Ae=void 0,this.je=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.De=r||il,this.Le=n||il;var i=this.A.persistence_name||this.A.token,a=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Xi(a,60,36e3,L1.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ne(),this.Ue="ph_"+i+"_window_id",this.ze="ph_"+i+"_primary_window_exists",this.He()){var l=Yr.K(this.Ue),c=Yr.K(this.ze);l&&!c?this.Ae=l:Yr.X(this.Ue),Yr.Y(this.ze,!0)}if((s=this.A.bootstrap)!=null&&s.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Be(this.A.bootstrap.sessionID,new Date().getTime(),u)}catch(d){L1.error("Invalid sessionID in bootstrap",d)}this.qe()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return oe(this.Oe)&&(this.Oe=[]),this.Oe.push(t),this.je&&t(this.je,this.Ae),()=>{this.Oe=this.Oe.filter(r=>r!==t)}}He(){return this.A.persistence!=="memory"&&!this.Ie.$i&&Yr.G()}We(t){t!==this.Ae&&(this.Ae=t,this.He()&&Yr.Y(this.Ue,t))}Ge(){return this.Ae?this.Ae:this.He()?Yr.K(this.Ue):null}Be(t,r,n){t===this.je&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.je=t,this.Ie.register({[Ly]:[r,t,n]}))}Ve(){if(this.je&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.je,this._sessionStartTimestamp];var t=this.Ie.props[Ly];return Mt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Be(null,null,null)}destroy(){clearTimeout(this.Je),this.Je=void 0,this.Fe&&q&&(q.removeEventListener("beforeunload",this.Fe,{capture:!1}),this.Fe=void 0),this.Oe=[]}qe(){this.Fe=()=>{this.He()&&Yr.X(this.ze)},fr(q,"beforeunload",this.Fe,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.A.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[s,i,a]=this.Ve(),l=this.Ge(),c=da(a)&&a>0&&Math.abs(n-a)>864e5,u=!1,d=!i,f=!t&&this.Me(n,s);d||f||c?(i=this.De(),l=this.Le(),L1.info("new session ID generated",{sessionId:i,windowId:l,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}}),a=n,u=!0):l||(l=this.Le(),u=!0);var h=s===0||!t||c?n:s,m=a===0?new Date().getTime():a;return this.We(l),this.Be(i,h,m),t||this.Ne(),u&&this.Oe.forEach(v=>v(i,l,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0)),{sessionId:i,windowId:l,sessionStartTimestamp:m,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:s}}Ne(){clearTimeout(this.Je),this.Je=setTimeout(()=>{var[t]=this.Ve();if(this.Me(new Date().getTime(),t)){var r=this.je;this.resetSessionId(),this.Ce.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var lPe=["$set_once","$set"],Oo=qr("[SiteApps]");class cPe{constructor(t){this._instance=t,this.Ke=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ye(t,r){if(r){var n=this.globalsForEvent(r);this.Ke.push(n),this.Ke.length>1e3&&(this.Ke=this.Ke.slice(10))}}get siteAppLoaders(){var t;return(t=Le._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Li(this.Ye.bind(this));this.Xe=()=>{t(),this.Ke=[],this.Xe=void 0}}}globalsForEvent(t){var r,n,s,i,a,l,c;if(!t)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,m]of Object.entries(f))u[h]={id:d[h],type:h,properties:m};var{$set_once:v,$set:g}=t;return{event:be({},q9(t,lPe),{properties:be({},t.properties,g?{$set:be({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},g)}:{},v?{$set_once:be({},(s=(i=t.properties)==null?void 0:i.$set_once)!==null&&s!==void 0?s:{},v)}:{}),elements_chain:(a=(l=t.properties)==null?void 0:l.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var l;!r.errored&&this.Ke.length&&(Oo.info("Processing "+this.Ke.length+" events for site app with id "+t.id),this.Ke.forEach(c=>r.processEvent==null?void 0:r.processEvent(c)),r.processedBuffer=!0),Object.values(this.apps).every(c=>c.processedBuffer||c.errored)&&((l=this.Xe)==null||l.call(this))},s=!1,i=l=>{r.errored=!l,r.loaded=!0,Oo.info("Site app with id "+t.id+" "+(l?"loaded":"errored")),s&&n()};try{var{processEvent:a}=t.init({posthog:this._instance,callback:l=>{i(l)}});a&&(r.processEvent=a),s=!0}catch(l){Oo.error("Error while initializing PostHog app with config id "+t.id,l),i(!1)}if(s&&r.loaded)try{n()}catch(l){Oo.error("Error while processing buffered events PostHog app with config id "+t.id,l),r.errored=!0}}Qe(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}Ze(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(s){Oo.error("Error while processing event "+t.event+" for site app "+n.id,s)}}}onRemoteConfig(t){var r,n,s,i=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.Qe(),void this._instance.on("eventCaptured",u=>this.Ze(u))):void Oo.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.Xe)==null||n.call(this),(s=t.siteApps)!=null&&s.length)if(this.isEnabled){var a=function(u){var d;Le["__$$ph_site_app_"+u]=i._instance,(d=Le.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(i._instance,c,f=>{if(f)return Oo.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:l,url:c}of t.siteApps)a(l)}else Oo.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var uPe=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],dM=function(e,t){if(!e)return!1;var r=e.toLowerCase();return uPe.concat(t||[]).some(n=>{var s=n.toLowerCase();return r.indexOf(s)!==-1})},Xq=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&dM(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some(s=>dM(s==null?void 0:s.brand,t)))return!0}catch{}return!!e.webdriver},Hh=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),fM="i.posthog.com";class dPe{constructor(t){this.tr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+fM,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.tr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.tr[this.apiHost]=Hh.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.tr[this.apiHost]=Hh.EU:this.tr[this.apiHost]=Hh.CUSTOM),this.tr[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(this.region===Hh.CUSTOM)return this.apiHost+r;var n=fM+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var fPe={icontains:(e,t)=>!!q&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!q&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!q&&pf(t.href,e),not_regex:(e,t)=>!!q&&!pf(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class rn{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(s=>{rn.ir("retrieved web experiments from the server"),r.er=new Map,s.forEach(i=>{if(i.feature_flag_key){var a;r.er&&(rn.ir("setting flag key ",i.feature_flag_key," to web experiment ",i),(a=r.er)==null||a.set(i.feature_flag_key,i));var l=r._instance.getFeatureFlag(i.feature_flag_key);Er(l)&&i.variants[l]&&r.rr(i.name,l,i.variants[l].transforms)}else if(i.variants)for(var c in i.variants){var u=i.variants[c];rn.sr(u)&&r.rr(i.name,c,u.transforms)}})},n)},this._instance=t,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(t){if(this._is_bot())rn.ir("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Dt(this.er))return this.er=new Map,this.loadIfEnabled(),void this.previewWebExperiment();rn.ir("applying feature flags",t),t.forEach(r=>{var n;if(this.er&&(n=this.er)!=null&&n.has(r)){var s,i=this._instance.getFeatureFlag(r),a=(s=this.er)==null?void 0:s.get(r);i&&a!=null&&a.variants[i]&&this.rr(a.name,i,a.variants[i].transforms)}})}}previewWebExperiment(){var t=rn.getWindowLocation();if(t!=null&&t.search){var r=Wy(t==null?void 0:t.search,"__experiment_id"),n=Wy(t==null?void 0:t.search,"__experiment_variant");r&&n&&(rn.ir("previewing web experiments "+r+" && "+n),this.getWebExperiments(s=>{this.nr(parseInt(r),n,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var s=this._instance.get_property("$web_experiments");if(s&&!r)return t(s);this._instance.mi({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:i=>{if(i.statusCode!==200||!i.json)return t([]);var a=i.json.experiments||[];return t(a)}})}nr(t,r,n){var s=n.filter(i=>i.id===t);s&&s.length>0&&(rn.ir("Previewing web experiment ["+s[0].name+"] with variant ["+r+"]"),this.rr(s[0].name,r,s[0].variants[r].transforms))}static sr(t){return!Dt(t.conditions)&&rn.ar(t)&&rn.lr(t)}static ar(t){var r;if(Dt(t.conditions)||Dt((r=t.conditions)==null?void 0:r.url))return!0;var n,s,i,a=rn.getWindowLocation();return!!a&&((n=t.conditions)==null||!n.url||fPe[(s=(i=t.conditions)==null?void 0:i.urlMatchType)!==null&&s!==void 0?s:"icontains"](t.conditions.url,a))}static getWindowLocation(){return q==null?void 0:q.location}static lr(t){var r;if(Dt(t.conditions)||Dt((r=t.conditions)==null?void 0:r.utm))return!0;var n=Mq();if(n.utm_source){var s,i,a,l,c,u,d,f,h=(s=t.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((i=t.conditions)==null||(i=i.utm)==null?void 0:i.utm_campaign)==n.utm_campaign,m=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_source||((l=t.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==n.utm_source,v=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=t.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,g=(d=t.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=t.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==n.utm_term;return h&&v&&g&&m}return!1}static ir(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];me.info("[WebExperiments] "+t,n)}rr(t,r,n){this._is_bot()?rn.ir("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(s=>{if(s.selector){var i;rn.ir("applying transform of variant "+r+" for experiment "+t+" ",s);var a=(i=document)==null?void 0:i.querySelectorAll(s.selector);a==null||a.forEach(l=>{var c=l;s.html&&(c.innerHTML=s.html),s.css&&c.setAttribute("style",s.css)})}}):rn.ir("Control variants leave the page unmodified.")}_is_bot(){return ms&&this._instance?Xq(ms,this._instance.config.custom_blocked_useragents):void 0}}var hPe=qr("[PostHog ExternalIntegrations]"),pPe={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class mPe{constructor(t){this._instance=t}nt(t,r){var n;(n=Le.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,s=>{if(s)return hPe.error("failed to load script",s);r()})}startIfEnabledOrStop(){var t=this,r=function(a){var l,c,u;!s||(l=Le.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[a]||t.nt(pPe[a],()=>{var d;(d=Le.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[a])==null||d.start(t._instance)}),!s&&(c=Le.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[a]&&((u=Le.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[a])==null||u.stop())};for(var[n,s]of Object.entries((i=this._instance.config.integrations)!==null&&i!==void 0?i:{})){var i;r(n)}}}var hE="[SessionRecording]",kh=qr(hE);class hM{get started(){var t;return!((t=this.ur)==null||!t.isStarted)}get status(){return this.ur?this.ur.status:this.hr&&!this.dr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.hr=!1,this.vr=void 0,this._instance=t,!this._instance.sessionManager)throw kh.error("started without valid sessionManager"),new Error(hE+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(hE+' cannot be used with cookieless_mode="always"')}get dr(){var t,r=!((t=this._instance.get_property(N1))==null||!t.enabled),n=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return q&&r&&n&&!s}startIfEnabledOrStop(t){var r;if(!this.dr||(r=this.ur)==null||!r.isStarted){var n=!oe(Object.assign)&&!oe(Array.from);this.dr&&n?(this.cr(t),kh.info("starting")):this.stopRecording()}}cr(t){var r,n,s;this.dr&&(Le!=null&&(r=Le.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=Le.__PosthogExtensions__)!=null&&n.initSessionRecording?this.pr(t):(s=Le.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,this.gr,i=>{if(i)return kh.error("could not load recorder",i);this.pr(t)}))}stopRecording(){var t,r;(t=this.vr)==null||t.call(this),this.vr=void 0,(r=this.ur)==null||r.stop()}_r(){var t;(t=this._instance.persistence)==null||t.unregister(tq)}mr(t){if(this._instance.persistence){var r,n,s=this._instance.persistence,i=()=>{var a=t.sessionRecording===!1?void 0:t.sessionRecording,l=a==null?void 0:a.sampleRate,c=Dt(l)?null:parseFloat(l);Dt(c)&&this._r();var u=a==null?void 0:a.minimumDurationMilliseconds;s.register({[N1]:be({enabled:!!a},a,{networkPayloadCapture:be({capturePerformance:t.capturePerformance},a==null?void 0:a.networkPayloadCapture),canvasRecording:{enabled:a==null?void 0:a.recordCanvas,fps:a==null?void 0:a.canvasFps,quality:a==null?void 0:a.canvasQuality},sampleRate:c,minimumDurationMilliseconds:oe(u)?null:u,endpoint:a==null?void 0:a.endpoint,triggerMatchType:a==null?void 0:a.triggerMatchType,masking:a==null?void 0:a.masking,urlTriggers:a==null?void 0:a.urlTriggers})})};i(),(r=this.vr)==null||r.call(this),this.vr=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(i)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.mr(t),this.hr=!0,this.startIfEnabledOrStop()):this.hr=!0:kh.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.ur)!=null&&n.log?this.ur.log(t,r):kh.warn("log called before recorder was ready")}get gr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(N1);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}pr(t){var r,n;if((r=Le.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.ur||(this.ur=(n=Le.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.ur._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.ur.start(t)}onRRwebEmit(t){var r;(r=this.ur)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t;(t=this.ur)==null||t.overrideLinkedFlag()}overrideSampling(){var t;(t=this.ur)==null||t.overrideSampling()}overrideTrigger(t){var r;(r=this.ur)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.ur)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.ur)==null||!n.tryAddCustomEvent(t,r))}}var hp={},pE=()=>{},Qu="posthog",Qq=!WCe&&(Un==null?void 0:Un.indexOf("MSIE"))===-1&&(Un==null?void 0:Un.indexOf("Mozilla"))===-1,pM=e=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Uke(ue==null?void 0:ue.location),persistence:"localStorage+cookie",persistence_name:"",loaded:pE,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:e!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:e??"unset",debug:Vn&&Er(Vn==null?void 0:Vn.search)&&Vn.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(q==null||(t=q.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;me.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:fE},error_tracking:{},_onCapture:pE,__preview_eager_load_replay:!1}},mM=e=>{var t={};oe(e.process_person)||(t.person_profiles=e.process_person),oe(e.xhr_headers)||(t.request_headers=e.xhr_headers),oe(e.cookie_name)||(t.persistence_name=e.cookie_name),oe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),oe(e.store_google)||(t.save_campaign_params=e.store_google),oe(e.verbose)||(t.debug=e.verbose);var r=rr({},t,e);return Mt(e.property_blacklist)&&(oe(e.property_denylist)?r.property_denylist=e.property_blacklist:Mt(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:me.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class gPe{constructor(){this.__forceAllowLocalhost=!1}get yr(){return this.__forceAllowLocalhost}set yr(t){me.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Bw{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new gPe,this.br=!1,this.version=Na.LIB_VERSION,this.wr=new L2,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=pM(),this.SentryIntegration=hCe,this.sentryIntegration=t=>function(r,n){var s=yq(r,n);return{name:xq,processEvent:i=>s(i)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Sr=!1,this.Er=null,this.$r=null,this.kr=null,this.featureFlags=new GCe(this),this.toolbar=new mCe(this),this.scrollManager=new aPe(this),this.pageViewManager=new DCe(this),this.surveys=new ePe(this),this.experiments=new rn(this),this.exceptions=new qCe(this),this.rateLimiter=new tPe(this),this.requestRouter=new dPe(this),this.consent=new oCe(this),this.externalIntegrations=new mPe(this),this.people={set:(t,r,n)=>{var s=Er(t)?{[t]:r}:t;this.setPersonProperties(s),n==null||n({})},set_once:(t,r,n)=>{var s=Er(t)?{[t]:r}:t;this.setPersonProperties(void 0,s),n==null||n({})}},this.on("eventCaptured",t=>me.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,r,n){if(n&&n!==Qu){var s,i=(s=hp[n])!==null&&s!==void 0?s:new Bw;return i._init(t,r,n),hp[n]=i,hp[Qu][n]=i,i}return this._init(t,r,n)}_init(t,r,n){var s,i;if(r===void 0&&(r={}),oe(t)||KN(t))return me.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Pr(r.debug),this.Tr=r,this.Ir=[],r.person_profiles&&(this.$r=r.person_profiles),this.set_config(rr({},pM(r.defaults),mM(r),{name:n,token:t})),this.config.on_xhr_error&&me.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:Ma.GZipJS;var a=this.Rr();this.persistence=new M1(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new M1(be({},this.config,{persistence:"sessionStorage"}),a);var l=be({},this.persistence.props),c=be({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Cr=new nPe(b=>this.Or(b),this.config.request_queue_config),this.Fr=new iPe(this),this.__request_queue=[];var u=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(u||(this.sessionManager=new uM(this),this.sessionPropsManager=new cM(this,this.sessionManager,this.persistence)),new vCe(this).startIfEnabledOrStop(),this.siteApps=new cPe(this),(s=this.siteApps)==null||s.init(),u||(this.sessionRecording=new hM(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Zke(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new ICe(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new TCe(this),this.exceptionObserver=new uCe(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new vq(this,cCe),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new dCe(this),this.historyAutocapture.startIfEnabled(),Na.DEBUG=Na.DEBUG||this.config.debug,Na.DEBUG&&me.info("Starting in debug mode",{this:this,config:r,thisC:be({},this.config),p:l,s:c}),((i=r.bootstrap)==null?void 0:i.distinctID)!==void 0){var d,f,h=this.config.get_device_id(il()),m=(d=r.bootstrap)!=null&&d.isIdentifiedID?h:r.bootstrap.distinctID;this.persistence.set_property(Ea,(f=r.bootstrap)!=null&&f.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:m})}if(this.Mr()){var v,g,x=Object.keys(((v=r.bootstrap)==null?void 0:v.featureFlags)||{}).filter(b=>{var _;return!((_=r.bootstrap)==null||(_=_.featureFlags)==null||!_[b])}).reduce((b,_)=>{var j;return b[_]=((j=r.bootstrap)==null||(j=j.featureFlags)==null?void 0:j[_])||!1,b},{}),y=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlagPayloads)||{}).filter(b=>x[b]).reduce((b,_)=>{var j,S;return(j=r.bootstrap)!=null&&(j=j.featureFlagPayloads)!=null&&j[_]&&(b[_]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[_]),b},{});this.featureFlags.receivedFeatureFlags({featureFlags:x,featureFlagPayloads:y})}if(u)this.register_once({distinct_id:wh,$device_id:null},"");else if(!this.get_distinct_id()){var w=this.config.get_device_id(il());this.register_once({distinct_id:w,$device_id:w},""),this.persistence.set_property(Ea,"anonymous")}return fr(q,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?fCe(this,()=>this.Ar()):this.Ar(),bl(this.config._onCapture)&&this.config._onCapture!==pE&&(me.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",b=>this.config._onCapture(b.event,b))),this.config.ip&&me.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}yi(t){var r,n,s,i,a,l,c,u;if(!ue||!ue.body)return me.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.yi(t)},500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Je(t.supportedCompression,Ma.GZipJS)?Ma.GZipJS:Je(t.supportedCompression,Ma.Base64)?Ma.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.$r?this.$r:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(s=this.sessionRecording)==null||s.onRemoteConfig(t),(i=this.autocapture)==null||i.onRemoteConfig(t),(a=this.heatmaps)==null||a.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}Ar(){try{this.config.loaded(this)}catch(t){me.critical("`loaded` function failed",t)}this.jr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Dr()},1),new rPe(this).load(),this.featureFlags.flags()}jr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Cr)==null||t.enable())}_dom_loaded(){this.is_capturing()&&_l(this.__request_queue,t=>this.Or(t)),this.__request_queue=[],this.jr()}_handle_unload(){var t,r;this.config.request_batching?(this.Lr()&&this.capture("$pageleave"),(t=this.Cr)==null||t.unload(),(r=this.Fr)==null||r.unload()):this.Lr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}mi(t){this.__loaded&&(Qq?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Yy(t.url,{ip:this.config.ip?1:0}),t.headers=be({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,s,i,a=be({},r);a.timeout=a.timeout||6e4,a.url=Yy(a.url,{_:new Date().getTime().toString(),ver:Na.LIB_VERSION,compression:a.compression});var l=(n=a.transport)!==null&&n!==void 0?n:"fetch",c=Hv.filter(d=>!a.disableTransport||!d.transport||!a.disableTransport.includes(d.transport)),u=(s=(i=J9(c,d=>d.transport===l))==null?void 0:i.method)!==null&&s!==void 0?s:c[0].method;if(!u)throw new Error("No available transport method");u(a)})(be({},t,{callback:r=>{var n,s;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(s=this.config).on_request_error)==null||n.call(s,r)),t.callback==null||t.callback(r)}}))))}Or(t){this.Fr?this.Fr.retriableRequest(t):this.mi(t)}_execute_array(t){var r,n=[],s=[],i=[];_l(t,l=>{l&&(r=l[0],Mt(r)?i.push(l):bl(l)?l.call(this):Mt(l)&&r==="alias"?n.push(l):Mt(l)&&r.indexOf("capture")!==-1&&bl(this[r])?i.push(l):s.push(l))});var a=function(l,c){_l(l,function(u){if(Mt(u[0])){var d=c;Pt(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(n,this),a(s,this),a(i,this)}Mr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Cr){if(this.is_capturing())if(!oe(t)&&Er(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var i=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){r!=null&&r.$current_url&&!Er(r==null?void 0:r.$current_url)&&(me.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var a=new Date,l=(n==null?void 0:n.timestamp)||a,c=il(),u={uuid:c,event:t,properties:this.calculateEventProperties(t,r||{},l,c)};i&&(u.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),n!=null&&n.$set&&(u.$set=n==null?void 0:n.$set);var d,f=this.Nr(n==null?void 0:n.$set_once);if(f&&(u.$set_once=f),(u=Lke(u,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=l,oe(n==null?void 0:n.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=a),t===Kv.DISMISSED||t===Kv.SENT){var h=r==null?void 0:r[aM.SURVEY_ID],m=r==null?void 0:r[aM.SURVEY_ITERATION];d={id:h,current_iteration:m},localStorage.getItem(oM(d))||localStorage.setItem(oM(d),"true"),u.$set=be({},u.$set,{[XCe({id:h,current_iteration:m},t===Kv.SENT?"responded":"dismissed")]:!0})}var v=be({},u.properties.$set,u.$set);if(dd(v)||this.setPersonPropertiesForFlags(v),!Dt(this.config.before_send)){var g=this.Ur(u);if(!g)return;u=g}this.wr.emit("eventCaptured",u);var x={method:"POST",url:(s=n==null?void 0:n._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Or(x):this.Cr.enqueue(x),u}me.critical("This capture call is ignored due to client rate limiting.")}}else me.error("No event name provided to posthog.capture")}else me.uninitializedWarning("posthog.capture")}Li(t){return this.on("eventCaptured",r=>t(r.event,r))}calculateEventProperties(t,r,n,s,i){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var a=i?void 0:this.persistence.remove_event_timer(t),l=be({},r);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),t==="$snapshot"){var c=be({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!Er(l.distinct_id)&&!da(l.distinct_id)||KN(l.distinct_id))&&me.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,d=OCe(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(i,n.getTime());l.$session_id=f,l.$window_id=h}this.sessionPropsManager&&rr(l,this.sessionPropsManager.getSessionProps());try{var m;this.sessionRecording&&rr(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(m=this.Fr)==null?void 0:m.length}catch(y){l.$sdk_debug_error_capturing_properties=String(y)}if(this.requestRouter.region===Hh.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=t!=="$pageview"||i?t!=="$pageleave"||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),l=rr(l,u),t==="$pageview"&&ue&&(l.title=ue.title),!oe(a)){var v=n.getTime()-a;l.$duration=parseFloat((v/1e3).toFixed(3))}Un&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=rr({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),Mt(this.config.property_denylist)?Pt(this.config.property_denylist,function(y){delete l[y]}):me.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;g&&(me.error("sanitize_properties is deprecated. Use before_send instead"),l=g(l,t));var x=this.zr();return l.$process_person_profile=x,x&&!i&&this.Hr("_calculate_event_properties"),l}Nr(t){var r;if(!this.persistence||!this.zr()||this.br)return t;var n=this.persistence.get_initial_props(),s=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),i=rr({},n,s||{},t||{}),a=this.config.sanitize_properties;return a&&(me.error("sanitize_properties is deprecated. Use before_send instead"),i=a(i,"$set_once")),this.br=!0,dd(i)?void 0:i}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var s;(s=this.persistence)==null||s.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}Br(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.wr.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=JCe),this.surveys.displaySurvey(t,r)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return me.uninitializedWarning("posthog.identify");if(da(t)&&(t=t.toString(),me.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))me.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==wh){if(this.Hr("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var i=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}t!==s&&t!==this.get_property(Uh)&&(this.unregister(Uh),this.register({distinct_id:t}));var a=(this.persistence.get_property(Ea)||"anonymous")==="anonymous";t!==s&&a?(this.persistence.set_property(Ea,"identified"),this.setPersonPropertiesForFlags(be({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.kr=rM(t,r,n),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),t!==s&&(this.reloadFeatureFlags(),this.unregister(Fy))}}else me.critical('The string "'+wh+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else me.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.Hr("posthog.setPersonProperties")){var n=rM(this.get_distinct_id(),t,r);this.kr!==n?(this.setPersonPropertiesForFlags(be({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.kr=n):me.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){if(this.Hr("posthog.group")){var s=this.getGroups();s[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:be({},s,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),s[t]===r||n||this.reloadFeatureFlags()}}else me.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.Hr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,s,i;if(me.info("reset"),!this.__loaded)return me.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(s=this.persistence)==null||s.set_property(Ea,"anonymous"),(i=this.sessionManager)==null||i.resetSessionId(),this.kr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:wh,$device_id:null},"");else{var l=this.config.get_device_id(il());this.register_once({distinct_id:l,$device_id:t?l:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var i,a=(i=t.timestampLookBack)!==null&&i!==void 0?i:10;if(!n)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-a,0)}return s}alias(t,r){return t===this.get_property(Z9)?(me.critical("Attempting to create alias for existing People user - aborting."),-2):this.Hr("posthog.alias")?(oe(r)&&(r=this.get_distinct_id()),t!==r?(this.Br(Uh,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(me.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=be({},this.config);if(on(t)){var n,s,i,a,l;rr(this.config,mM(t));var c=this.Rr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new M1(be({},this.config,{persistence:"sessionStorage"}),c);var u=this.Pr(this.config.debug);wl(u)&&(this.config.debug=u),wl(this.config.debug)&&(this.config.debug?(Na.DEBUG=!0,Wt.G()&&Wt.Y("ph_debug","true"),me.info("set_config",{config:t,oldConfig:r,newConfig:be({},this.config)})):(Na.DEBUG=!1,Wt.G()&&Wt.X("ph_debug"))),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(i=this.autocapture)==null||i.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.qr(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var s,i,a,l,c;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),n.sampling&&((i=this.sessionRecording)==null||i.overrideSampling()),n.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),n.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),s=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(be({},s,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:Qu;return r!==Qu&&(r=Qu+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(Ea))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(Ea))==="identified"}zr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&dd(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Uh])&&((r=this.persistence)==null||(r=r.props)==null||!r[zy]))}Lr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.zr()||this.Hr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Hr(t){return this.config.person_profiles==="never"?(me.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Br(zy,!0),!0)}Rr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}qr(){var t,r,n,s,i=this.Rr();return((t=this.persistence)==null?void 0:t.$i)!==i&&((n=this.persistence)==null||n.set_disabled(i)),((r=this.sessionPersistence)==null?void 0:r.$i)!==i&&((s=this.sessionPersistence)==null||s.set_disabled(i)),i}opt_in_capturing(t){if(this.config.cookieless_mode!=="always"){var r,n;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(r=this.sessionManager)==null||r.destroy(),this.sessionManager=new uM(this),this.persistence&&(this.sessionPropsManager=new cM(this,this.sessionManager,this.persistence)),this.sessionRecording=new hM(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.qr(),this.jr(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(oe(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Dr()}else me.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.qr(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:wh,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Dr())):me.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===ka.GRANTED?"granted":t===ka.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.qr()}_is_bot(){return ms?Xq(ms,this.config.custom_blocked_useragents):void 0}Dr(){ue&&(ue.visibilityState==="visible"?this.Sr||(this.Sr=!0,this.capture("$pageview",{title:ue.title},{send_instantly:!0}),this.Er&&(ue.removeEventListener("visibilitychange",this.Er),this.Er=null)):this.Er||(this.Er=this.Dr.bind(this),fr(ue,"visibilitychange",this.Er)))}debug(t){t===!1?(q==null||q.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(q==null||q.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}L(){var t,r,n,s,i,a,l,c=this.Tr||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(me.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=!1,i=me,a=(r="advanced_disable_flags")in(t=c)&&!oe(t[r]),l=n in t&&!oe(t[n]),a?t[r]:l?(i&&i.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):s)}Ur(t){if(Dt(this.config.before_send))return t;var r=Mt(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var s of r){if(n=s(n),Dt(n)){var i="Event '"+t.event+"' was rejected in beforeSend function";return dke(t.event)?me.warn(i+". This can cause unexpected behavior."):me.info(i),null}n.properties&&!dd(n.properties)||me.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Xt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Pr(t){var r=wl(t)&&!t,n=Wt.G()&&Wt.J("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=$ke(e.prototype[t[r]])})(Bw,["identify"]);var gM,qu=(gM=hp[Qu]=new Bw,function(){function e(){e.done||(e.done=!0,Qq=!1,Pt(hp,function(t){t._dom_loaded()}))}ue!=null&&ue.addEventListener?ue.readyState==="complete"?e():fr(ue,"DOMContentLoaded",e,{capture:!1}):q&&me.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),gM);const al={track:(e,t)=>{typeof qu<"u"&&qu.capture(e,t)},identify:(e,t)=>{typeof qu<"u"&&qu.identify(e,t)},pageView:e=>{typeof qu<"u"&&qu.capture("$pageview",{$current_url:e})},analysisStarted:e=>{al.track("Analysis Started",e)},analysisCompleted:e=>{al.track("Analysis Completed",e)},csvExported:e=>{al.track("CSV Exported",e)},errorOccurred:(e,t)=>{al.track("Error Occurred",{error:e,...t}),HEe(new Error(e),{extra:t})}};function Vw({breadcrumbs:e,showBackToDashboard:t=!0,showBackButton:r=!1,backButtonLabel:n="Back",backButtonHref:s}){const{user:i}=go();return o.jsx("div",{className:"relative border-b border-white/10 bg-card-dark/50 backdrop-blur-sm",children:o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs(Re,{to:"/dashboard",className:"flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"RestaurantIQ"})]}),o.jsx("div",{className:"hidden md:flex items-center gap-2 text-sm",children:e.map((a,l)=>o.jsxs("div",{className:"flex items-center gap-2",children:[l>0&&o.jsx(ju,{className:"h-4 w-4 text-slate-500"}),a.href?o.jsx(Re,{to:a.href,className:"text-slate-400 hover:text-emerald-400 transition-colors",children:a.label}):o.jsx("span",{className:"text-white font-medium",children:a.label})]},l))}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("span",{className:"text-sm text-slate-400",children:i==null?void 0:i.email})})]}),(t||r)&&o.jsxs("div",{className:"flex items-center gap-3",children:[t&&o.jsx(Re,{to:"/dashboard",children:o.jsxs(W,{variant:"outline",size:"sm",className:"border-white/10 text-slate-400 hover:bg-white/5 hover:text-white",children:[o.jsx(x0,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),r&&s&&o.jsx(Re,{to:s,children:o.jsxs(W,{variant:"outline",size:"sm",className:"border-white/10 text-slate-400 hover:bg-white/5 hover:text-white",children:[o.jsx(vl,{className:"h-4 w-4 mr-2"}),n]})})]})]})})}function Kh({children:e,breadcrumbs:t,showBackToDashboard:r=!0,showBackButton:n=!1,backButtonLabel:s,backButtonHref:i}){return o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsx(Vw,{breadcrumbs:t,showBackToDashboard:r,showBackButton:n,backButtonLabel:s,backButtonHref:i}),o.jsx("div",{className:"relative container mx-auto px-4 py-12",children:e})]})}const vPe=Em({restaurant_name:dr().min(1,"Restaurant name is required"),location:dr().min(1,"Location is required"),category:dr().min(1,"Category is required"),tier:lL(["free","premium"],{required_error:"Please select a tier"})});function xPe(){const e=Nt(),{user:t}=go(),{toast:r}=Tn(),n=S0({resolver:N0(vPe),defaultValues:{restaurant_name:"",location:"",category:"restaurant",tier:(t==null?void 0:t.subscription_tier)==="free"?"free":"premium"}}),[s]=p.useState(!0),[i,a]=p.useState(null),l=n.watch("tier"),c=l==="premium"?"premium_analysis":"free_analysis",{limit:u,isBlocked:d}=X0(c),f=Za({mutationFn:async v=>{console.log(" FORM SUBMISSION: User submitted analysis form"),console.log(" FORM SUBMISSION: Form data:",JSON.stringify(v,null,2));const g={...v,analysis_type:"review",competitor_count:v.tier==="free"?2:5};if(console.log(" FORM SUBMISSION: Built API request:",JSON.stringify(g,null,2)),al.analysisStarted({restaurant_name:v.restaurant_name,category:v.category,tier:v.tier}),s)return a(g),{analysis_id:"streaming",status:"streaming"};{console.log(" FORM SUBMISSION: Using traditional API...");const x=await _c.createReviewAnalysis(g);return console.log(" FORM SUBMISSION: API call completed successfully"),x}},onSuccess:v=>{s||(console.log(" FORM SUCCESS: Analysis creation successful!"),r({title:"Analysis Started",description:"Your competitor analysis is now running. You'll be redirected to track progress."}),e(`/analysis/${v.analysis_id}/progress`))},onError:v=>{var x,y,w;console.error(" FORM ERROR: Analysis creation failed"),console.error(" FORM ERROR: Error details:",v);const g=((x=v==null?void 0:v.response)==null?void 0:x.status)===429||((y=v==null?void 0:v.message)==null?void 0:y.includes("Usage limit"))||((w=v==null?void 0:v.message)==null?void 0:w.includes("limit exceeded"));al.errorOccurred("Analysis Creation Failed",{error:v instanceof Error?v.message:"Unknown error",isLimitError:g}),r({variant:"destructive",title:g?"Usage Limit Reached":"Analysis Failed",description:v instanceof Error?v.message:"Failed to start analysis. Please try again."})}}),h=async v=>{f.mutate(v)};if(i&&s)return o.jsx(NEe,{request:i,onComplete:v=>{r({title:"Analysis Complete",description:"Your competitor analysis is ready to view. Use the buttons below to navigate."})},onCancel:()=>{a(null)}});const m=["restaurant","pizza","burger","fast_food","fine_dining","cafe","bakery","bar","food_truck"];return o.jsx(Kh,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Analysis",href:"/analysis"},{label:"New"}],children:o.jsx("div",{className:"max-w-3xl mx-auto",children:o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsx(Ne,{className:"space-y-3 pb-8",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:o.jsx(pr,{className:"h-6 w-6 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-3xl font-bold text-white",children:"Analyze Competitors"}),o.jsx(gn,{className:"text-slate-400 text-base mt-1",children:"Discover insights from competitor reviews in minutes"})]})]})}),o.jsxs(le,{className:"space-y-6",children:[u&&o.jsx(jw,{limit:u,featureName:`${l} analyses`}),f.error&&o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-4 w-4"}),o.jsx(ft,{children:f.error instanceof Error?f.error.message:"Analysis failed. Please try again."})]}),u&&u.allowed&&o.jsx(Sw,{limit:u}),o.jsx(E0,{...n,children:o.jsxs("form",{onSubmit:n.handleSubmit(h),className:"space-y-6",children:[o.jsx(En,{control:n.control,name:"restaurant_name",render:({field:v})=>o.jsxs(ln,{children:[o.jsxs(cn,{className:"text-slate-200 font-medium flex items-center gap-2",children:[o.jsx(pr,{className:"h-4 w-4 text-slate-400"}),"Restaurant Name"]}),o.jsx(un,{children:o.jsx(We,{...v,placeholder:"e.g., Park Ave Pizza",className:"h-12 text-base bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20","data-testid":"restaurant-name"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:n.control,name:"location",render:({field:v})=>o.jsxs(ln,{children:[o.jsxs(cn,{className:"text-slate-200 font-medium flex items-center gap-2",children:[o.jsx(fa,{className:"h-4 w-4 text-slate-400"}),"Location"]}),o.jsx(un,{children:o.jsx(S2,{...v,placeholder:"Enter address or city, state",className:"h-12 text-base","data-testid":"location"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:n.control,name:"category",render:({field:v})=>o.jsxs(ln,{children:[o.jsxs(cn,{className:"text-slate-200 font-medium flex items-center gap-2",children:[o.jsx(P3,{className:"h-4 w-4 text-slate-400"}),"Category"]}),o.jsxs(ca,{onValueChange:v.onChange,defaultValue:v.value,children:[o.jsx(un,{children:o.jsx(Ii,{className:"h-12 text-base bg-obsidian/50 border-white/10 text-white","data-testid":"category",children:o.jsx(ua,{placeholder:"Select restaurant category"})})}),o.jsx(Di,{className:"bg-card-dark border-white/10",children:m.map(g=>o.jsx(ct,{value:g,className:"text-white hover:bg-white/5",children:g.replace("_"," ").replace(/\b\w/g,x=>x.toUpperCase())},g))})]}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:n.control,name:"tier",render:({field:v})=>o.jsxs(ln,{children:[o.jsx(cn,{className:"text-slate-200 font-medium",children:"Analysis Tier"}),o.jsx(un,{children:o.jsx(wEe,{value:v.value,onChange:v.onChange,userTier:(t==null?void 0:t.subscription_tier)||"free"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx("div",{className:"pt-4",children:o.jsx(W,{type:"submit",className:"w-full h-14 text-base font-semibold bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25 transition-all duration-200",disabled:f.isPending||d,children:f.isPending?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Starting Analysis..."]}):o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(pr,{className:"h-5 w-5"}),"Analyze Competitors"]})})})]})})]})]})})})}function yPe(){return o.jsx(Ur,{children:o.jsx(xPe,{})})}function bPe(e){const[t,r]=p.useState(!0),[n,s]=p.useState(!0),i=p.useRef(0);p.useEffect(()=>{const u=()=>{s(!document.hidden)};return document.addEventListener("visibilitychange",u),()=>document.removeEventListener("visibilitychange",u)},[]);const{data:a,error:l,isLoading:c}=ws({queryKey:["analysis-status",e],queryFn:()=>_c.getAnalysisStatus(e),enabled:t&&!!e&&n,refetchInterval:u=>{var h;const d=(h=u==null?void 0:u.state)==null?void 0:h.data;if((d==null?void 0:d.status)==="completed"||(d==null?void 0:d.status)==="failed")return r(!1),!1;const f=(d==null?void 0:d.progress_percentage)||0;return i.current=f,n?f>80?1e3:f<20?3e3:2e3:1e4},retry:u=>u<3});return p.useEffect(()=>()=>r(!1),[]),p.useEffect(()=>{((a==null?void 0:a.status)==="completed"||(a==null?void 0:a.status)==="failed")&&r(!1)},[a==null?void 0:a.status]),p.useEffect(()=>{n&&a&&a.status==="running"&&!t&&r(!0)},[n,a,t]),{status:a,error:l,isLoading:c,isPolling:t,isTabVisible:n,stopPolling:()=>r(!1),startPolling:()=>r(!0)}}function wPe({analysisId:e}){const t=Nt(),{status:r,error:n,isLoading:s,stopPolling:i}=bPe(e);p.useEffect(()=>{(r==null?void 0:r.status)==="completed"&&t(`/analysis/${e}/results`)},[r==null?void 0:r.status,e,t]);const a=d=>{switch(d){case"pending":return{color:"bg-amber-500/10 text-amber-400 border-amber-500/30",icon:Jn};case"running":return{color:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",icon:hr};case"completed":return{color:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",icon:_s};case"failed":return{color:"bg-red-500/10 text-red-400 border-red-500/30",icon:jO};default:return{color:"bg-slate-500/10 text-slate-400 border-slate-500/30",icon:Jn}}},l=d=>{if(!d)return"Calculating...";const f=Math.ceil(d/60);return f<1?"Less than 1 minute":f===1?"1 minute remaining":`${f} minutes remaining`};if(s||!r)return o.jsx("div",{className:"min-h-screen bg-obsidian flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(hr,{className:"h-12 w-12 text-emerald-500 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading analysis..."})]})});if(n)return o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-transparent to-red-500/5 pointer-events-none"}),o.jsxs("div",{className:"relative container mx-auto px-4 py-12 max-w-2xl",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Re,{to:"/",className:"inline-flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"RestaurantIQ"})]})}),o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsxs(ft,{className:"text-base",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Analysis Failed"}),o.jsx("p",{className:"mb-4",children:n instanceof Error?n.message:"Unknown error"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(W,{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600",children:"Retry"}),o.jsx(W,{variant:"outline",onClick:()=>t("/dashboard"),className:"border-white/10 text-white hover:bg-white/5",children:"Back to Dashboard"})]})]})]})]})]});const c=a(r.status),u=c.icon;return o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsx("div",{className:"relative border-b border-white/10 bg-card-dark/50 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs(Re,{to:"/",className:"inline-flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"RestaurantIQ"})]})})}),o.jsx("div",{className:"relative container mx-auto px-4 py-12 max-w-2xl",children:o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsxs(Ne,{className:"text-center space-y-4 pb-8",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-xl animate-pulse"}),o.jsx("div",{className:"relative p-4 rounded-full bg-emerald-500/10 border border-emerald-500/30",children:o.jsx(pr,{className:"h-8 w-8 text-emerald-400 animate-pulse"})})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[o.jsx(Te,{className:"text-3xl font-bold text-white",children:"Analyzing Competitors"}),o.jsxs(ke,{className:`${c.color} border font-semibold`,children:[o.jsx(u,{className:`h-3 w-3 mr-1 ${r.status==="running"?"animate-spin":""}`}),r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]}),o.jsx("p",{className:"text-slate-400 text-base",children:r.current_step||"Starting analysis..."})]})]}),o.jsxs(le,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(Dw,{value:r.progress_percentage||0,className:"h-3 bg-obsidian/50"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-emerald-400 font-semibold",children:[r.progress_percentage||0,"% complete"]}),o.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[o.jsx(Jn,{className:"h-3 w-3"}),l(r.estimated_time_remaining_seconds)]})]})]}),o.jsx("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ni,{className:"h-5 w-5 text-cyan-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:"Current Step"}),o.jsx("p",{className:"text-sm text-slate-400",children:r.current_step||"Initializing analysis..."})]})]})}),o.jsxs("div",{className:"space-y-3 text-sm border-t border-white/10 pt-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-500",children:"Analysis ID"}),o.jsx("span",{className:"font-mono text-xs text-slate-300 bg-obsidian/50 px-2 py-1 rounded",children:e})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-500",children:"Started"}),o.jsx("span",{className:"text-slate-300",children:new Date().toLocaleTimeString()})]})]}),o.jsx("div",{className:"pt-4",children:o.jsxs(W,{variant:"outline",className:"w-full h-12 border-white/10 text-slate-300 hover:bg-red-500/10 hover:text-red-400 hover:border-red-500/30 transition-colors",onClick:()=>{i(),t("/dashboard")},children:[o.jsx(jO,{className:"h-4 w-4 mr-2"}),"Cancel Analysis"]})})]})]})})]})}function _Pe(){const{analysisId:e}=Vl();return e?/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)?o.jsx(Ur,{children:o.jsx(wPe,{analysisId:e})}):o.jsx(bx,{to:"/dashboard",replace:!0}):o.jsx(bx,{to:"/dashboard",replace:!0})}function jPe({groupedInsight:e,isExpanded:t,onToggle:r}){const{mainInsight:n,restaurantSources:s}=e,[i,a]=p.useState(!1),l=d=>{switch(d){case"threat":return"bg-red-100 text-red-800 border-red-200";case"opportunity":return"bg-green-100 text-green-800 border-green-200";case"watch":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=d=>{switch(d){case"high":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},u=d=>{switch(d){case"threat":return"";case"opportunity":return"";case"watch":return"";default:return""}};return o.jsxs(se,{className:$("cursor-pointer transition-all duration-200 hover:shadow-md",l(n.type||n.category),t&&"ring-2 ring-primary ring-offset-2"),onClick:r,children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:u(n.type||n.category)}),o.jsx(Te,{className:"text-base leading-tight",children:n.title})]}),o.jsx("div",{className:"flex flex-col gap-1",children:o.jsx(ke,{className:c(n.confidence),variant:"outline",children:n.confidence})})]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsx(gn,{className:"text-sm",children:n.description}),t&&o.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm mb-1",children:"Evidence"}),o.jsxs("blockquote",{className:"text-sm italic text-muted-foreground bg-background/50 p-3 rounded border-l-4 border-primary",children:['"',n.proof_quote,'"']})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("span",{children:["Source: ",n.competitor_name||"Multiple Sources"]}),o.jsxs("span",{children:[n.mention_count," mentions"]})]})]}),s.length>0&&o.jsxs("div",{className:"mt-3 border-t pt-3",onClick:d=>d.stopPropagation(),children:[o.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>a(!i),className:"text-xs h-6 px-2",children:[i?"Hide":"Show"," Restaurant Sources (",s.length,")"]}),i&&o.jsx("div",{className:"mt-2 space-y-2",children:s.map((d,f)=>o.jsxs("div",{className:"bg-muted/30 p-2 rounded text-xs border-l-2 border-primary/30",children:[o.jsx("div",{className:"font-medium text-foreground mb-1",children:d.name}),o.jsxs("div",{className:"italic text-muted-foreground mb-2",children:['"',d.quote,'"']}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(ke,{className:$("text-xs",c(d.confidence)),variant:"outline",children:d.confidence}),o.jsxs("span",{className:"text-muted-foreground",children:[d.mentions," mentions"]})]})]},f))})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"capitalize",children:n.type||n.category}),o.jsx(W,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:d=>{d.stopPropagation(),r()},children:t?"Less":"More"})]})]})]})}function SPe(e){const t={};return e.forEach(r=>{const n=`${r.title}_${r.category}`;t[n]||(t[n]=[]),t[n].push(r)}),Object.entries(t).map(([,r])=>{const n=r.find(i=>i.competitor_name==="Multiple Sources"||i.competitor_name===null||!i.competitor_name)||r[0],s=r.filter(i=>i.competitor_name&&i.competitor_name!=="Multiple Sources"&&i.competitor_name!==null).map(i=>({name:i.competitor_name,quote:i.proof_quote,confidence:i.confidence,mentions:i.mention_count}));return{mainInsight:n,relatedInsights:r,restaurantSources:s}})}function NPe({insight:e,isExpanded:t,onToggle:r}){const n=a=>{switch(a){case"threat":return"bg-red-100 text-red-800 border-red-200";case"opportunity":return"bg-green-100 text-green-800 border-green-200";case"watch":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=a=>{switch(a){case"high":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=a=>{switch(a){case"threat":return"";case"opportunity":return"";case"watch":return"";default:return""}};return o.jsxs(se,{className:$("cursor-pointer transition-all duration-200 hover:shadow-md",n(e.type||e.category),t&&"ring-2 ring-primary ring-offset-2"),onClick:r,children:[o.jsx(Ne,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:i(e.type||e.category)}),o.jsx(Te,{className:"text-base leading-tight",children:e.title})]}),o.jsx("div",{className:"flex flex-col gap-1",children:o.jsx(ke,{className:s(e.confidence),variant:"outline",children:e.confidence})})]})}),o.jsxs(le,{className:"space-y-3",children:[o.jsx(gn,{className:"text-sm",children:e.description}),t&&o.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm mb-1",children:"Evidence"}),o.jsxs("blockquote",{className:"text-sm italic text-muted-foreground bg-background/50 p-3 rounded border-l-4 border-primary",children:['"',e.proof_quote,'"']})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("span",{children:["Source: ",e.competitor_name||"Multiple Sources"]}),o.jsxs("span",{children:[e.mention_count," mentions"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"capitalize",children:e.type||e.category}),o.jsx(W,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:a=>{a.stopPropagation(),r()},children:t?"Less":"More"})]})]})]})}function F1({insights:e,title:t,description:r,expandedInsight:n,setExpandedInsight:s,useEnhancedCards:i=!1,groupedInsights:a=null}){const[l,c]=p.useState("all");if(e.length===0)return o.jsx(dt,{children:o.jsx(ft,{children:"No insights found for this section."})});const u=l==="all"?e:e.filter(h=>(h.type||h.category)===l),d=i&&a?a.filter(h=>u.some(m=>m.id===h.mainInsight.id)):null,f={all:e.length,threat:e.filter(h=>(h.type||h.category)==="threat").length,opportunity:e.filter(h=>(h.type||h.category)==="opportunity").length,watch:e.filter(h=>(h.type||h.category)==="watch").length};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:t}),r&&o.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["all","threat","opportunity","watch"].map(h=>o.jsxs(W,{variant:l===h?"default":"outline",size:"sm",onClick:()=>c(h),className:"text-xs",children:[h==="all"?"All":h.charAt(0).toUpperCase()+h.slice(1),o.jsx(ke,{variant:"secondary",className:"ml-1 text-xs",children:f[h]})]},h))})]}),u.length===0?o.jsx(dt,{children:o.jsxs(ft,{children:["No ",l," insights found. Try a different filter."]})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i&&d?d.map((h,m)=>o.jsx(jPe,{groupedInsight:h,isExpanded:n===`${h.mainInsight.title}-${m}`,onToggle:()=>s(n===`${h.mainInsight.title}-${m}`?null:`${h.mainInsight.title}-${m}`)},`${h.mainInsight.title}-${m}`)):u.map((h,m)=>o.jsx(NPe,{insight:h,isExpanded:n===`${h.title}-${m}`,onToggle:()=>s(n===`${h.title}-${m}`?null:`${h.title}-${m}`)},`${h.title}-${m}`))})]})}function EPe({insights:e}){const[t,r]=p.useState(null),[n,s]=p.useState(!1);if(e.length===0)return o.jsx(dt,{children:o.jsx(ft,{children:"No insights generated for this analysis. This may happen if competitors have limited review data."})});const i=n?SPe(e):null,a=e.filter(u=>!u.competitor_name||u.competitor_name==="Multiple Sources"||u.competitor_name===null),l={};e.forEach(u=>{u.competitor_name&&u.competitor_name!=="Multiple Sources"&&u.competitor_name!==null&&(l[u.competitor_name]||(l[u.competitor_name]=[]),l[u.competitor_name].push(u))});const c=Object.keys(l).length>0;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Competitive Insights"}),o.jsxs(ke,{variant:"outline",children:[e.length," total insights"]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg border",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n,onChange:u=>s(u.target.checked),className:"rounded"}),"Enable Restaurant Breakdown"]}),o.jsx(ke,{variant:n?"default":"outline",className:"text-xs",children:n?"Enhanced":"Standard"})]}),c?o.jsxs(Pu,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Xl,{className:"grid w-full grid-cols-2",children:[o.jsxs(Cr,{value:"overview",children:["Overview (",a.length,")"]}),o.jsxs(Cr,{value:"by-competitor",children:["By Competitor (",Object.keys(l).length,")"]})]}),o.jsx(Pr,{value:"overview",className:"mt-6",children:o.jsx(F1,{insights:a,title:"Market Overview",description:"Cross-competitor patterns and general market insights",expandedInsight:t,setExpandedInsight:r,useEnhancedCards:n,groupedInsights:i})}),o.jsx(Pr,{value:"by-competitor",className:"mt-6 space-y-8",children:Object.entries(l).map(([u,d])=>o.jsx(F1,{insights:d,title:u,description:`Specific insights about ${u}`,expandedInsight:t,setExpandedInsight:r,useEnhancedCards:n,groupedInsights:i},u))})]}):o.jsx(F1,{insights:a,title:"Market Insights",description:"Analysis of competitive landscape",expandedInsight:t,setExpandedInsight:r,useEnhancedCards:n,groupedInsights:i})]})}function kPe({insights:e,competitors:t}){const[r,n]=p.useState(!1);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Insights View:"}),o.jsx(ke,{variant:r?"default":"outline",children:r?"Enhanced":"Original"})]}),o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>n(!r),children:["Switch to ",r?"Original":"Enhanced"]})]}),r?o.jsx(EPe,{insights:e,competitors:t}):o.jsx(T9,{insights:e})]})}function CPe({insight:e}){const t=n=>{switch(n){case"threat":return"bg-red-100 text-red-800";case"opportunity":return"bg-green-100 text-green-800";case"watch":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},r=n=>{switch(n){case"high":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return o.jsxs(se,{children:[o.jsxs(Ne,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx(Te,{className:"text-base leading-tight",children:e.title}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ke,{className:t(e.type||e.category),variant:"outline",children:e.type||e.category}),o.jsx(ke,{className:r(e.confidence),variant:"outline",children:e.confidence})]})]}),o.jsxs(gn,{children:["From ",e.competitor_name||"Multiple Sources","  ",e.mention_count," mentions"]})]}),o.jsxs(le,{children:[o.jsxs("blockquote",{className:"text-sm italic text-muted-foreground bg-muted/50 p-4 rounded-lg border-l-4 border-primary",children:['"',e.proof_quote,'"']}),o.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:o.jsxs("p",{className:"mb-1",children:[o.jsx("strong",{children:"Insight:"})," ",e.description]})})]})]})}function PPe({insights:e}){const[t,r]=p.useState(""),[n,s]=p.useState("all");if(e.length===0)return o.jsx(dt,{children:o.jsx(ft,{children:"No review evidence available. This may happen if competitors have limited review data."})});const i=e.filter(l=>{const c=t===""||l.title.toLowerCase().includes(t.toLowerCase())||l.proof_quote.toLowerCase().includes(t.toLowerCase())||(l.competitor_name||"").toLowerCase().includes(t.toLowerCase()),u=n==="all"||l.type===n;return c&&u}),a={all:e.length,threat:e.filter(l=>l.type==="threat").length,opportunity:e.filter(l=>l.type==="opportunity").length,watch:e.filter(l=>l.type==="watch").length};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Review Evidence"}),o.jsxs(ke,{variant:"outline",children:[i.length," of ",e.length," insights"]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(We,{placeholder:"Search insights, quotes, or competitors...",value:t,onChange:l=>r(l.target.value),className:"h-10"})}),o.jsx("div",{className:"flex gap-2",children:["all","threat","opportunity","watch"].map(l=>o.jsxs(W,{variant:n===l?"default":"outline",size:"sm",onClick:()=>s(l),className:"text-xs",children:[l==="all"?"All":l.charAt(0).toUpperCase()+l.slice(1),o.jsx(ke,{variant:"secondary",className:"ml-1 text-xs",children:a[l]})]},l))})]})]}),i.length===0?o.jsx(dt,{children:o.jsx(ft,{children:"No evidence found matching your search criteria. Try adjusting your search or filter."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map((l,c)=>o.jsx(CPe,{insight:l},`${l.title}-${c}`))}),o.jsxs(se,{children:[o.jsx(Ne,{children:o.jsx(Te,{className:"text-base",children:"Evidence Summary"})}),o.jsx(le,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.threat}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Threats"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.opportunity}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Opportunities"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.watch}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Watch Items"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(l=>l.confidence==="high").length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]})})]})]})}function APe({analysis:e}){const[t,r]=p.useState(!1),n=async()=>{r(!0);try{al.csvExported({analysis_id:e.analysis_id,competitor_count:e.competitors.length});const i=s(e),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");if(l.download!==void 0){const c=URL.createObjectURL(a);l.setAttribute("href",c),l.setAttribute("download",`${e.restaurant_name}_analysis_${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}catch(i){al.errorOccurred("CSV Export Failed",{analysis_id:e.analysis_id,error:i instanceof Error?i.message:"Unknown error"}),console.error("Export failed:",i)}finally{r(!1)}},s=i=>{const a=["Restaurant Name","Location","Category","Analysis Date","Competitor Name","Competitor Rating","Competitor Reviews","Distance (miles)","Insight Type","Insight Title","Insight Description","Confidence","Evidence Quote","Mention Count"],l=[];return l.push(a),i.insights.forEach(c=>{var d,f,h;const u=i.competitors.find(m=>m.name===c.competitor_name);l.push([i.restaurant_name,i.location,i.category,new Date(i.completed_at).toLocaleDateString(),c.competitor_name||"Multiple Sources",((d=u==null?void 0:u.rating)==null?void 0:d.toString())||"N/A",((f=u==null?void 0:u.review_count)==null?void 0:f.toString())||"N/A",((h=u==null?void 0:u.distance_miles)==null?void 0:h.toString())||"N/A",c.type||c.category,c.title,c.description,c.confidence,c.proof_quote,c.mention_count.toString()])}),l.map(c=>c.map(u=>`"${u.replace(/"/g,'""')}"`).join(",")).join(`
`)};return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ke,{variant:"outline",className:"hidden sm:inline-flex",children:[e.competitors.length," competitors  ",e.insights.length," insights"]}),o.jsxs(W,{onClick:n,disabled:t,className:"gap-2",variant:"outline",children:[o.jsx(Ck,{className:"h-4 w-4"}),t?"Exporting...":"Export CSV"]})]})}function OPe(){return o.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[o.jsx(qt,{className:"h-8 w-1/3"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>o.jsxs(se,{children:[o.jsxs(Ne,{children:[o.jsx(qt,{className:"h-5 mb-2"}),o.jsx(qt,{className:"h-4 w-2/3"})]}),o.jsx(le,{children:o.jsx(qt,{className:"h-20"})})]},t))})]})}function fv({label:e,value:t,description:r,icon:n,color:s="text-emerald-400"}){return o.jsx(se,{className:"bg-obsidian/50 border-white/10",children:o.jsxs(le,{className:"p-5",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("div",{className:`text-3xl font-bold ${s}`,children:t}),n&&o.jsx("div",{className:"text-slate-500",children:n})]}),o.jsx("p",{className:"text-sm font-medium text-white",children:e}),r&&o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:r})]})})}function TPe({analysisId:e}){const t=Nt(),{data:r,isLoading:n,error:s}=ws({queryKey:["analysis-results",e],queryFn:()=>_c.getReviewAnalysisResults(e),retry:2});if(n)return o.jsx(OPe,{});if(s)return o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsxs(ft,{children:[o.jsx("p",{className:"font-semibold mb-2",children:"Failed to load analysis results"}),o.jsx("p",{className:"mb-4",children:s instanceof Error?s.message:"Unknown error"}),o.jsx(W,{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600",children:"Retry"})]})]});if(!r)return o.jsx(dt,{className:"bg-slate-500/10 border-slate-500/30 text-slate-400",children:o.jsx(ft,{children:"No analysis data found. The analysis may still be processing."})});const i=r.insights.filter(c=>c.confidence==="high").length,a=r.insights.filter(c=>c.type==="threat").length,l=r.insights.filter(c=>c.type==="opportunity").length;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:r.restaurant_name}),o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-3",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsx("span",{children:r.location})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ke,{className:"bg-slate-500/10 text-slate-300 border-slate-500/30 border",children:r.category.replace("_"," ").replace(/\b\w/g,c=>c.toUpperCase())}),o.jsxs(ke,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30 border",children:[o.jsx(_s,{className:"h-3 w-3 mr-1"}),r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(W,{onClick:()=>t("/analysis/new"),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25",children:[o.jsx(Ni,{className:"h-4 w-4 mr-2"}),"New Analysis"]}),o.jsx(APe,{analysis:r})]})]}),o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:o.jsx(Zc,{className:"h-5 w-5 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-white",children:"Analysis Summary"}),o.jsxs(gn,{className:"text-slate-400 mt-1",children:[o.jsx(Jn,{className:"h-3 w-3 inline mr-1"}),"Completed on ",new Date(r.completed_at).toLocaleDateString()," in"," ",r.processing_time_seconds,"s"]})]})]})}),o.jsx(le,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(fv,{label:"Competitors Analyzed",value:r.competitors.length,description:"Nearby restaurants",icon:o.jsx(Pi,{className:"h-5 w-5"}),color:"text-emerald-400"}),o.jsx(fv,{label:"Total Insights",value:r.insights.length,description:"Generated insights",icon:o.jsx(Ni,{className:"h-5 w-5"}),color:"text-cyan-400"}),o.jsx(fv,{label:"High Confidence",value:i,description:"Reliable insights",icon:o.jsx(_s,{className:"h-5 w-5"}),color:"text-emerald-400"}),o.jsx(fv,{label:"Threats / Opportunities",value:`${a} / ${l}`,description:"Risk vs reward",icon:o.jsx(Zt,{className:"h-5 w-5"}),color:a>l?"text-red-400":"text-emerald-400"})]})})]}),o.jsxs(Pu,{defaultValue:"competitors",className:"w-full",children:[o.jsxs(Xl,{className:"grid w-full grid-cols-3 h-12 bg-obsidian/50 border border-white/10",children:[o.jsxs(Cr,{value:"competitors",className:"text-sm data-[state=active]:bg-emerald-500/10 data-[state=active]:text-emerald-400",children:[o.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Competitors"]}),o.jsxs(Cr,{value:"insights",className:"text-sm data-[state=active]:bg-cyan-500/10 data-[state=active]:text-cyan-400",children:[o.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Insights"]}),o.jsxs(Cr,{value:"evidence",className:"text-sm data-[state=active]:bg-slate-500/10 data-[state=active]:text-slate-300",children:[o.jsx(Si,{className:"h-4 w-4 mr-2"}),"Evidence"]})]}),o.jsx(Pr,{value:"competitors",className:"mt-6",children:o.jsx(O9,{competitors:r.competitors})}),o.jsx(Pr,{value:"insights",className:"mt-6",children:o.jsx(kPe,{insights:r.insights,competitors:r.competitors})}),o.jsx(Pr,{value:"evidence",className:"mt-6",children:r.evidence_reviews?o.jsx(R9,{analysisId:e,competitors:r.competitors.map(c=>({competitor_id:c.place_id||"",competitor_name:c.name||""}))}):o.jsx(PPe,{insights:r.insights})})]})]})}function RPe(){const{analysisId:e}=Vl();return e?o.jsx(TPe,{analysisId:e}):o.jsx("div",{className:"container mx-auto p-4",children:o.jsx(dt,{variant:"destructive",children:o.jsx(ft,{children:"Invalid analysis ID. Please start a new analysis."})})})}function IPe(){return o.jsx(Ur,{children:o.jsx(RPe,{})})}function DPe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0);p.useEffect(()=>{s()},[]);const s=async()=>{try{const l=await De.get("/api/v1/analyses");t(l.data)}catch(l){console.error("Failed to fetch analyses:",l)}finally{n(!1)}},i=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"completed":return"text-emerald-400 bg-emerald-500/10";case"processing":return"text-cyan-400 bg-cyan-500/10";case"failed":return"text-red-400 bg-red-500/10";default:return"text-slate-400 bg-slate-500/10"}};return o.jsxs(Ur,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-3",children:"Saved Analyses"}),o.jsx("p",{className:"text-lg text-slate-400",children:"Review your past competitive analyses"})]}),o.jsx(Re,{to:"/analysis/new",children:o.jsxs(W,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25",children:[o.jsx(Ni,{className:"h-4 w-4 mr-2"}),"New Analysis"]})})]}),r?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"}),o.jsx("p",{className:"text-slate-400 mt-4",children:"Loading analyses..."})]}):e.length===0?o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsx(le,{className:"py-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"p-4 rounded-full bg-slate-500/10",children:o.jsx(Jn,{className:"h-12 w-12 text-slate-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No analyses yet"}),o.jsx("p",{className:"text-slate-400 mb-6",children:"Start your first competitive analysis to see it here"}),o.jsx(Re,{to:"/analysis/new",children:o.jsxs(W,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",children:[o.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Start Analysis"]})})]})]})})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-emerald-500/50 transition-all duration-200 group",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs(Te,{className:"text-white flex items-center gap-2 mb-2",children:[o.jsx(fa,{className:"h-4 w-4 text-emerald-400"}),l.location]}),o.jsx(gn,{className:"text-slate-400 capitalize",children:l.category})]}),o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${a(l.status)}`,children:l.status})]})}),o.jsx(le,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[o.jsx(Pi,{className:"h-4 w-4"}),o.jsxs("span",{children:[l.competitor_count," competitors analyzed"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[o.jsx(g0,{className:"h-4 w-4"}),o.jsx("span",{children:i(l.created_at)})]}),l.status==="completed"&&o.jsx(Re,{to:`/analysis/${l.id}/results`,children:o.jsx(W,{className:"w-full mt-4 bg-gradient-to-r from-emerald-500/10 to-emerald-600/10 hover:from-emerald-500/20 hover:to-emerald-600/20 text-emerald-400 border border-emerald-500/30",children:"View Results"})}),l.status==="processing"&&o.jsx(Re,{to:`/analysis/${l.id}/progress`,children:o.jsx(W,{className:"w-full mt-4 bg-gradient-to-r from-cyan-500/10 to-cyan-600/10 hover:from-cyan-500/20 hover:to-cyan-600/20 text-cyan-400 border border-cyan-500/30",children:"View Progress"})})]})})]},l.id))})]})}function rt(...e){return F3(lt(e))}const ya={obsidian:"#0B1215",emerald:{500:"#10b981"},cyan:{500:"#06b6d4"}},Hu={slate:{850:"#1a2332",800:"#1e293b"}},Ch={primary:"#f8fafc",tertiary:"#94a3b8"};function yt({children:e,variant:t="default",className:r}){const n={default:"border-white/10",elevated:"border-white/10 shadow-lg",interactive:"border-white/10 hover:border-cyan-500/30 hover:-translate-y-1 hover:shadow-lg cursor-pointer"};return o.jsx("div",{className:rt("rounded-lg border transition-all duration-300","bg-gradient-to-br from-slate-850 to-slate-900",n[t],r),children:e})}function pn({children:e,className:t}){return o.jsx("div",{className:rt("p-6 pb-4",t),children:e})}function bt({children:e,className:t}){return o.jsx("div",{className:rt("px-6 pb-6",t),children:e})}function Ww({status:e,className:t}){const r={parsed:{label:"Parsed",classes:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30"},reviewed:{label:"Reviewed",classes:"bg-amber-500/10 text-amber-400 border-amber-500/30"},approved:{label:"Approved",classes:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"},completed:{label:"Completed",classes:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"},pending:{label:"Pending",classes:"bg-slate-500/10 text-slate-400 border-slate-500/30"},processing:{label:"Processing",classes:"bg-blue-500/10 text-blue-400 border-blue-500/30"},error:{label:"Error",classes:"bg-red-500/10 text-red-400 border-red-500/30"}},n=e&&r[e]?r[e]:r.pending;return o.jsx("span",{className:rt("inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide border",n.classes,t),children:n.label})}function Jq({isUploading:e,isDragActive:t,getRootProps:r,getInputProps:n,className:s}){return o.jsxs("div",{...r(),role:"button","aria-label":"Upload invoice file",tabIndex:0,className:rt("border-2 border-dashed rounded-lg p-12 text-center cursor-pointer","transition-all duration-200",t&&"border-emerald-500 bg-emerald-500/10",!t&&"border-white/20 hover:border-emerald-500/50 hover:bg-white/5",e&&"opacity-50 cursor-not-allowed",s),children:[o.jsx("input",{...n()}),o.jsx("div",{className:"flex flex-col items-center gap-4",children:e?o.jsxs(o.Fragment,{children:[o.jsx(hr,{className:"h-12 w-12 text-emerald-400 animate-spin"}),o.jsx("p",{className:"text-white font-semibold",children:"Uploading file..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ru,{className:"h-12 w-12 text-emerald-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold mb-1",children:t?"Drop file here":"Drop invoice here or click to browse"}),o.jsx("p",{className:"text-sm text-slate-400",children:"PDF, JPG, or PNG  Max 10MB"})]})]})})]})}function Zq({status:e,progress:t,currentStep:r,elapsedSeconds:n,isConnected:s,onCancel:i,title:a="Parsing Invoice",className:l}){const c=()=>{switch(e){case"parsing":case"validating":return o.jsx(Jn,{className:"h-5 w-5 text-cyan-500 animate-spin"});case"ready":return o.jsx(eu,{className:"h-5 w-5 text-emerald-500"});case"error":return o.jsx(Ot,{className:"h-5 w-5 text-red-500"})}},u=()=>{const f={parsing:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",validating:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",ready:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",error:"bg-red-500/10 text-red-400 border-red-500/30"},h={parsing:"Parsing",validating:"Validating",ready:"Ready",error:"Error"};return o.jsx("span",{className:rt("px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide border",f[e]),children:h[e]})},d=()=>n<20?"30-60 seconds remaining":n<40?"10-20 seconds remaining":"Almost done...";return o.jsxs("div",{className:rt("space-y-6",l),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-full blur-lg animate-pulse"}),o.jsx("div",{className:"relative p-3 rounded-full bg-cyan-500/10 border border-cyan-500/30",children:c()})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:a}),o.jsx("p",{className:"text-sm text-slate-400",children:r})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[u(),s?o.jsx(O3,{className:"h-5 w-5 text-emerald-400","aria-label":"Connected"}):o.jsx(A3,{className:"h-5 w-5 text-red-400","aria-label":"Disconnected"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"relative h-3 w-full overflow-hidden rounded-full bg-obsidian/50",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-cyan-500 transition-all duration-300",style:{width:`${t}%`},role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100})}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-cyan-400 font-semibold",children:[t,"% complete"]}),o.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[o.jsx(Jn,{className:"h-3 w-3"}),d()]})]})]}),o.jsx("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ni,{className:"h-5 w-5 text-cyan-400 mt-0.5 animate-pulse"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:"Current Step"}),o.jsx("p",{className:"text-sm text-slate-400",children:r}),n>0&&o.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Elapsed: ",n,"s"]})]})]})}),i&&o.jsx("button",{onClick:i,className:rt("w-full px-4 py-2 rounded-md text-sm font-medium","border border-white/10 text-slate-300","hover:bg-red-500/10 hover:text-red-400 hover:border-red-500/30","transition-all duration-200"),children:"Cancel Parsing"}),o.jsx("div",{role:"status","aria-live":"polite",className:"sr-only",children:r})]})}function MPe(){const e=Nt(),{toast:t}=Tn(),[r,n]=p.useState([]),[s,i]=p.useState(!0),[a,l]=p.useState(""),[c,u]=p.useState("all"),[d,f]=p.useState("all"),[h,m]=p.useState(10);p.useEffect(()=>{v()},[]);const v=async()=>{try{const _=(await De.get("/api/v1/invoices/?page=1&per_page=20")).data;n(_.data||[])}catch(b){const _=qL(b,"invoices");t({title:_.title,description:_.description,variant:"destructive"})}finally{i(!1)}},g=p.useMemo(()=>{const b=new Set(r.map(_=>_.vendor_name));return Array.from(b).sort()},[r]),x=p.useMemo(()=>{let b=r;return a&&(b=b.filter(_=>_.vendor_name.toLowerCase().includes(a.toLowerCase())||_.invoice_number.toLowerCase().includes(a.toLowerCase()))),c!=="all"&&(b=b.filter(_=>_.vendor_name===c)),d!=="all"&&(b=b.filter(_=>_.status===d)),b.slice(0,h)},[r,a,c,d,h]),y=a||c!=="all"||d!=="all",w=()=>{l(""),u("all"),f("all")};return o.jsx(Ur,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Invoices"}),o.jsx("p",{className:"text-slate-400",children:"Manage and review your uploaded invoices"})]}),o.jsxs(W,{onClick:()=>e("/invoices/upload"),className:"btn-primary shadow-emerald",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Upload Invoice"]})]}),o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsx(le,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx(We,{placeholder:"Search by vendor or invoice number...",value:a,onChange:b=>l(b.target.value),className:"pl-10 bg-obsidian border-white/10 text-white placeholder:text-slate-500"})]})}),o.jsxs(ca,{value:c,onValueChange:u,children:[o.jsx(Ii,{className:"bg-obsidian border-white/10 text-white",children:o.jsx(ua,{placeholder:"All Vendors"})}),o.jsxs(Di,{children:[o.jsx(ct,{value:"all",children:"All Vendors"}),g.map(b=>o.jsx(ct,{value:b,children:b},b))]})]}),o.jsxs(ca,{value:d,onValueChange:f,children:[o.jsx(Ii,{className:"bg-obsidian border-white/10 text-white",children:o.jsx(ua,{placeholder:"All Statuses"})}),o.jsxs(Di,{children:[o.jsx(ct,{value:"all",children:"All Statuses"}),o.jsx(ct,{value:"parsed",children:"Parsed"}),o.jsx(ct,{value:"reviewed",children:"Reviewed"}),o.jsx(ct,{value:"approved",children:"Approved"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[y&&o.jsxs(o.Fragment,{children:[o.jsxs(ke,{variant:"outline",className:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",children:[o.jsx(v0,{className:"h-3 w-3 mr-1"}),x.length," of ",r.length]}),o.jsxs(W,{variant:"ghost",size:"sm",onClick:w,className:"h-7 text-xs text-slate-400 hover:text-white",children:[o.jsx(Ai,{className:"h-3 w-3 mr-1"}),"Clear filters"]})]}),!y&&o.jsxs("p",{className:"text-sm text-slate-400",children:["Showing ",Math.min(h,r.length)," of ",r.length," invoices"]})]}),x.length>=h&&o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>m(b=>b+10),className:"text-cyan-400 hover:text-cyan-300",children:"Load more"})]})]})})}),s&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(hr,{className:"h-8 w-8 text-emerald-400 animate-spin"})}),!s&&r.length===0&&o.jsx(yt,{variant:"elevated",children:o.jsxs(bt,{className:"py-12 text-center",children:[o.jsx(Si,{className:"h-12 w-12 text-slate-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No invoices yet"}),o.jsx("p",{className:"text-slate-400 mb-6",children:"Upload your first invoice to get started"}),o.jsxs(W,{onClick:()=>e("/invoices/upload"),className:"btn-primary",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Upload Invoice"]})]})}),!s&&x.length>0&&o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:x.map(b=>o.jsx("div",{onClick:()=>e(`/invoices/${b.id}`),className:"cursor-pointer",children:o.jsxs(yt,{variant:"interactive",children:[o.jsx(pn,{children:o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:b.vendor_name}),o.jsxs("p",{className:"text-sm text-slate-400 font-mono",children:["#",b.invoice_number]})]}),o.jsx(Ww,{status:b.status})]})}),o.jsxs(bt,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[o.jsx(g0,{className:"h-4 w-4"}),new Date(b.invoice_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"h-4 w-4 text-emerald-400"}),o.jsxs("span",{className:"text-lg font-bold text-emerald-400 font-mono",children:["$",b.total.toFixed(2)]})]})]})]})},b.id))}),!s&&r.length>0&&x.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-slate-400",children:"No invoices match your search"})})]})})}var eH={exports:{}},$Pe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LPe=$Pe,FPe=LPe;function tH(){}function rH(){}rH.resetWarningCache=tH;var UPe=function(){function e(n,s,i,a,l,c){if(c!==FPe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rH,resetWarningCache:tH};return r.PropTypes=r,r};eH.exports=UPe();var zPe=eH.exports;const _t=ti(zPe),BPe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function mf(e,t,r){const n=VPe(e),{webkitRelativePath:s}=e,i=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof n.path!="string"&&vM(n,"path",i),vM(n,"relativePath",i),n}function VPe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),s=BPe.get(n);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function vM(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const WPe=[".DS_Store","Thumbs.db"];function qPe(e){return ge(this,void 0,void 0,function*(){return Xy(e)&&HPe(e.dataTransfer)?XPe(e.dataTransfer,e.type):KPe(e)?GPe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?YPe(e):[]})}function HPe(e){return Xy(e)}function KPe(e){return Xy(e)&&Xy(e.target)}function Xy(e){return typeof e=="object"&&e!==null}function GPe(e){return mE(e.target.files).map(t=>mf(t))}function YPe(e){return ge(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>mf(r))})}function XPe(e,t){return ge(this,void 0,void 0,function*(){if(e.items){const r=mE(e.items).filter(s=>s.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(QPe));return xM(nH(n))}return xM(mE(e.files).map(r=>mf(r)))})}function xM(e){return e.filter(t=>WPe.indexOf(t.name)===-1)}function mE(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function QPe(e){if(typeof e.webkitGetAsEntry!="function")return yM(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?sH(t):yM(e,t)}function nH(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?nH(r):[r]],[])}function yM(e,t){return ge(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const a=yield i.getFile();return a.handle=i,mf(a)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return mf(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function JPe(e){return ge(this,void 0,void 0,function*(){return e.isDirectory?sH(e):ZPe(e)})}function sH(e){const t=e.createReader();return new Promise((r,n)=>{const s=[];function i(){t.readEntries(a=>ge(this,void 0,void 0,function*(){if(a.length){const l=Promise.all(a.map(JPe));s.push(l),i()}else try{const l=yield Promise.all(s);r(l)}catch(l){n(l)}}),a=>{n(a)})}i()})}function ZPe(e){return ge(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const s=mf(n,e.fullPath);t(s)},n=>{r(n)})})})}var U1=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",s=(e.type||"").toLowerCase(),i=s.replace(/\/.*$/,"");return r.some(function(a){var l=a.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):s===l})}return!0};function bM(e){return r2e(e)||t2e(e)||aH(e)||e2e()}function e2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r2e(e){if(Array.isArray(e))return gE(e)}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){iH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hm(e,t){return i2e(e)||s2e(e,t)||aH(e,t)||n2e()}function n2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aH(e,t){if(e){if(typeof e=="string")return gE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(e,t)}}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,i=!1,a,l;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function i2e(e){if(Array.isArray(e))return e}var a2e=typeof U1=="function"?U1:U1.default,o2e="file-invalid-type",l2e="file-too-large",c2e="file-too-small",u2e="too-many-files",d2e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:o2e,message:"File type must be ".concat(n)}},jM=function(t){return{code:l2e,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},SM=function(t){return{code:c2e,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},f2e={code:u2e,message:"Too many files"};function oH(e,t){var r=e.type==="application/x-moz-file"||a2e(e,t);return[r,r?null:d2e(t)]}function lH(e,t,r){if(mc(e.size))if(mc(t)&&mc(r)){if(e.size>r)return[!1,jM(r)];if(e.size<t)return[!1,SM(t)]}else{if(mc(t)&&e.size<t)return[!1,SM(t)];if(mc(r)&&e.size>r)return[!1,jM(r)]}return[!0,null]}function mc(e){return e!=null}function h2e(e){var t=e.files,r=e.accept,n=e.minSize,s=e.maxSize,i=e.multiple,a=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&a>=1&&t.length>a?!1:t.every(function(c){var u=oH(c,r),d=hm(u,1),f=d[0],h=lH(c,n,s),m=hm(h,1),v=m[0],g=l?l(c):null;return f&&v&&!g})}function Qy(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function hv(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function NM(e){e.preventDefault()}function p2e(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function m2e(e){return e.indexOf("Edge/")!==-1}function g2e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return p2e(e)||m2e(e)}function Bi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return t.some(function(l){return!Qy(n)&&l&&l.apply(void 0,[n].concat(i)),Qy(n)})}}function v2e(){return"showOpenFilePicker"in window}function x2e(e){if(mc(e)){var t=Object.entries(e).filter(function(r){var n=hm(r,2),s=n[0],i=n[1],a=!0;return cH(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(i)||!i.every(uH))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var s=hm(n,2),i=s[0],a=s[1];return _M(_M({},r),{},iH({},i,a))},{});return[{description:"Files",accept:t}]}return e}function y2e(e){if(mc(e))return Object.entries(e).reduce(function(t,r){var n=hm(r,2),s=n[0],i=n[1];return[].concat(bM(t),[s],bM(i))},[]).filter(function(t){return cH(t)||uH(t)}).join(",")}function b2e(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function w2e(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function cH(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function uH(e){return/^.*\.[\w]+$/.test(e)}var _2e=["children"],j2e=["open"],S2e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],N2e=["refKey","onChange","onClick"];function E2e(e){return P2e(e)||C2e(e)||dH(e)||k2e()}function k2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P2e(e){if(Array.isArray(e))return vE(e)}function z1(e,t){return T2e(e)||O2e(e,t)||dH(e,t)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e,t){if(e){if(typeof e=="string")return vE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(e,t)}}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,i=!1,a,l;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function T2e(e){if(Array.isArray(e))return e}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){xE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jy(e,t){if(e==null)return{};var r=R2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R2e(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var F2=p.forwardRef(function(e,t){var r=e.children,n=Jy(e,_2e),s=U2(n),i=s.open,a=Jy(s,j2e);return p.useImperativeHandle(t,function(){return{open:i}},[i]),Ie.createElement(p.Fragment,null,r(zt(zt({},a),{},{open:i})))});F2.displayName="Dropzone";var fH={disabled:!1,getFilesFromEvent:qPe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};F2.defaultProps=fH;F2.propTypes={children:_t.func,accept:_t.objectOf(_t.arrayOf(_t.string)),multiple:_t.bool,preventDropOnDocument:_t.bool,noClick:_t.bool,noKeyboard:_t.bool,noDrag:_t.bool,noDragEventsBubbling:_t.bool,minSize:_t.number,maxSize:_t.number,maxFiles:_t.number,disabled:_t.bool,getFilesFromEvent:_t.func,onFileDialogCancel:_t.func,onFileDialogOpen:_t.func,useFsAccessApi:_t.bool,autoFocus:_t.bool,onDragEnter:_t.func,onDragLeave:_t.func,onDragOver:_t.func,onDrop:_t.func,onDropAccepted:_t.func,onDropRejected:_t.func,onError:_t.func,validator:_t.func};var yE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function U2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=zt(zt({},fH),e),r=t.accept,n=t.disabled,s=t.getFilesFromEvent,i=t.maxSize,a=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,h=t.onDrop,m=t.onDropAccepted,v=t.onDropRejected,g=t.onFileDialogCancel,x=t.onFileDialogOpen,y=t.useFsAccessApi,w=t.autoFocus,b=t.preventDropOnDocument,_=t.noClick,j=t.noKeyboard,S=t.noDrag,N=t.noDragEventsBubbling,E=t.onError,A=t.validator,P=p.useMemo(function(){return y2e(r)},[r]),C=p.useMemo(function(){return x2e(r)},[r]),k=p.useMemo(function(){return typeof x=="function"?x:kM},[x]),D=p.useMemo(function(){return typeof g=="function"?g:kM},[g]),T=p.useRef(null),L=p.useRef(null),z=p.useReducer(I2e,yE),X=z1(z,2),I=X[0],M=X[1],Q=I.isFocused,J=I.isFileDialogActive,ee=p.useRef(typeof window<"u"&&window.isSecureContext&&y&&v2e()),Ee=function(){!ee.current&&J&&setTimeout(function(){if(L.current){var H=L.current.files;H.length||(M({type:"closeDialog"}),D())}},300)};p.useEffect(function(){return window.addEventListener("focus",Ee,!1),function(){window.removeEventListener("focus",Ee,!1)}},[L,J,D,ee]);var je=p.useRef([]),Fe=function(H){T.current&&T.current.contains(H.target)||(H.preventDefault(),je.current=[])};p.useEffect(function(){return b&&(document.addEventListener("dragover",NM,!1),document.addEventListener("drop",Fe,!1)),function(){b&&(document.removeEventListener("dragover",NM),document.removeEventListener("drop",Fe))}},[T,b]),p.useEffect(function(){return!n&&w&&T.current&&T.current.focus(),function(){}},[T,w,n]);var ze=p.useCallback(function(U){E?E(U):console.error(U)},[E]),pe=p.useCallback(function(U){U.preventDefault(),U.persist(),R(U),je.current=[].concat(E2e(je.current),[U.target]),hv(U)&&Promise.resolve(s(U)).then(function(H){if(!(Qy(U)&&!N)){var ae=H.length,Me=ae>0&&h2e({files:H,accept:P,minSize:a,maxSize:i,multiple:l,maxFiles:c,validator:A}),Ge=ae>0&&!Me;M({isDragAccept:Me,isDragReject:Ge,isDragActive:!0,type:"setDraggedFiles"}),u&&u(U)}}).catch(function(H){return ze(H)})},[s,u,ze,N,P,a,i,l,c,A]),Ke=p.useCallback(function(U){U.preventDefault(),U.persist(),R(U);var H=hv(U);if(H&&U.dataTransfer)try{U.dataTransfer.dropEffect="copy"}catch{}return H&&f&&f(U),!1},[f,N]),K=p.useCallback(function(U){U.preventDefault(),U.persist(),R(U);var H=je.current.filter(function(Me){return T.current&&T.current.contains(Me)}),ae=H.indexOf(U.target);ae!==-1&&H.splice(ae,1),je.current=H,!(H.length>0)&&(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),hv(U)&&d&&d(U))},[T,d,N]),re=p.useCallback(function(U,H){var ae=[],Me=[];U.forEach(function(Ge){var Dr=oH(Ge,P),si=z1(Dr,2),Rs=si[0],Xf=si[1],Zl=lH(Ge,a,i),No=z1(Zl,2),Qf=No[0],Au=No[1],Jf=A?A(Ge):null;if(Rs&&Qf&&!Jf)ae.push(Ge);else{var Ou=[Xf,Au];Jf&&(Ou=Ou.concat(Jf)),Me.push({file:Ge,errors:Ou.filter(function(iK){return iK})})}}),(!l&&ae.length>1||l&&c>=1&&ae.length>c)&&(ae.forEach(function(Ge){Me.push({file:Ge,errors:[f2e]})}),ae.splice(0)),M({acceptedFiles:ae,fileRejections:Me,isDragReject:Me.length>0,type:"setFiles"}),h&&h(ae,Me,H),Me.length>0&&v&&v(Me,H),ae.length>0&&m&&m(ae,H)},[M,l,P,a,i,c,h,m,v,A]),fe=p.useCallback(function(U){U.preventDefault(),U.persist(),R(U),je.current=[],hv(U)&&Promise.resolve(s(U)).then(function(H){Qy(U)&&!N||re(H,U)}).catch(function(H){return ze(H)}),M({type:"reset"})},[s,re,ze,N]),G=p.useCallback(function(){if(ee.current){M({type:"openDialog"}),k();var U={multiple:l,types:C};window.showOpenFilePicker(U).then(function(H){return s(H)}).then(function(H){re(H,null),M({type:"closeDialog"})}).catch(function(H){b2e(H)?(D(H),M({type:"closeDialog"})):w2e(H)?(ee.current=!1,L.current?(L.current.value=null,L.current.click()):ze(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ze(H)});return}L.current&&(M({type:"openDialog"}),k(),L.current.value=null,L.current.click())},[M,k,D,y,re,ze,C,l]),Qe=p.useCallback(function(U){!T.current||!T.current.isEqualNode(U.target)||(U.key===" "||U.key==="Enter"||U.keyCode===32||U.keyCode===13)&&(U.preventDefault(),G())},[T,G]),Ue=p.useCallback(function(){M({type:"focus"})},[]),vt=p.useCallback(function(){M({type:"blur"})},[]),wt=p.useCallback(function(){_||(g2e()?setTimeout(G,0):G())},[_,G]),Et=function(H){return n?null:H},ma=function(H){return j?null:Et(H)},Ts=function(H){return S?null:Et(H)},R=function(H){N&&H.stopPropagation()},F=p.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=U.refKey,ae=H===void 0?"ref":H,Me=U.role,Ge=U.onKeyDown,Dr=U.onFocus,si=U.onBlur,Rs=U.onClick,Xf=U.onDragEnter,Zl=U.onDragOver,No=U.onDragLeave,Qf=U.onDrop,Au=Jy(U,S2e);return zt(zt(xE({onKeyDown:ma(Bi(Ge,Qe)),onFocus:ma(Bi(Dr,Ue)),onBlur:ma(Bi(si,vt)),onClick:Et(Bi(Rs,wt)),onDragEnter:Ts(Bi(Xf,pe)),onDragOver:Ts(Bi(Zl,Ke)),onDragLeave:Ts(Bi(No,K)),onDrop:Ts(Bi(Qf,fe)),role:typeof Me=="string"&&Me!==""?Me:"presentation"},ae,T),!n&&!j?{tabIndex:0}:{}),Au)}},[T,Qe,Ue,vt,wt,pe,Ke,K,fe,j,S,n]),Y=p.useCallback(function(U){U.stopPropagation()},[]),de=p.useMemo(function(){return function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=U.refKey,ae=H===void 0?"ref":H,Me=U.onChange,Ge=U.onClick,Dr=Jy(U,N2e),si=xE({accept:P,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Et(Bi(Me,fe)),onClick:Et(Bi(Ge,Y)),tabIndex:-1},ae,L);return zt(zt({},si),Dr)}},[L,r,l,fe,n]);return zt(zt({},I),{},{isFocused:Q&&!n,getRootProps:F,getInputProps:de,rootRef:T,inputRef:L,open:Et(G)})}function I2e(e,t){switch(t.type){case"focus":return zt(zt({},e),{},{isFocused:!0});case"blur":return zt(zt({},e),{},{isFocused:!1});case"openDialog":return zt(zt({},yE),{},{isFileDialogActive:!0});case"closeDialog":return zt(zt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return zt(zt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return zt(zt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return zt({},yE);default:return e}}function kM(){}function ar(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16)/255,r=parseInt(e.substring(2,4),16)/255,n=parseInt(e.substring(4,6),16)/255,s=Math.max(t,r,n),i=Math.min(t,r,n);let a=0,l=0;const c=(s+i)/2;if(s!==i){const h=s-i;switch(l=c>.5?h/(2-s-i):h/(s+i),s){case t:a=((r-n)/h+(r<n?6:0))/6;break;case r:a=((n-t)/h+2)/6;break;case n:a=((t-r)/h+4)/6;break}}const u=Math.round(a*360),d=Math.round(l*100),f=Math.round(c*100);return`${u} ${d}% ${f}%`}ar(ya.obsidian),ar(Ch.primary),ar(Hu.slate[850]),ar(Ch.primary),ar(Hu.slate[800]),ar(Ch.primary),ar(ya.emerald[500]),ar(ya.cyan[500]),ar(Hu.slate[850]),ar(Ch.tertiary),ar(Hu.slate[850]),ar(ya.emerald[500]),ar(Ch.primary),ar(ya.emerald[500]),ar(ya.cyan[500]),ar(Hu.slate[850]),ar(Hu.slate[850]),ar(ya.emerald[500]),ar(ya.emerald[500]),ar(ya.cyan[500]);const D2e=p.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:$("flex h-10 w-full rounded-md border border-input bg-slate-850 px-3 py-2 text-sm text-slate-100 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));D2e.displayName="Input";const M2e=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Cw,{ref:n,className:$("flex h-10 w-full items-center justify-between rounded-md border border-input bg-slate-850 px-3 py-2 text-sm text-slate-100 ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(S9,{asChild:!0,children:o.jsx(ji,{className:"h-4 w-4 opacity-50"})})]}));M2e.displayName=Cw.displayName;const hH=p.forwardRef(({className:e,...t},r)=>o.jsx(Tw,{ref:r,className:$("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Fc,{className:"h-4 w-4"})}));hH.displayName=Tw.displayName;const pH=p.forwardRef(({className:e,...t},r)=>o.jsx(Rw,{ref:r,className:$("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ji,{className:"h-4 w-4"})}));pH.displayName=Rw.displayName;const $2e=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(N9,{children:o.jsxs(Pw,{ref:s,className:$("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-white/10 bg-slate-850 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(hH,{}),o.jsx(E9,{className:$("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(pH,{})]})}));$2e.displayName=Pw.displayName;const L2e=p.forwardRef(({className:e,...t},r)=>o.jsx(Aw,{ref:r,className:$("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));L2e.displayName=Aw.displayName;const F2e=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Ow,{ref:n,className:$("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-emerald-500/10 focus:text-emerald-400 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(C9,{children:o.jsx(kl,{className:"h-4 w-4"})})}),o.jsx(k9,{children:t})]}));F2e.displayName=Ow.displayName;const U2e=p.forwardRef(({className:e,...t},r)=>o.jsx(Iw,{ref:r,className:$("-mx-1 my-1 h-px bg-muted",e),...t}));U2e.displayName=Iw.displayName;const z2e=uC,mH=p.forwardRef(({className:e,...t},r)=>o.jsx(Of,{ref:r,className:$("fixed inset-0 z-50 bg-obsidian/85 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mH.displayName=Of.displayName;const B2e=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(z2e,{children:[o.jsx(mH,{}),o.jsxs(Tf,{ref:n,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-white/10 bg-slate-850 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(dC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ai,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));B2e.displayName=Tf.displayName;const V2e=p.forwardRef(({className:e,...t},r)=>o.jsx(Rf,{ref:r,className:$("text-lg font-semibold leading-none tracking-tight text-slate-100",e),...t}));V2e.displayName=Rf.displayName;const W2e=p.forwardRef(({className:e,...t},r)=>o.jsx(If,{ref:r,className:$("text-sm text-muted-foreground",e),...t}));W2e.displayName=If.displayName;const q2e=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:$("w-full caption-bottom text-sm",e),...t})}));q2e.displayName="Table";const H2e=p.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:$("[&_tr]:border-b border-white/10",e),...t}));H2e.displayName="TableHeader";const K2e=p.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:$("[&_tr:last-child]:border-0",e),...t}));K2e.displayName="TableBody";const G2e=p.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:$("border-t border-white/10 bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));G2e.displayName="TableFooter";const Y2e=p.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:$("border-b border-white/5 transition-colors hover:bg-emerald-500/5 data-[state=selected]:bg-emerald-500/10",e),...t}));Y2e.displayName="TableRow";const X2e=p.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:$("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));X2e.displayName="TableHead";const Q2e=p.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:$("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Q2e.displayName="TableCell";const J2e=p.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:$("mt-4 text-sm text-muted-foreground",e),...t}));J2e.displayName="TableCaption";const Z2e=p.forwardRef(({className:e,...t},r)=>o.jsx(bw,{ref:r,className:$("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Z2e.displayName=bw.displayName;const eAe=p.forwardRef(({className:e,...t},r)=>o.jsx(ww,{ref:r,className:$("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-sm",e),...t}));eAe.displayName=ww.displayName;const tAe=p.forwardRef(({className:e,...t},r)=>o.jsx(_w,{ref:r,className:$("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tAe.displayName=_w.displayName;const rAe=ha("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-red-500/30 bg-red-500/10 text-red-400 [&>svg]:text-red-400",success:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 [&>svg]:text-emerald-400",warning:"border-amber-500/30 bg-amber-500/10 text-amber-400 [&>svg]:text-amber-400",info:"border-cyan-500/30 bg-cyan-500/10 text-cyan-400 [&>svg]:text-cyan-400"}},defaultVariants:{variant:"default"}}),nAe=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:$(rAe({variant:t}),e),...r}));nAe.displayName="Alert";const sAe=p.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:$("mb-1 font-medium leading-none tracking-tight",e),...t}));sAe.displayName="AlertTitle";const iAe=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$("text-sm [&_p]:leading-relaxed",e),...t}));iAe.displayName="AlertDescription";const aAe=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(K0,{ref:n,sideOffset:t,className:$("z-50 overflow-hidden rounded-md border border-white/10 bg-slate-850 px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));aAe.displayName=K0.displayName;var qw="Checkbox",[oAe]=Cs(qw),[lAe,z2]=oAe(qw);function cAe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=ia({prop:r,defaultProp:s??!1,onChange:c,caller:qw}),[v,g]=p.useState(null),[x,y]=p.useState(null),w=p.useRef(!1),b=v?!!a||!!v.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:v,setControl:g,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Sl(s)?!1:s,isFormControl:b,bubbleInput:x,setBubbleInput:y};return o.jsx(lAe,{scope:t,..._,children:uAe(f)?f(_):n})}var gH="CheckboxTrigger",vH=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=z2(gH,e),g=tt(s,d),x=p.useRef(c);return p.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const w=()=>f(x.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[i,f]),o.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":Sl(c)?"mixed":c,"aria-required":u,"data-state":_H(c),"data-disabled":l?"":void 0,disabled:l,value:a,...n,ref:g,onKeyDown:ne(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ne(r,y=>{f(w=>Sl(w)?!0:!w),v&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});vH.displayName=gH;var B2=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(cAe,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(vH,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(wH,{__scopeCheckbox:r})]})})});B2.displayName=qw;var xH="CheckboxIndicator",yH=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=z2(xH,r);return o.jsx(Ps,{present:n||Sl(i.checked)||i.checked===!0,children:o.jsx(Oe.span,{"data-state":_H(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});yH.displayName=xH;var bH="CheckboxBubbleInput",wH=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=z2(bH,e),v=tt(r,m),g=_2(i),x=xC(n);p.useEffect(()=>{const w=h;if(!w)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,S=!s.current;if(g!==i&&j){const N=new Event("click",{bubbles:S});w.indeterminate=Sl(i),j.call(w,Sl(i)?!1:i),w.dispatchEvent(N)}},[h,g,i,s]);const y=p.useRef(Sl(i)?!1:i);return o.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wH.displayName=bH;function uAe(e){return typeof e=="function"}function Sl(e){return e==="indeterminate"}function _H(e){return Sl(e)?"indeterminate":e?"checked":"unchecked"}const dAe=p.forwardRef(({className:e,...t},r)=>o.jsx(B2,{ref:r,className:$("peer h-4 w-4 shrink-0 rounded-sm border border-white/20 bg-white/5 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-emerald-500 data-[state=checked]:border-emerald-500 data-[state=checked]:text-white",e),...t,children:o.jsx(yH,{className:$("flex items-center justify-center text-current"),children:o.jsx(kl,{className:"h-4 w-4"})})}));dAe.displayName=B2.displayName;var Hw="Switch",[fAe]=Cs(Hw),[hAe,pAe]=fAe(Hw),jH=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),v=tt(t,b=>m(b)),g=p.useRef(!1),x=h?d||!!h.closest("form"):!0,[y,w]=ia({prop:s,defaultProp:i??!1,onChange:u,caller:Hw});return o.jsxs(hAe,{scope:r,checked:y,disabled:l,children:[o.jsx(Oe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":kH(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:ne(e.onClick,b=>{w(_=>!_),x&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),x&&o.jsx(EH,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});jH.displayName=Hw;var SH="SwitchThumb",NH=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=pAe(SH,r);return o.jsx(Oe.span,{"data-state":kH(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});NH.displayName=SH;var mAe="SwitchBubbleInput",EH=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=p.useRef(null),l=tt(a,i),c=_2(r),u=xC(t);return p.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});EH.displayName=mAe;function kH(e){return e?"checked":"unchecked"}var CH=jH,gAe=NH;const vAe=p.forwardRef(({className:e,...t},r)=>o.jsx(CH,{className:$("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-slate-700",e),...t,ref:r,children:o.jsx(gAe,{className:$("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));vAe.displayName=CH.displayName;const xAe=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(ub,{ref:s,className:$("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(ju,{className:"ml-auto h-4 w-4"})]}));xAe.displayName=ub.displayName;const yAe=p.forwardRef(({className:e,...t},r)=>o.jsx(db,{ref:r,className:$("z-50 min-w-[8rem] overflow-hidden rounded-md border border-white/10 bg-slate-850 p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));yAe.displayName=db.displayName;const bAe=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(sz,{children:o.jsx(nb,{ref:n,sideOffset:t,className:$("z-50 min-w-[8rem] overflow-hidden rounded-md border border-white/10 bg-slate-850 p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));bAe.displayName=nb.displayName;const wAe=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(ib,{ref:n,className:$("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-emerald-500/10 focus:text-emerald-400 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));wAe.displayName=ib.displayName;const _Ae=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(ab,{ref:s,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lb,{children:o.jsx(kl,{className:"h-4 w-4"})})}),t]}));_Ae.displayName=ab.displayName;const jAe=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ob,{ref:n,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(lb,{children:o.jsx(NQ,{className:"h-2 w-2 fill-current"})})}),t]}));jAe.displayName=ob.displayName;const SAe=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(sb,{ref:n,className:$("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));SAe.displayName=sb.displayName;const NAe=p.forwardRef(({className:e,...t},r)=>o.jsx(cb,{ref:r,className:$("-mx-1 my-1 h-px bg-muted",e),...t}));NAe.displayName=cb.displayName;dr().email("Invalid email address");dr().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number");dr().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number");dr().url("Invalid URL");dr().optional();const EAe=dr().min(2,"Restaurant name must be at least 2 characters").max(100,"Restaurant name must be less than 100 characters"),kAe=dr().min(2,"Location is required"),CAe=lL(["1","3","5","10"],{errorMap:()=>({message:"Please select a valid radius"})});Em({restaurantName:EAe,location:kAe,radius:CAe});function PAe(){const[e,t]=p.useState({status:"idle",progress:0,currentStep:"",elapsedSeconds:0}),[r,n]=p.useState(!1),s=p.useRef(null),i=p.useCallback(()=>{s.current&&(s.current.abort(),s.current=null),n(!1)},[]),a=p.useCallback((h,m)=>{i(),t(v=>({...v,status:"parsing",progress:0,currentStep:"Connecting...",invoiceData:void 0,parseMetadata:void 0,error:void 0,fileUrl:h,elapsedSeconds:0})),s.current=new AbortController;try{const v="https://restaurantiq.us",g=new URLSearchParams({file_url:h,...m&&{vendor_hint:m}}),x=`${v}/api/v1/invoices/parse-stream?${g}`,y=async()=>{var b;try{const _=await fetch(x,{method:"GET",headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},credentials:"include",signal:(b=s.current)==null?void 0:b.signal});if(!_.ok)throw new Error(`HTTP ${_.status}: ${_.statusText}`);if(!_.body)throw new Error("No response body for streaming");n(!0);const j=_.body.getReader(),S=new TextDecoder;let N="";for(;;){const{done:E,value:A}=await j.read();if(E)break;const C=S.decode(A,{stream:!0}).split(`
`);for(const k of C){if(k.startsWith("event:")){N=k.substring(6).trim();continue}if(k.startsWith("data:"))try{const D=JSON.parse(k.substring(5).trim());w(N||"message",D)}catch{console.warn("Failed to parse SSE data:",k)}}}}catch(_){if(_ instanceof Error&&_.name==="AbortError"){console.log("Parsing request aborted");return}console.error("Streaming request failed:",_),t(j=>({...j,status:"error",error:_ instanceof Error?_.message:"Parsing failed"}))}finally{n(!1)}},w=(b,_)=>{switch(b){case"parsing_started":t(j=>({...j,currentStep:_.message||"Processing your invoice...",progress:5}));break;case"parsing_progress":t(j=>({...j,currentStep:_.message||"Still processing...",progress:Math.min(j.progress+10,90),elapsedSeconds:_.elapsed_seconds||j.elapsedSeconds}));break;case"parsed_data":t(j=>({...j,status:"validating",invoiceData:_.invoice_data,parseMetadata:_.metadata,currentStep:"Validating data...",progress:95}));break;case"validation_complete":t(j=>{var S,N;return{...j,status:"ready",currentStep:"Invoice ready for review",progress:100,parseMetadata:j.parseMetadata?{...j.parseMetadata,confidence:((S=_.validation)==null?void 0:S.confidence)||"medium",corrections_made:((N=_.post_processing)==null?void 0:N.corrections_made)||0}:void 0}}),i();break;case"error":t(j=>({...j,status:"error",error:_.message||"Parsing failed"})),i();break;default:console.log("Unknown event type:",b,_)}};y()}catch(v){console.error("Failed to start parsing:",v),t(g=>({...g,status:"error",error:v instanceof Error?v.message:"Failed to start parsing"}))}},[i]),l=p.useCallback((h,m,v)=>{t(g=>{if(!g.invoiceData)return g;const x=[...g.invoiceData.line_items];x[h]={...x[h],[m]:v},(m==="quantity"||m==="unit_price")&&(x[h].extended_price=x[h].quantity*x[h].unit_price);const y=x.reduce((_,j)=>_+j.extended_price,0),w=g.invoiceData.tax,b=y+w;return{...g,invoiceData:{...g.invoiceData,line_items:x,subtotal:y,total:b}}})},[]),c=p.useCallback(()=>{t(h=>{if(!h.invoiceData)return h;const m={description:"",quantity:1,unit_price:0,extended_price:0};return{...h,invoiceData:{...h.invoiceData,line_items:[...h.invoiceData.line_items,m]}}})},[]),u=p.useCallback(h=>{t(m=>{if(!m.invoiceData)return m;const v=m.invoiceData.line_items.filter((w,b)=>b!==h),g=v.reduce((w,b)=>w+b.extended_price,0),x=m.invoiceData.tax,y=g+x;return{...m,invoiceData:{...m.invoiceData,line_items:v,subtotal:g,total:y}}})},[]),d=p.useCallback((h,m)=>{t(v=>v.invoiceData?{...v,invoiceData:{...v.invoiceData,[h]:m}}:v)},[]),f=p.useCallback(async()=>{var h;if(console.log(" [SAVE] Starting saveToDatabase..."),!e.invoiceData||!e.parseMetadata||!e.fileUrl)throw console.error(" [SAVE] Missing required data:",{hasInvoiceData:!!e.invoiceData,hasParseMetadata:!!e.parseMetadata,hasFileUrl:!!e.fileUrl}),new Error("No invoice data to save");console.log(" [SAVE] Data validation passed"),t(m=>({...m,status:"saving"}));try{const v="https://restaurantiq.us/api/v1/invoices/save";console.log(" [SAVE] Sending POST request to:",v),console.log(" [SAVE] Payload:",{invoice_number:e.invoiceData.invoice_number,vendor:e.invoiceData.vendor_name,items_count:(h=e.invoiceData.line_items)==null?void 0:h.length,status:"reviewed"});const g=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({invoice_data:e.invoiceData,parse_metadata:e.parseMetadata,file_url:e.fileUrl,status:"reviewed"})});if(console.log(" [SAVE] Response received:",{status:g.status,statusText:g.statusText,ok:g.ok}),!g.ok){const y=await g.json();throw console.error(" [SAVE] Server error:",y),new Error(y.detail||"Failed to save invoice")}const x=await g.json();return console.log(" [SAVE] Save successful:",{invoice_id:x.invoice_id,items_saved:x.items_saved,success:x.success}),t(y=>({...y,status:"saved"})),console.log(" [SAVE] Returning invoice_id:",x.invoice_id),x.invoice_id}catch(m){throw console.error(" [SAVE] Exception caught:",m),t(v=>({...v,status:"error",error:m instanceof Error?m.message:"Failed to save invoice"})),m}},[e.invoiceData,e.parseMetadata,e.fileUrl]);return p.useEffect(()=>()=>{i()},[i]),{state:e,startParsing:a,stopParsing:i,updateLineItem:l,addLineItem:c,deleteLineItem:u,updateInvoiceHeader:d,saveToDatabase:f,isConnected:r}}function PH({lineItems:e,onUpdateItem:t,onDeleteItem:r,onAddItem:n,readonly:s=!1,className:i}){const[a,l]=p.useState(null),[c,u]=p.useState({}),d=g=>{l(g),u(e[g])},f=()=>{l(null),u({})},h=()=>{a!==null&&(Object.entries(c).forEach(([g,x])=>{t(a,g,x)}),l(null),u({}))},m=(g,x)=>{g.key==="Enter"&&a===x?h():g.key==="Escape"&&a===x&&f()},v=g=>{switch(g){case"DRY":return"bg-amber-500/10 text-amber-400 border-amber-500/30";case"REFRIGERATED":return"bg-cyan-500/10 text-cyan-400 border-cyan-500/30";case"FROZEN":return"bg-blue-500/10 text-blue-400 border-blue-500/30";default:return"bg-slate-500/10 text-slate-400 border-slate-500/30"}};return o.jsxs("div",{className:rt("space-y-4",i),children:[o.jsx("div",{className:"rounded-lg border border-white/10 bg-obsidian/50 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(fb,{children:[o.jsx(hb,{children:o.jsxs(cu,{className:"border-white/10 hover:bg-white/5",children:[o.jsx(_r,{className:"text-slate-400 font-semibold",children:"Item #"}),o.jsx(_r,{className:"text-slate-400 font-semibold min-w-[200px]",children:"Description"}),o.jsx(_r,{className:"text-slate-400 font-semibold",children:"Qty"}),o.jsx(_r,{className:"text-slate-400 font-semibold",children:"Pack"}),o.jsx(_r,{className:"text-slate-400 font-semibold text-right",children:"Unit Price"}),o.jsx(_r,{className:"text-slate-400 font-semibold text-right",children:"Extended"}),o.jsx(_r,{className:"text-slate-400 font-semibold",children:"Category"}),!s&&o.jsx(_r,{className:"text-slate-400 font-semibold",children:"Actions"})]})}),o.jsx(pb,{children:e.map((g,x)=>{const y=a===x;return o.jsxs(cu,{className:rt("border-white/10 transition-colors",y?"bg-cyan-500/5":"hover:bg-white/5"),onKeyDown:w=>m(w,x),children:[o.jsx(jr,{className:"text-slate-300 font-mono text-sm",children:y?o.jsx(We,{value:c.item_number||"",onChange:w=>u({...c,item_number:w.target.value}),className:"h-8 input-field","aria-label":"Item number"}):g.item_number||"-"}),o.jsx(jr,{className:"text-white",children:y?o.jsx(We,{value:c.description||"",onChange:w=>u({...c,description:w.target.value}),className:"h-8 input-field","aria-label":"Description"}):o.jsx("span",{className:"line-clamp-2",children:g.description})}),o.jsx(jr,{className:"text-slate-300",children:y?o.jsx(We,{type:"number",value:c.quantity||0,onChange:w=>u({...c,quantity:parseFloat(w.target.value)}),className:"h-8 w-20 input-field","aria-label":"Quantity"}):g.quantity}),o.jsx(jr,{className:"text-slate-300 text-sm",children:y?o.jsx(We,{value:c.pack_size||"",onChange:w=>u({...c,pack_size:w.target.value}),className:"h-8 w-24 input-field","aria-label":"Pack size"}):g.pack_size||"-"}),o.jsx(jr,{className:"text-right text-slate-300 font-mono",children:y?o.jsx(We,{type:"number",step:"0.01",value:c.unit_price||0,onChange:w=>u({...c,unit_price:parseFloat(w.target.value)}),className:"h-8 w-24 input-field text-right","aria-label":"Unit price"}):`$${g.unit_price.toFixed(2)}`}),o.jsxs(jr,{className:"text-right text-emerald-400 font-mono font-semibold",children:["$",g.extended_price.toFixed(2)]}),o.jsx(jr,{children:y?o.jsxs(ca,{value:c.category||"",onValueChange:w=>u({...c,category:w}),children:[o.jsx(Ii,{className:"h-8 w-32 input-field","aria-label":"Category",children:o.jsx(ua,{placeholder:"Select"})}),o.jsxs(Di,{className:"bg-slate-900 border-white/20",children:[o.jsx(ct,{value:"DRY",children:"DRY"}),o.jsx(ct,{value:"REFRIGERATED",children:"REFRIGERATED"}),o.jsx(ct,{value:"FROZEN",children:"FROZEN"})]})]}):o.jsx(ke,{className:rt("border font-medium",v(g.category)),children:g.category||"N/A"})}),!s&&o.jsx(jr,{children:y?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",onClick:h,className:rt("h-8 w-8 p-0","bg-emerald-500/10 hover:bg-emerald-500/20","text-emerald-400 border border-emerald-500/30"),"aria-label":"Save changes",children:o.jsx(kl,{className:"h-4 w-4"})}),o.jsx(W,{size:"sm",variant:"ghost",onClick:f,className:rt("h-8 w-8 p-0","text-slate-400 hover:text-white hover:bg-white/5"),"aria-label":"Cancel editing",children:o.jsx(Ai,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>d(x),className:rt("h-8 w-8 p-0","text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10"),"aria-label":`Edit item ${x+1}`,children:o.jsx(jx,{className:"h-4 w-4"})}),o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>r(x),className:rt("h-8 w-8 p-0","text-red-400 hover:text-red-300 hover:bg-red-500/10"),"aria-label":`Delete item ${x+1}`,children:o.jsx(Pl,{className:"h-4 w-4"})})]})})]},x)})})]})})}),!s&&o.jsxs(W,{onClick:n,variant:"outline",className:rt("w-full border-white/10 text-emerald-400","hover:bg-emerald-500/10 hover:border-emerald-500/30"),"aria-label":"Add new line item",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Line Item"]})]})}function AAe({onSuccess:e,className:t}){var P,C;const r=Nt(),{toast:n}=Tn(),[s,i]=p.useState(!1),[a,l]=p.useState(""),{state:c,startParsing:u,stopParsing:d,updateLineItem:f,addLineItem:h,deleteLineItem:m,updateInvoiceHeader:v,saveToDatabase:g,isConnected:x}=PAe(),{limit:y,isBlocked:w}=X0("invoice_upload"),b=async k=>{const D=new FormData;D.append("file",k);const L=await fetch("https://restaurantiq.us/api/v1/invoices/upload",{method:"POST",credentials:"include",body:D});if(!L.ok){const X=await L.json();if(L.status===429){const I=X.detail||X;throw new Error(I.message||"Usage limit exceeded")}throw new Error(X.detail||"Upload failed")}return(await L.json()).file_url},_=p.useCallback(async k=>{if(k.length===0)return;const D=k[0];if(!D.type.includes("pdf")&&!D.type.includes("image")){n({title:"Invalid file type",description:"Please upload a PDF or image file",variant:"destructive"});return}if(D.size>10*1024*1024){n({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}try{i(!0);const T=await b(D);n({title:"File uploaded",description:"Processing your invoice..."}),u(T,a||void 0)}catch(T){n({title:"Upload failed",description:T instanceof Error?T.message:"Failed to upload file",variant:"destructive"})}finally{i(!1)}},[a,u,n]),{getRootProps:j,getInputProps:S,isDragActive:N}=U2({onDrop:_,accept:{"application/pdf":[".pdf"],"image/*":[".jpg",".jpeg",".png"]},maxFiles:1,disabled:c.status!=="idle"&&c.status!=="error"||w}),E=async()=>{try{const k=await g();n({title:"Invoice saved!",description:"Invoice has been saved to database"}),e?e(k):r(`/invoices/${k}`)}catch(k){n({title:"Save failed",description:k instanceof Error?k.message:"Failed to save invoice",variant:"destructive"})}},A=()=>{d(),r("/invoices")};return o.jsxs("div",{className:rt("min-h-screen bg-obsidian",t),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-glow pointer-events-none"}),o.jsxs("div",{className:"relative container mx-auto px-4 py-8 max-w-6xl space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Upload Invoice"}),o.jsx("p",{className:"text-slate-400",children:"Upload your invoice and we'll extract the data automatically"})]}),o.jsxs(W,{variant:"outline",onClick:A,className:rt("border-white/10 text-slate-300","hover:bg-white/5 hover:text-white"),children:[o.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),y&&o.jsx(jw,{limit:y,featureName:"invoice uploads"}),c.status==="idle"&&o.jsxs(yt,{variant:"elevated",children:[o.jsxs(pn,{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:"Upload Invoice File"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Drag and drop your invoice PDF or image, or click to browse"}),y&&y.allowed&&o.jsx(Sw,{limit:y,className:"mt-2"})]}),o.jsxs(bt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Nn,{htmlFor:"vendor",className:"text-slate-300",children:"Vendor Name (Optional)"}),o.jsx(We,{id:"vendor",placeholder:"e.g., Performance Foodservice, Sysco, US Foods",value:a,onChange:k=>l(k.target.value),className:"input-field","aria-describedby":"vendor-hint"}),o.jsx("p",{id:"vendor-hint",className:"text-xs text-slate-500",children:"Providing the vendor name improves parsing accuracy"})]}),o.jsx(Jq,{getRootProps:j,getInputProps:S,isDragActive:N,isUploading:s,onDrop:_,accept:{"application/pdf":[".pdf"],"image/*":[".jpg",".jpeg",".png"]},maxSize:10*1024*1024})]})]}),(c.status==="parsing"||c.status==="validating")&&o.jsx(yt,{variant:"elevated",children:o.jsx(bt,{className:"pt-6",children:o.jsx(Zq,{status:c.status,progress:c.progress,currentStep:c.currentStep,elapsedSeconds:c.elapsedSeconds,isConnected:x,onCancel:d})})}),(c.status==="ready"||c.status==="saving")&&c.invoiceData&&o.jsxs(o.Fragment,{children:[o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(eu,{className:"h-6 w-6 text-emerald-400","aria-hidden":"true"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Invoice Ready for Review"}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Review and edit the extracted data before saving"})]})]}),c.parseMetadata&&o.jsx(Ww,{status:c.parseMetadata.confidence==="high"?"approved":"reviewed"})]})}),o.jsxs(bt,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-400 text-xs",children:"Invoice Number"}),o.jsx(We,{value:c.invoiceData.invoice_number,onChange:k=>v("invoice_number",k.target.value),className:"mt-1 input-field font-mono","aria-label":"Invoice number"})]}),o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-400 text-xs",children:"Date"}),o.jsx(We,{type:"date",value:c.invoiceData.invoice_date,onChange:k=>v("invoice_date",k.target.value),className:"mt-1 input-field","aria-label":"Invoice date"})]}),o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-400 text-xs",children:"Vendor"}),o.jsx(We,{value:c.invoiceData.vendor_name,onChange:k=>v("vendor_name",k.target.value),className:"mt-1 input-field","aria-label":"Vendor name"})]}),o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-400 text-xs",children:"Total"}),o.jsxs("div",{className:"mt-1 text-2xl font-bold text-emerald-400 font-mono","aria-label":`Total amount: $${c.invoiceData.total.toFixed(2)}`,children:["$",c.invoiceData.total.toFixed(2)]})]})]}),o.jsx("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Subtotal"}),o.jsxs("div",{className:"text-white font-mono font-semibold mt-1",children:["$",c.invoiceData.subtotal.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Tax"}),o.jsxs("div",{className:"text-white font-mono font-semibold mt-1",children:["$",c.invoiceData.tax.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Total"}),o.jsxs("div",{className:"text-emerald-400 font-mono font-bold text-lg mt-1",children:["$",c.invoiceData.total.toFixed(2)]})]})]})})]})]}),o.jsxs(yt,{variant:"elevated",children:[o.jsxs(pn,{children:[o.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Line Items (",c.invoiceData.line_items.length,")"]}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click edit to modify any item, or add/remove items as needed"})]}),o.jsx(bt,{children:o.jsx(PH,{lineItems:c.invoiceData.line_items,onUpdateItem:f,onDeleteItem:m,onAddItem:h})})]}),c.parseMetadata&&o.jsxs(yt,{children:[o.jsx(pn,{children:o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Processing Summary"})}),o.jsx(bt,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Processing Time"}),o.jsxs("div",{className:"font-semibold text-white mt-1",children:[c.parseMetadata.parse_time_seconds,"s"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Items Verified"}),o.jsx("div",{className:"font-semibold text-cyan-400 mt-1",children:((C=(P=c.invoiceData)==null?void 0:P.line_items)==null?void 0:C.length)||0})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(W,{variant:"outline",onClick:A,className:rt("border-white/10 text-slate-300","hover:bg-white/5 hover:text-white"),children:"Cancel"}),o.jsx(W,{onClick:E,disabled:c.status==="saving",className:"btn-primary shadow-emerald",children:c.status==="saving"?o.jsxs(o.Fragment,{children:[o.jsx(hr,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Dp,{className:"h-4 w-4 mr-2"}),"Save Invoice"]})})]})]}),c.status==="error"&&o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsx(ft,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"font-semibold text-red-400",children:["Processing failed: ",c.error]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(W,{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white",children:"Try Again"}),o.jsx(W,{variant:"outline",onClick:A,className:"border-white/10 text-white hover:bg-white/5",children:"Cancel"})]})]})})]})]})]})}function OAe(){return o.jsx(Ur,{children:o.jsx(AAe,{})})}function TAe(){var u,d,f,h;const{invoiceId:e}=Vl(),t=Nt(),{toast:r}=Tn(),[n,s]=p.useState(null),[i,a]=p.useState(!0);p.useEffect(()=>{console.log(" [DETAIL] InvoiceDetailPage mounted, invoiceId:",e),e&&l()},[e]);const l=async()=>{var m,v,g,x;console.log(" [DETAIL] Fetching invoice:",e);try{const y=`/api/v1/invoices/${e}`;console.log(" [DETAIL] GET request to:",y);const w=await De.get(y);console.log(" [DETAIL] Response received:",{status:w.status,hasData:!!w.data,success:(m=w.data)==null?void 0:m.success});const b=w.data;console.log(" [DETAIL] Invoice data:",{hasInvoice:!!b.invoice,hasItems:!!b.items,itemsCount:(v=b.items)==null?void 0:v.length,invoice_number:(g=b.invoice)==null?void 0:g.invoice_number}),s({...b.invoice,line_items:b.items||[]}),console.log(" [DETAIL] Invoice state updated successfully")}catch(y){console.error(" [DETAIL] Error fetching invoice:",y),console.error(" [DETAIL] Error details:",{message:y instanceof Error?y.message:"Unknown",response:(x=y==null?void 0:y.response)==null?void 0:x.data});const w=qL(y,"invoice");r({title:w.title,description:w.description,variant:"destructive"}),t("/invoices")}finally{a(!1),console.log(" [DETAIL] Fetch complete, loading:",!1)}},c=async()=>{if(confirm(` WARNING: This will permanently delete this invoice and all associated inventory items.

This action cannot be undone. Are you sure you want to continue?`))try{await De.delete(`/api/v1/invoices/${e}`),r({title:"Invoice deleted",description:"Invoice has been deleted successfully"}),t("/invoices")}catch(v){const g=HL(v,"invoice");r({title:g.title,description:g.description,variant:"destructive"})}};return i?o.jsx(Ur,{children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(hr,{className:"h-8 w-8 text-emerald-400 animate-spin"})})}):n?o.jsx(Ur,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"Invoice Details"}),o.jsxs("p",{className:"text-slate-400",children:[n.vendor_name,"  #",n.invoice_number]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(W,{variant:"outline",className:"border-white/10 text-slate-300 hover:bg-white/5",children:[o.jsx(Ck,{className:"h-4 w-4 mr-2"}),"Export"]}),o.jsxs(W,{variant:"outline",onClick:c,className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:[o.jsx(Pl,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Invoice Information"}),o.jsx(Ww,{status:n.status})]})}),o.jsxs(bt,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400 text-xs",children:"Invoice Number"}),o.jsx("div",{className:"text-white font-mono font-semibold mt-1",children:n.invoice_number})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400 text-xs",children:"Date"}),o.jsx("div",{className:"text-white font-semibold mt-1",children:new Date(n.invoice_date).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400 text-xs",children:"Vendor"}),o.jsx("div",{className:"text-white font-semibold mt-1",children:n.vendor_name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400 text-xs",children:"Total"}),o.jsxs("div",{className:"text-2xl font-bold text-emerald-400 font-mono mt-1",children:["$",((u=n.total)==null?void 0:u.toFixed(2))||"0.00"]})]})]}),o.jsx("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Subtotal"}),o.jsxs("div",{className:"text-white font-mono font-semibold mt-1",children:["$",((d=n.subtotal)==null?void 0:d.toFixed(2))||"0.00"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Tax"}),o.jsxs("div",{className:"text-white font-mono font-semibold mt-1",children:["$",((f=n.tax)==null?void 0:f.toFixed(2))||"0.00"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Total"}),o.jsxs("div",{className:"text-emerald-400 font-mono font-bold text-lg mt-1",children:["$",((h=n.total)==null?void 0:h.toFixed(2))||"0.00"]})]})]})})]})]}),o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Line Items (",n.line_items.length,")"]})}),o.jsx(bt,{children:o.jsx(PH,{lineItems:n.line_items,onUpdateItem:()=>{},onDeleteItem:()=>{},onAddItem:()=>{},readonly:!0})})]})]})}):null}function RAe(e){const t=e.menu_items||[],r=new Map;t.forEach(s=>{const i=s.category||"Uncategorized",a={name:s.item_name||s.name||"",description:s.description||void 0,prices:s.prices||[],category:i,dietary_tags:s.dietary_tags||void 0,available:s.available!==!1};r.has(i)||r.set(i,[]),r.get(i).push(a)});const n=Array.from(r.entries()).map(([s,i])=>({name:s,items:i}));return{restaurant_name:e.restaurant_name||"Unknown Restaurant",menu_type:e.menu_type||void 0,categories:n,menu_items:t}}function IAe(){const[e,t]=p.useState({status:"idle",progress:0,currentStep:"",elapsedSeconds:0}),[r,n]=p.useState(!1),s=p.useRef(null),i=p.useCallback(()=>{s.current&&(s.current.abort(),s.current=null),n(!1)},[]),a=p.useCallback((g,x)=>{i(),t(y=>({...y,status:"parsing",progress:0,currentStep:"Connecting...",menuData:void 0,parseMetadata:void 0,error:void 0,fileUrl:g,elapsedSeconds:0})),s.current=new AbortController;try{const y="https://restaurantiq.us",w=new URLSearchParams({file_url:g,...x&&{restaurant_name_hint:x}}),b=`${y}/api/v1/menu/parse-stream?${w}`,_=async()=>{var S;try{const N=await fetch(b,{method:"GET",headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},credentials:"include",signal:(S=s.current)==null?void 0:S.signal});if(!N.ok)throw new Error(`HTTP ${N.status}: ${N.statusText}`);if(!N.body)throw new Error("No response body for streaming");n(!0);const E=N.body.getReader(),A=new TextDecoder;let P="";for(;;){const{done:C,value:k}=await E.read();if(C)break;const T=A.decode(k,{stream:!0}).split(`
`);for(const L of T){if(L.startsWith("event:")){P=L.substring(6).trim();continue}if(L.startsWith("data:"))try{const z=JSON.parse(L.substring(5).trim());j(P||"message",z)}catch{console.warn("Failed to parse SSE data:",L)}}}}catch(N){if(N instanceof Error&&N.name==="AbortError"){console.log("Parsing request aborted");return}console.error("Streaming request failed:",N),t(E=>({...E,status:"error",error:N instanceof Error?N.message:"Parsing failed"}))}finally{n(!1)}},j=(S,N)=>{switch(S){case"parsing_started":t(A=>({...A,currentStep:N.message||"Processing your menu...",progress:5}));break;case"parsing_progress":t(A=>({...A,currentStep:N.message||"Still processing...",progress:Math.min(A.progress+10,90),elapsedSeconds:N.elapsed_seconds||A.elapsedSeconds}));break;case"parsed_data":const E=RAe(N.menu_data);t(A=>({...A,status:"validating",menuData:E,parseMetadata:N.metadata,currentStep:"Validating data...",progress:95}));break;case"validation_complete":t(A=>{var P,C;return{...A,status:"ready",currentStep:"Menu ready for review",progress:100,parseMetadata:A.parseMetadata?{...A.parseMetadata,confidence:((P=N.validation)==null?void 0:P.confidence)||"medium",corrections_made:((C=N.validation)==null?void 0:C.corrections_made)||0}:void 0}}),i();break;case"error":t(A=>({...A,status:"error",error:N.message||"Parsing failed"})),i();break;default:console.log("Unknown event type:",S,N)}};_()}catch(y){console.error("Failed to start parsing:",y),t(w=>({...w,status:"error",error:y instanceof Error?y.message:"Failed to start parsing"}))}},[i]),l=p.useCallback((g,x,y,w)=>{t(b=>{if(!b.menuData)return b;const _=[...b.menuData.categories],j=[..._[g].items];return j[x]={...j[x],[y]:w},_[g]={..._[g],items:j},{...b,menuData:{...b.menuData,categories:_}}})},[]),c=p.useCallback(g=>{t(x=>{if(!x.menuData)return x;const y={name:"",prices:[{size:null,price:0}],available:!0},w=[...x.menuData.categories];return w[g]={...w[g],items:[...w[g].items,y]},{...x,menuData:{...x.menuData,categories:w}}})},[]),u=p.useCallback((g,x)=>{t(y=>{if(!y.menuData)return y;const w=[...y.menuData.categories];return w[g]={...w[g],items:w[g].items.filter((b,_)=>_!==x)},{...y,menuData:{...y.menuData,categories:w}}})},[]),d=p.useCallback((g,x,y)=>{t(w=>{if(!w.menuData)return w;const b=[...w.menuData.categories];return b[g]={...b[g],[x]:y},{...w,menuData:{...w.menuData,categories:b}}})},[]),f=p.useCallback(()=>{t(g=>{if(!g.menuData)return g;const x={name:"New Category",items:[]};return{...g,menuData:{...g.menuData,categories:[...g.menuData.categories,x]}}})},[]),h=p.useCallback(g=>{t(x=>x.menuData?{...x,menuData:{...x.menuData,categories:x.menuData.categories.filter((y,w)=>w!==g)}}:x)},[]),m=p.useCallback((g,x)=>{t(y=>y.menuData?{...y,menuData:{...y.menuData,[g]:x}}:y)},[]),v=p.useCallback(async()=>{if(!e.menuData||!e.parseMetadata||!e.fileUrl)throw new Error("No menu data to save");t(g=>({...g,status:"saving"}));try{const x=await fetch("https://restaurantiq.us/api/v1/menu/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({menu_data:e.menuData,parse_metadata:e.parseMetadata,file_url:e.fileUrl})});if(!x.ok){const w=await x.json();throw new Error(w.detail||"Failed to save menu")}const y=await x.json();return t(w=>({...w,status:"saved"})),y.menu_id}catch(g){throw t(x=>({...x,status:"error",error:g instanceof Error?g.message:"Failed to save menu"})),g}},[e.menuData,e.parseMetadata,e.fileUrl]);return p.useEffect(()=>()=>{i()},[i]),{state:e,startParsing:a,stopParsing:i,updateMenuItem:l,addMenuItem:c,deleteMenuItem:u,updateCategory:d,addCategory:f,deleteCategory:h,updateMenuHeader:m,saveToDatabase:v,isConnected:r}}const ng=p.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:$("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",e),ref:r,...t}));ng.displayName="Textarea";function AH({categories:e,onUpdateItem:t,onDeleteItem:r,onAddItem:n,onUpdateCategory:s,onAddCategory:i,onDeleteCategory:a,readonly:l=!1,className:c,onBuildRecipe:u}){const[d,f]=p.useState(null),[h,m]=p.useState({}),[v,g]=p.useState(null),[x,y]=p.useState(""),[w,b]=p.useState(()=>new Set(e.map((C,k)=>k))),_=(C,k)=>{f({categoryIndex:C,itemIndex:k}),m(e[C].items[k])},j=()=>{f(null),m({})},S=()=>{d!==null&&(Object.entries(h).forEach(([C,k])=>{t(d.categoryIndex,d.itemIndex,C,k)}),f(null),m({}))},N=C=>{g(C),y(e[C].name)},E=()=>{v!==null&&(s(v,"name",x),g(null),y(""))},A=C=>{const k=new Set(w);k.has(C)?k.delete(C):k.add(C),b(k)},P=(C,k,D)=>{C.key==="Enter"&&(d==null?void 0:d.categoryIndex)===k&&(d==null?void 0:d.itemIndex)===D?S():C.key==="Escape"&&(d==null?void 0:d.categoryIndex)===k&&(d==null?void 0:d.itemIndex)===D&&j()};return o.jsxs("div",{className:rt("space-y-6",c),children:[e.map((C,k)=>{const D=w.has(k),T=v===k;return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 border border-white/10 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>A(k),className:"h-6 w-6 p-0 text-slate-400 hover:text-white","aria-label":D?"Expand category":"Collapse category",children:D?o.jsx(ju,{className:"h-4 w-4"}):o.jsx(ji,{className:"h-4 w-4"})}),T?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(We,{value:x,onChange:L=>y(L.target.value),className:"h-8 input-field",autoFocus:!0,onKeyDown:L=>{L.key==="Enter"&&E(),L.key==="Escape"&&g(null)}}),o.jsx(W,{size:"sm",onClick:E,className:"h-8 w-8 p-0 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:o.jsx(kl,{className:"h-4 w-4"})}),o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>g(null),className:"h-8 w-8 p-0 text-slate-400 hover:text-white",children:o.jsx(Ai,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:C.name}),o.jsxs(ke,{className:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",children:[C.items.length," items"]})]})]}),!l&&!T&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>N(k),className:"h-8 text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10",children:[o.jsx(jx,{className:"h-4 w-4 mr-1"}),"Edit"]}),o.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>a(k),className:"h-8 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[o.jsx(Pl,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),!D&&o.jsxs("div",{className:"rounded-lg border border-white/10 bg-obsidian/50 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(fb,{children:[o.jsx(hb,{children:o.jsxs(cu,{className:"border-white/10 hover:bg-white/5",children:[o.jsx(_r,{className:"text-slate-400 font-semibold min-w-[200px]",children:"Item Name"}),o.jsx(_r,{className:"text-slate-400 font-semibold min-w-[250px]",children:"Description"}),o.jsx(_r,{className:"text-slate-400 font-semibold text-right",children:"Price"}),o.jsx(_r,{className:"text-slate-400 font-semibold",children:"Available"}),o.jsx(_r,{className:"text-slate-400 font-semibold",children:"Actions"})]})}),o.jsx(pb,{children:C.items.map((L,z)=>{const X=(d==null?void 0:d.categoryIndex)===k&&(d==null?void 0:d.itemIndex)===z;return o.jsxs(cu,{className:rt("border-white/10 transition-colors",X?"bg-cyan-500/5":"hover:bg-white/5"),onKeyDown:I=>P(I,k,z),children:[o.jsx(jr,{className:"text-white font-medium",children:X?o.jsx(We,{value:h.name||"",onChange:I=>m({...h,name:I.target.value}),className:"h-8 input-field","aria-label":"Item name"}):L.name}),o.jsx(jr,{className:"text-slate-300",children:X?o.jsx(ng,{value:h.description||"",onChange:I=>m({...h,description:I.target.value}),className:"min-h-[60px] input-field text-sm","aria-label":"Description"}):o.jsx("span",{className:"text-sm line-clamp-2",children:L.description||"-"})}),o.jsx(jr,{className:"text-right text-emerald-400 font-mono font-semibold",children:X?o.jsx("div",{className:"space-y-1 text-xs",children:(h.prices||L.prices||[]).map((I,M)=>o.jsxs("div",{className:"flex gap-1 items-center justify-end",children:[o.jsx(We,{value:I.size||"",onChange:Q=>{const J=[...h.prices||L.prices||[]];J[M]={...J[M],size:Q.target.value||null},m({...h,prices:J})},placeholder:"Size",className:"h-7 w-16 input-field text-xs"}),o.jsx(We,{type:"number",step:"0.01",value:I.price||0,onChange:Q=>{const J=[...h.prices||L.prices||[]];J[M]={...J[M],price:parseFloat(Q.target.value)},m({...h,prices:J})},className:"h-7 w-20 input-field text-right text-xs"})]},M))}):o.jsx("div",{className:"space-y-1",children:(L.prices||[]).map((I,M)=>o.jsxs("div",{className:"text-sm whitespace-nowrap",children:[I.size?o.jsxs("span",{className:"text-slate-400 text-xs mr-2",children:[I.size,":"]}):null,o.jsxs("span",{children:["$",I.price.toFixed(2)]})]},M))})}),o.jsx(jr,{children:X?o.jsx("input",{type:"checkbox",checked:h.available??!0,onChange:I=>m({...h,available:I.target.checked}),className:"h-4 w-4","aria-label":"Available"}):o.jsx(ke,{className:rt("border font-medium",L.available!==!1?"bg-emerald-500/10 text-emerald-400 border-emerald-500/30":"bg-slate-500/10 text-slate-400 border-slate-500/30"),children:L.available!==!1?"Yes":"No"})}),o.jsx(jr,{children:l?u&&o.jsxs(W,{size:"sm",onClick:()=>u(L.name),className:"btn-secondary text-xs",children:[o.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Recipe"]}):X?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",onClick:S,className:rt("h-8 w-8 p-0","bg-emerald-500/10 hover:bg-emerald-500/20","text-emerald-400 border border-emerald-500/30"),"aria-label":"Save changes",children:o.jsx(kl,{className:"h-4 w-4"})}),o.jsx(W,{size:"sm",variant:"ghost",onClick:j,className:rt("h-8 w-8 p-0","text-slate-400 hover:text-white hover:bg-white/5"),"aria-label":"Cancel editing",children:o.jsx(Ai,{className:"h-4 w-4"})})]}):o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>_(k,z),className:rt("h-8 w-8 p-0","text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10"),"aria-label":`Edit item ${z+1}`,children:o.jsx(jx,{className:"h-4 w-4"})}),o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>r(k,z),className:rt("h-8 w-8 p-0","text-red-400 hover:text-red-300 hover:bg-red-500/10"),"aria-label":`Delete item ${z+1}`,children:o.jsx(Pl,{className:"h-4 w-4"})})]})})]},z)})})]})}),!l&&o.jsx("div",{className:"p-3 border-t border-white/10",children:o.jsxs(W,{onClick:()=>n(k),variant:"outline",size:"sm",className:rt("w-full border-white/10 text-emerald-400","hover:bg-emerald-500/10 hover:border-emerald-500/30"),"aria-label":`Add item to ${C.name}`,children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Item to ",C.name]})})]})]},k)}),!l&&o.jsxs(W,{onClick:i,variant:"outline",className:rt("w-full border-white/10 text-cyan-400","hover:bg-cyan-500/10 hover:border-cyan-500/30"),"aria-label":"Add new category",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Category"]})]})}const DAe=Object.freeze(Object.defineProperty({__proto__:null,MenuReviewTable:AH},Symbol.toStringTag,{value:"Module"}));function MAe({onSuccess:e,className:t}){var T,L,z,X;const r=Nt(),{toast:n}=Tn(),[s,i]=p.useState(!1),[a,l]=p.useState(""),{state:c,startParsing:u,stopParsing:d,updateMenuItem:f,addMenuItem:h,deleteMenuItem:m,updateCategory:v,addCategory:g,deleteCategory:x,updateMenuHeader:y,saveToDatabase:w,isConnected:b}=IAe(),{limit:_,isBlocked:j}=X0("menu_upload"),S=async I=>{const M=new FormData;M.append("file",I);const J=await fetch("https://restaurantiq.us/api/v1/menu/upload",{method:"POST",credentials:"include",body:M});if(!J.ok){const Ee=await J.json();if(J.status===429){const je=Ee.detail||Ee;throw new Error(je.message||"Usage limit exceeded")}throw new Error(Ee.detail||"Upload failed")}return(await J.json()).file_url},N=p.useCallback(async I=>{if(I.length===0)return;const M=I[0];if(!M.type.includes("pdf")&&!M.type.includes("image")){n({title:"Invalid file type",description:"Please upload a PDF or image file",variant:"destructive"});return}if(M.size>10*1024*1024){n({title:"File too large",description:"Maximum file size is 10MB",variant:"destructive"});return}try{i(!0);const Q=await S(M);n({title:"File uploaded",description:"Processing your menu..."}),u(Q,a||void 0)}catch(Q){n({title:"Upload failed",description:Q instanceof Error?Q.message:"Failed to upload file",variant:"destructive"})}finally{i(!1)}},[a,u,n]),{getRootProps:E,getInputProps:A,isDragActive:P}=U2({onDrop:N,accept:{"application/pdf":[".pdf"],"image/*":[".jpg",".jpeg",".png"]},maxFiles:1,disabled:c.status!=="idle"&&c.status!=="error"||j}),C=async()=>{try{const I=await w();n({title:"Menu saved!",description:"Menu has been saved to database"}),e?e(I):r("/menu/dashboard")}catch(I){n({title:"Save failed",description:I instanceof Error?I.message:"Failed to save menu",variant:"destructive"})}},k=()=>{d(),r("/dashboard")},D=((L=(T=c.menuData)==null?void 0:T.categories)==null?void 0:L.reduce((I,M)=>I+M.items.length,0))||0;return o.jsxs("div",{className:rt("min-h-screen bg-obsidian",t),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-glow pointer-events-none"}),o.jsxs("div",{className:"relative container mx-auto px-4 py-8 max-w-6xl space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Upload Menu"}),o.jsx("p",{className:"text-slate-400",children:"Upload your menu and we'll extract the data automatically"})]}),o.jsxs(W,{variant:"outline",onClick:k,className:rt("border-white/10 text-slate-300","hover:bg-white/5 hover:text-white"),children:[o.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),_&&o.jsx(jw,{limit:_,featureName:"menu uploads"}),c.status==="idle"&&o.jsxs(yt,{variant:"elevated",children:[o.jsxs(pn,{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:"Upload Menu File"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Drag and drop your menu PDF or image, or click to browse"}),_&&_.allowed&&o.jsx(Sw,{limit:_,className:"mt-2"})]}),o.jsxs(bt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Nn,{htmlFor:"restaurant",className:"text-slate-300",children:"Restaurant Name (Optional)"}),o.jsx(We,{id:"restaurant",placeholder:"e.g., Park Avenue Pizza, Joe's Diner",value:a,onChange:I=>l(I.target.value),className:"input-field","aria-describedby":"restaurant-hint"}),o.jsx("p",{id:"restaurant-hint",className:"text-xs text-slate-500",children:"Providing the restaurant name improves processing accuracy"})]}),o.jsx(Jq,{getRootProps:E,getInputProps:A,isDragActive:P,isUploading:s,onDrop:N,accept:{"application/pdf":[".pdf"],"image/*":[".jpg",".jpeg",".png"]},maxSize:10*1024*1024})]})]}),(c.status==="parsing"||c.status==="validating")&&o.jsx(yt,{variant:"elevated",children:o.jsx(bt,{className:"pt-6",children:o.jsx(Zq,{status:c.status,progress:c.progress,currentStep:c.currentStep,elapsedSeconds:c.elapsedSeconds,isConnected:b,onCancel:d,title:"Processing Menu"})})}),(c.status==="ready"||c.status==="saving")&&c.menuData&&o.jsxs(o.Fragment,{children:[o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(eu,{className:"h-6 w-6 text-emerald-400","aria-hidden":"true"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Menu Ready for Review"}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Review and edit the extracted data before saving"})]})]}),c.parseMetadata&&o.jsx(Ww,{status:c.parseMetadata.confidence==="high"?"approved":"reviewed"})]})}),o.jsxs(bt,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-400 text-xs",children:"Restaurant Name"}),o.jsx(We,{value:c.menuData.restaurant_name,onChange:I=>y("restaurant_name",I.target.value),className:"mt-1 input-field","aria-label":"Restaurant name"})]}),o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-400 text-xs",children:"Menu Type"}),o.jsx(We,{value:c.menuData.menu_type||"",onChange:I=>y("menu_type",I.target.value),placeholder:"e.g., Dinner, Lunch, Brunch",className:"mt-1 input-field","aria-label":"Menu type"})]}),o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-400 text-xs",children:"Total Items"}),o.jsx("div",{className:"mt-1 text-2xl font-bold text-emerald-400 font-mono","aria-label":`Total items: ${D}`,children:D})]})]}),o.jsx("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Categories"}),o.jsx("div",{className:"text-white font-semibold mt-1",children:c.menuData.categories.length})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Menu Items"}),o.jsx("div",{className:"text-white font-semibold mt-1",children:D})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-400",children:"Avg Price"}),o.jsxs("div",{className:"text-emerald-400 font-mono font-semibold mt-1",children:["$",D>0?(c.menuData.categories.reduce((I,M)=>I+M.items.reduce((Q,J)=>{var ee,Ee;return Q+(((Ee=(ee=J.prices)==null?void 0:ee[0])==null?void 0:Ee.price)||0)},0),0)/D).toFixed(2):"0.00"]})]})]})})]})]}),o.jsxs(yt,{variant:"elevated",children:[o.jsxs(pn,{children:[o.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Menu Items (",D,")"]}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click edit to modify any item, or add/remove items as needed"})]}),o.jsx(bt,{children:o.jsx(AH,{categories:c.menuData.categories,onUpdateItem:f,onDeleteItem:m,onAddItem:h,onUpdateCategory:v,onAddCategory:g,onDeleteCategory:x})})]}),c.parseMetadata&&o.jsxs(yt,{children:[o.jsx(pn,{children:o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Processing Summary"})}),o.jsx(bt,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Processing Time"}),o.jsxs("div",{className:"font-semibold text-white mt-1",children:[c.parseMetadata.parse_time_seconds,"s"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Items Found"}),o.jsx("div",{className:"font-semibold text-cyan-400 mt-1",children:((X=(z=c.menuData)==null?void 0:z.menu_items)==null?void 0:X.length)||0})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(W,{variant:"outline",onClick:k,className:rt("border-white/10 text-slate-300","hover:bg-white/5 hover:text-white"),children:"Cancel"}),o.jsx(W,{onClick:C,disabled:c.status==="saving",className:"btn-primary shadow-emerald",children:c.status==="saving"?o.jsxs(o.Fragment,{children:[o.jsx(hr,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Dp,{className:"h-4 w-4 mr-2"}),"Save Menu"]})})]})]}),c.status==="error"&&o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsx(ft,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"font-semibold text-red-400",children:["Processing failed: ",c.error]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(W,{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white",children:"Try Again"}),o.jsx(W,{variant:"outline",onClick:k,className:"border-white/10 text-white hover:bg-white/5",children:"Cancel"})]})]})})]})]})]})}function $Ae(){const e=Nt(),t=r=>{e("/menu/dashboard",{state:{message:"Menu saved successfully!",menuId:r}})};return o.jsx(Ur,{children:o.jsx(MAe,{onSuccess:t})})}const LAe="modulepreload",FAe=function(e){return"/"+e},CM={},UAe=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=FAe(c),c in CM)return;CM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":LAe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},zAe=p.lazy(()=>UAe(()=>Promise.resolve().then(()=>DAe),void 0).then(e=>({default:e.MenuReviewTable})));function BAe(){var m;const e=Nt(),t=ho(),{toast:r}=Tn(),n=jf(),{data:s,isLoading:i,refetch:a}=ws({queryKey:["current-menu"],queryFn:async()=>(await De.get("/api/v1/menu/current")).data,refetchOnMount:"always",refetchOnWindowFocus:!0,staleTime:0}),l=s!=null&&s.menu?{...s.menu,categories:(s.categories||[]).map(v=>({...v,items:v.items||[]}))}:null;p.useEffect(()=>{var v;(v=t.state)!=null&&v.message&&(r({title:"Success",description:t.state.message}),window.history.replaceState({},document.title))},[t.state,r]);const[c,u]=p.useState(!1),d=async()=>{if(l&&confirm("Are you sure you want to delete this menu? This action cannot be undone."))try{u(!0),await De.delete(`/api/v1/menu/${l.id}`),r({title:"Menu deleted",description:"Menu has been deleted successfully"}),n.invalidateQueries({queryKey:["current-menu"]})}catch(v){const g=HL(v,"menu");r({title:g.title,description:g.description,variant:"destructive"})}finally{u(!1)}},f=((m=l==null?void 0:l.categories)==null?void 0:m.reduce((v,g)=>{var x;return v+(((x=g.items)==null?void 0:x.length)||0)},0))||0,h=f>0&&(l!=null&&l.categories)?l.categories.reduce((v,g)=>v+(g.items||[]).reduce((x,y)=>{var b;const w=(((b=y.prices)==null?void 0:b.length)||0)>0?y.prices.reduce((_,j)=>_+j.price,0)/y.prices.length:0;return x+w},0),0)/f:0;return i?o.jsx(Ur,{children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(hr,{className:"h-8 w-8 text-emerald-400 animate-spin"})})}):o.jsx(Ur,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Menu Dashboard"}),o.jsx("p",{className:"text-slate-400",children:"View and manage your restaurant menu"})]}),o.jsxs("div",{className:"flex gap-3",children:[l&&o.jsxs(W,{variant:"outline",onClick:()=>a(),className:"border-white/10 text-slate-300 hover:bg-white/5",children:[o.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(W,{onClick:()=>e("/menu/upload"),className:"btn-primary shadow-emerald",children:[o.jsx(ru,{className:"h-4 w-4 mr-2"}),"Upload Menu"]})]})]}),!l&&o.jsx(yt,{variant:"elevated",children:o.jsx(bt,{className:"py-16",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-800 flex items-center justify-center",children:o.jsx(Wa,{className:"h-8 w-8 text-slate-400"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Menu Found"}),o.jsx("p",{className:"text-slate-400 mb-6",children:"Upload your first menu to get started with menu management"}),o.jsxs(W,{onClick:()=>e("/menu/upload"),className:"btn-primary shadow-emerald",children:[o.jsx(ru,{className:"h-4 w-4 mr-2"}),"Upload Menu"]})]})]})})}),l&&o.jsxs(o.Fragment,{children:[o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:l.restaurant_name}),l.menu_type&&o.jsx("p",{className:"text-slate-400",children:l.menu_type})]}),o.jsx(ke,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",children:"Active"})]})}),o.jsxs(bt,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm mb-2",children:[o.jsx(Wa,{className:"h-4 w-4"}),o.jsx("span",{children:"Categories"})]}),o.jsx("div",{className:"text-2xl font-bold text-white",children:l.categories.length})]}),o.jsxs("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm mb-2",children:[o.jsx(Wa,{className:"h-4 w-4"}),o.jsx("span",{children:"Total Items"})]}),o.jsx("div",{className:"text-2xl font-bold text-white",children:f})]}),o.jsxs("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"flex items-center gap-2 text-slate-400 text-sm mb-2",children:o.jsx("span",{children:"Avg Price"})}),o.jsxs("div",{className:"text-2xl font-bold text-emerald-400 font-mono",children:["$",h.toFixed(2)]})]}),o.jsxs("div",{className:"bg-obsidian/50 border border-white/10 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm mb-2",children:[o.jsx(g0,{className:"h-4 w-4"}),o.jsx("span",{children:"Updated"})]}),o.jsx("div",{className:"text-sm font-semibold text-white",children:new Date(l.updated_at).toLocaleDateString()})]})]}),o.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/10",children:o.jsx(W,{variant:"outline",onClick:d,disabled:c,className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:c?o.jsxs(o.Fragment,{children:[o.jsx(hr,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Pl,{className:"h-4 w-4 mr-2"}),"Delete Menu"]})})})]})]}),o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Menu Items (",f,")"]}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click categories to expand and view items"})]})})}),o.jsx(bt,{children:o.jsx(p.Suspense,{fallback:o.jsx("div",{className:"space-y-4",children:[...Array(3)].map((v,g)=>o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-12 bg-slate-800/50 rounded mb-2"}),o.jsx("div",{className:"h-32 bg-slate-800/30 rounded"})]},g))}),children:o.jsx(zAe,{categories:l.categories,onUpdateItem:(v,g,x,y)=>{},onDeleteItem:(v,g)=>{},onAddItem:v=>{},onUpdateCategory:(v,g,x)=>{},onAddCategory:()=>{},onDeleteCategory:v=>{},readonly:!0,onBuildRecipe:v=>{for(const g of l.categories){const x=g.items.find(y=>y.name===v);if(x&&x.id){e(`/menu/items/${x.id}/recipe`);break}}}})})})]}),o.jsx(yt,{children:o.jsx(bt,{className:"py-4",children:o.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[o.jsx(Ot,{className:"h-5 w-5 text-cyan-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-slate-400",children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"Menu Management"}),o.jsx("p",{children:"To update your menu, upload a new version. The system will replace the current menu while preserving historical data for analytics."})]})]})})})]})]})})}const hd={async searchInventory(e,t=20){return(await De.get(`/api/v1/menu/search-inventory?q=${encodeURIComponent(e)}&limit=${t}`)).data},async getRecipe(e,t){const r=t?`?price_id=${t}`:"";return(await De.get(`/api/v1/menu/items/${e}/recipe${r}`)).data},async addIngredient(e,t){return(await De.post(`/api/v1/menu/items/${e}/ingredients`,t)).data},async updateIngredient(e,t,r){return(await De.put(`/api/v1/menu/items/${e}/ingredients/${t}`,r)).data},async deleteIngredient(e,t){return(await De.delete(`/api/v1/menu/items/${e}/ingredients/${t}`)).data}};function VAe(e,t){const[r,n]=p.useState(null),[s,i]=p.useState(!0),[a,l]=p.useState(!1),{toast:c}=Tn(),u=p.useCallback(async()=>{try{i(!0);const m=await hd.getRecipe(e,t);n(m)}catch(m){c({title:"Error",description:m instanceof Error?m.message:"Failed to load recipe",variant:"destructive"})}finally{i(!1)}},[e,t,c]);p.useEffect(()=>{u()},[u]);const d=p.useCallback(async m=>{try{l(!0),await hd.addIngredient(e,m),await u(),c({title:"Success",description:"Ingredient added successfully"})}catch(v){throw c({title:"Error",description:v instanceof Error?v.message:"Failed to add ingredient",variant:"destructive"}),v}finally{l(!1)}},[e,u,c]),f=p.useCallback(async(m,v)=>{try{l(!0),await hd.updateIngredient(e,m,v),await u(),c({title:"Success",description:"Ingredient updated successfully"})}catch(g){throw c({title:"Error",description:g instanceof Error?g.message:"Failed to update ingredient",variant:"destructive"}),g}finally{l(!1)}},[e,u,c]),h=p.useCallback(async m=>{try{l(!0),await hd.deleteIngredient(e,m),await u(),c({title:"Success",description:"Ingredient removed successfully"})}catch(v){throw c({title:"Error",description:v instanceof Error?v.message:"Failed to remove ingredient",variant:"destructive"}),v}finally{l(!1)}},[e,u,c]);return{recipe:r,loading:s,saving:a,addIngredient:d,updateIngredient:f,deleteIngredient:h,refreshRecipe:u}}function WAe({totalCogs:e,menuPrice:t,grossProfit:r,foodCostPercent:n}){const s=n<30,i=n>=30&&n<35,a=n>=35;return o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(po,{className:"h-5 w-5 text-emerald-400"}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cost Breakdown"})]})}),o.jsxs(bt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-400",children:"Total COGS"}),o.jsxs("span",{className:"text-xl font-mono font-bold text-white",children:["$",e.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-400",children:"Menu Price"}),o.jsxs("span",{className:"text-xl font-mono font-bold text-emerald-400",children:["$",t.toFixed(2)]})]}),o.jsx("div",{className:"border-t border-white/10 pt-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-400",children:"Gross Profit"}),o.jsxs("span",{className:"text-xl font-mono font-bold text-cyan-400",children:["$",r.toFixed(2)]})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-400",children:"Food Cost %"}),o.jsxs("span",{className:"text-2xl font-mono font-bold text-white",children:[n.toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-slate-800 rounded-full overflow-hidden",children:o.jsx("div",{className:rt("h-full transition-all duration-500",s&&"bg-emerald-500",i&&"bg-orange-500",a&&"bg-red-500"),style:{width:`${Math.min(n,100)}%`}})}),o.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[o.jsx("span",{children:"0%"}),o.jsx("span",{children:"30%"}),o.jsx("span",{children:"50%"})]})]}),o.jsx("div",{className:"pt-2",children:e===0?o.jsxs("div",{className:"text-sm text-slate-400 bg-slate-800/50 rounded-lg p-3 border border-white/10",children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:" Add ingredients to calculate COGS"}),o.jsx("p",{className:"text-xs",children:"Costs are automatically pulled from your latest invoice prices"})]}):o.jsxs(o.Fragment,{children:[s&&o.jsxs(ke,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",children:[o.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Healthy margin (target: <30%)"]}),i&&o.jsxs(ke,{className:"bg-orange-500/10 text-orange-400 border-orange-500/30",children:[o.jsx(Al,{className:"h-3 w-3 mr-1"}),"Warning: Above 30% target"]}),a&&o.jsxs(ke,{className:"bg-red-500/10 text-red-400 border-red-500/30",children:[o.jsx(Al,{className:"h-3 w-3 mr-1"}),"High cost: Review pricing"]})]})})]})]})}function qAe({ingredients:e,onEdit:t,onDelete:r,onAddClick:n,saving:s}){const[i,a]=p.useState(null),[l,c]=p.useState(""),[u,d]=p.useState(""),f=g=>{a(g.id),c(g.quantity_per_serving.toString()),d(g.notes||"")},h=()=>{a(null),c(""),d("")},m=async g=>{const x=parseFloat(l);isNaN(x)||x<=0||(await t(g,x,u||void 0),h())},v=async g=>{confirm("Remove this ingredient from the recipe?")&&await r(g)};return o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ip,{className:"h-5 w-5 text-cyan-400"}),o.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Ingredients (",e.length,")"]})]}),o.jsxs(W,{onClick:n,disabled:s,className:"btn-primary shadow-emerald",size:"sm",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add Ingredient"]})]})}),o.jsx(bt,{children:e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-800 flex items-center justify-center",children:o.jsx(Ip,{className:"h-8 w-8 text-slate-400"})})}),o.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"No ingredients yet"}),o.jsx("p",{className:"text-slate-400 mb-2",children:"Add ingredients to calculate the true cost of this menu item"}),o.jsx("p",{className:"text-xs text-slate-500 mb-6",children:" Costs are pulled from your latest invoice prices automatically"}),o.jsxs(W,{onClick:n,className:"btn-primary shadow-emerald",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Add First Ingredient"]})]}):o.jsx("div",{className:"space-y-3",children:e.map(g=>{const x=i===g.id;return o.jsx("div",{className:rt("border border-white/10 rounded-lg p-4 transition-colors",x?"bg-cyan-500/5 border-cyan-500/30":"bg-obsidian/50"),children:x?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Quantity per serving"}),o.jsxs("div",{className:"flex gap-3 items-center",children:[o.jsx(We,{type:"number",step:"0.01",min:"0",value:l,onChange:y=>c(y.target.value),className:"input-field flex-1",placeholder:"1.0"}),o.jsx("span",{className:"text-slate-400",children:""}),o.jsx(We,{value:g.unit_of_measure,disabled:!0,className:"input-field w-24 bg-slate-800/50"})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Notes (optional)"}),o.jsx(ng,{value:u,onChange:y=>d(y.target.value),className:"input-field text-sm",placeholder:"Add notes...",rows:2})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(W,{size:"sm",onClick:()=>m(g.id),disabled:s,className:"bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[o.jsx(kl,{className:"h-4 w-4 mr-1"}),"Save"]}),o.jsxs(W,{size:"sm",variant:"ghost",onClick:h,disabled:s,className:"text-slate-400 hover:text-white",children:[o.jsx(Ai,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:g.invoice_item_description}),o.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[o.jsxs("span",{className:"text-slate-300 font-mono font-semibold",children:[g.quantity_per_serving," ",g.unit_of_measure]}),o.jsx("span",{className:"text-slate-500",children:""}),o.jsxs("span",{className:"text-slate-400",children:["$",(g.calculated_unit_cost||0).toFixed(2),"/",g.base_unit||g.unit_of_measure]}),o.jsx("span",{className:"text-slate-500",children:"="}),o.jsxs("span",{className:"text-emerald-400 font-semibold font-mono text-base",children:["$",(g.line_cost||0).toFixed(2)]})]}),g.last_purchase_date&&o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[" Last paid: ",new Date(g.last_purchase_date).toLocaleDateString()," (from invoice)"]}),g.notes&&o.jsx("p",{className:"text-sm text-slate-400 mt-2 italic",children:g.notes})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>f(g),disabled:s,className:"h-8 w-8 p-0 text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10",children:o.jsx(jx,{className:"h-4 w-4"})}),o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>v(g.id),disabled:s,className:"h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-500/10",children:o.jsx(Pl,{className:"h-4 w-4"})})]})]})})},g.id)})})})]})}const V2=SU,HAe=uC,OH=p.forwardRef(({className:e,...t},r)=>o.jsx(Of,{ref:r,className:$("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OH.displayName=Of.displayName;const Kw=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(HAe,{children:[o.jsx(OH,{}),o.jsxs(Tf,{ref:n,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(dC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(NU,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kw.displayName=Tf.displayName;const Gw=({className:e,...t})=>o.jsx("div",{className:$("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gw.displayName="DialogHeader";const W2=({className:e,...t})=>o.jsx("div",{className:$("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});W2.displayName="DialogFooter";const Yw=p.forwardRef(({className:e,...t},r)=>o.jsx(Rf,{ref:r,className:$("text-lg font-semibold leading-none tracking-tight",e),...t}));Yw.displayName=Rf.displayName;const q2=p.forwardRef(({className:e,...t},r)=>o.jsx(If,{ref:r,className:$("text-sm text-muted-foreground",e),...t}));q2.displayName=If.displayName;function KAe(e=""){const[t,r]=p.useState(e),[n,s]=p.useState([]),[i,a]=p.useState(!1),[l,c]=p.useState(null);p.useEffect(()=>{if(!t||t.length<2){s([]);return}const d=setTimeout(async()=>{try{a(!0),c(null);const f=await hd.searchInventory(t);s(f.results)}catch(f){c(f instanceof Error?f.message:"Search failed"),s([])}finally{a(!1)}},300);return()=>clearTimeout(d)},[t]);const u=p.useCallback(()=>{r(""),s([]),c(null)},[]);return{query:t,setQuery:r,results:n,loading:i,error:l,clearSearch:u}}function GAe({open:e,onClose:t,onAdd:r,menuItemPriceId:n}){const{query:s,setQuery:i,results:a,loading:l,clearSearch:c}=KAe(),[u,d]=p.useState(null),[f,h]=p.useState("1.0"),[m,v]=p.useState("ea"),[g,x]=p.useState(""),[y,w]=p.useState(!1),b=S=>{d(S);const N=S.unit_of_measure;v(N)},_=async()=>{if(!u)return;const S=parseFloat(f);if(!(isNaN(S)||S<=0))try{w(!0),await r({invoice_item_id:u.id,menu_item_price_id:n||null,quantity_per_serving:S,unit_of_measure:m,notes:g||void 0}),j()}catch{}finally{w(!1)}},j=()=>{d(null),h("1.0"),v("ea"),x(""),c(),t()};return o.jsx(V2,{open:e,onOpenChange:j,children:o.jsxs(Kw,{className:"bg-slate-900 border-white/10 max-w-2xl max-h-[80vh] overflow-y-auto","aria-describedby":"ingredient-search-description",children:[o.jsx(Gw,{children:o.jsx(Yw,{className:"text-white",children:"Add Ingredient"})}),o.jsx("p",{id:"ingredient-search-description",className:"sr-only",children:"Search for ingredients from your invoice items to add to this menu item recipe"}),o.jsxs("div",{className:"space-y-6",children:[!u&&o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-300 mb-2",children:"Search inventory"}),o.jsxs("div",{className:"relative",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx(We,{value:s,onChange:S=>i(S.target.value),placeholder:"Search for ingredients...",className:"input-field pl-10",autoFocus:!0}),l&&o.jsx(hr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-cyan-400 animate-spin"})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Type at least 2 characters to search"})]}),!u&&a.length>0&&o.jsxs("div",{children:[o.jsxs(Nn,{className:"text-slate-300 mb-2",children:["Results (",a.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.map(S=>o.jsx("div",{onClick:()=>b(S),className:"w-full text-left p-4 rounded-lg border border-white/10 bg-obsidian/50 hover:bg-white/5 hover:border-cyan-500/30 transition-colors cursor-pointer",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:S.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400 flex-wrap",children:[o.jsxs("span",{className:"font-mono",children:["$",(S.calculated_unit_cost||0).toFixed(4),"/",S.base_unit]}),S.pack_size&&o.jsxs(ke,{className:"bg-emerald-700/50 text-emerald-300 text-xs",children:["Pack: ",S.pack_size]}),S.pack_price&&o.jsxs("span",{className:"font-mono",children:["$",S.pack_price.toFixed(2),"/pack"]}),S.match_confidence&&o.jsxs(ke,{className:S.match_confidence.confidence==="high"?"bg-emerald-500/20 text-emerald-400 text-xs border border-emerald-500/30":S.match_confidence.confidence==="medium"?"bg-cyan-500/20 text-cyan-400 text-xs border border-cyan-500/30":"bg-yellow-500/20 text-yellow-400 text-xs border border-yellow-500/30",children:[S.match_confidence.confidence==="high"?" ":"",Math.round((S.similarity_score||0)*100),"% match"]})]}),S.last_purchase_date&&o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Last purchased: ",new Date(S.last_purchase_date).toLocaleDateString()]}),S.warnings&&S.warnings.length>0&&o.jsxs("p",{className:"text-xs text-yellow-500 mt-1",children:[" ",S.warnings[0]]})]}),o.jsx(W,{size:"sm",className:"btn-secondary ml-4",onClick:N=>{N.stopPropagation(),b(S)},children:"Select"})]})},S.id))})]}),!u&&s.length>=2&&!l&&a.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ip,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),o.jsx("p",{className:"text-slate-400",children:"No inventory items found"}),o.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Try a different search term"})]}),u&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/30 bg-cyan-500/5",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:u.name}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-slate-400",children:["$",(u.calculated_unit_cost||0).toFixed(4),"/",u.base_unit]}),u.pack_size&&o.jsxs("p",{className:"text-xs text-slate-500",children:["Pack: ",u.pack_size," @ $",u.pack_price.toFixed(2)]})]})]}),o.jsx(W,{size:"sm",variant:"ghost",onClick:()=>d(null),className:"text-slate-400 hover:text-white",children:o.jsx(Ai,{className:"h-4 w-4"})})]})}),o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-300 mb-2",children:"Quantity per serving"}),o.jsxs("div",{className:"flex gap-3 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsx(We,{type:"number",step:"0.01",min:"0",value:f,onChange:S=>h(S.target.value),placeholder:"1.0",className:"input-field text-lg",autoFocus:!0})}),o.jsx("span",{className:"text-slate-400 text-lg",children:""}),o.jsx("div",{className:"w-32",children:o.jsx(We,{value:m,onChange:S=>v(S.target.value),placeholder:"ea",className:"input-field"})})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"How much of this ingredient is used per serving? (e.g., 1.0 ea, 3.0 oz, 0.5 lb)"})]}),o.jsxs("div",{children:[o.jsx(Nn,{className:"text-slate-300 mb-2",children:"Notes (optional)"}),o.jsx(ng,{value:g,onChange:S=>x(S.target.value),placeholder:"Add any notes about this ingredient...",className:"input-field",rows:3})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(W,{onClick:_,disabled:y||!f||parseFloat(f)<=0,className:"btn-primary shadow-emerald flex-1",children:y?o.jsxs(o.Fragment,{children:[o.jsx(hr,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):"Add Ingredient"}),o.jsx(W,{onClick:j,disabled:y,variant:"outline",className:"border-white/10 text-slate-300 hover:bg-white/5",children:"Cancel"})]})]})]})]})})}function YAe(){var f;const{menuItemId:e}=Vl(),t=Nt(),[r,n]=p.useState(!1),{recipe:s,loading:i,saving:a,addIngredient:l,updateIngredient:c,deleteIngredient:u,refreshRecipe:d}=VAe(e);return i?o.jsx(Ur,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(hr,{className:"h-8 w-8 text-emerald-400 animate-spin"})})}):s?o.jsxs(Ur,{maxWidth:"wide",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t("/menu/dashboard"),className:"text-slate-400 hover:text-white",children:[o.jsx(vl,{className:"h-4 w-4 mr-2"}),"Menu"]}),o.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t("/cogs"),className:"text-slate-400 hover:text-white",children:[o.jsx(vl,{className:"h-4 w-4 mr-2"}),"COGS Tracker"]}),o.jsxs(W,{variant:"ghost",size:"sm",onClick:d,disabled:a,className:"text-slate-400 hover:text-white",children:[o.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),o.jsxs("h1",{className:"text-3xl font-bold text-white mb-1",children:["Recipe: ",s.menu_item.name]}),o.jsx("p",{className:"text-slate-400",children:"Build your recipe and calculate true cost of goods sold"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx(WAe,{totalCogs:s.total_cogs,menuPrice:s.menu_price,grossProfit:s.gross_profit,foodCostPercent:s.food_cost_percent})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsx(qAe,{ingredients:s.ingredients,onEdit:async(h,m,v)=>{await c(h,{quantity_per_serving:m,notes:v})},onDelete:u,onAddClick:()=>n(!0),saving:a})})]}),o.jsx(GAe,{open:r,onClose:()=>n(!1),onAdd:async h=>{await l(h),n(!1)},menuItemPriceId:(f=s.menu_item.prices[0])==null?void 0:f.id})]}):o.jsx(Ur,{children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Recipe not found"}),o.jsxs(W,{onClick:()=>t("/menu/dashboard"),className:"btn-secondary",children:[o.jsx(vl,{className:"h-4 w-4 mr-2"}),"Back to Menu"]})]})})}function XAe(){const[e,t]=p.useState([]),[r,n]=p.useState(new Map),[s,i]=p.useState(!0),[a,l]=p.useState(!1),[c,u]=p.useState(null),{toast:d}=Tn(),f=p.useCallback(async()=>{try{i(!0),u(null);const E=(await De.get("/api/v1/menu/current")).data;if(!E.success||!E.menu){t([]),i(!1);return}const A=(E.categories||[]).map(P=>({name:P.name,items:(P.items||[]).map(C=>({...C,category:P.name}))}));t(A),i(!1),h(A)}catch(N){const E=N instanceof Error?N.message:"Failed to load menu data";u(E),i(!1),d({title:"Error",description:E,variant:"destructive"})}},[d]),h=async N=>{try{l(!0);const E=[];for(const P of N)E.push(...P.items);if(E.length===0){l(!1);return}const A=E.map(P=>P.id).join(",");try{const C=(await De.get(`/api/v1/menu/items/batch/recipes?menu_ids=${A}`)).data;if(C.success&&C.recipes){const k=new Map;Object.entries(C.recipes).forEach(([D,T])=>{k.set(D,T)}),n(k)}}catch(P){console.error("Batch recipe fetch failed, falling back to individual requests:",P);const C=E.map(async T=>{try{const L=await hd.getRecipe(T.id);return{itemId:T.id,recipe:L}}catch{return{itemId:T.id,recipe:null}}}),k=await Promise.all(C),D=new Map;for(const T of k)T.recipe&&D.set(T.itemId,T.recipe);n(D)}}catch(E){console.error("Failed to load recipes:",E)}finally{l(!1)}};p.useEffect(()=>{f()},[f]);const m=e.reduce((N,E)=>N+E.items.length,0),v=r.size,g=m-v;let x=0,y=0,w=0,b=0,_=0;r.forEach(N=>{x+=N.gross_profit,y+=N.food_cost_percent,N.food_cost_percent<30?w++:N.food_cost_percent<35?b++:_++});const j=v>0?x/v:0,S=v>0?y/v:0;return{categories:e,recipes:r,loading:s,loadingRecipes:a,error:c,refetch:f,totalItems:m,itemsWithRecipes:v,averageMargin:j,averageFoodCostPercent:S,healthyItems:w,warningItems:b,dangerItems:_,noRecipeItems:g}}function QAe({totalItems:e,itemsWithRecipes:t,averageMargin:r,averageFoodCostPercent:n,dangerItems:s,noRecipeItems:i}){return o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(yt,{children:o.jsx(bt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-lg bg-cyan-500/10 flex items-center justify-center",children:o.jsx(po,{className:"h-5 w-5 text-cyan-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-400",children:"Items with COGS"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[t,o.jsxs("span",{className:"text-sm text-slate-400 font-normal ml-1",children:["/ ",e]})]})]})]})})}),o.jsx(yt,{children:o.jsx(bt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:o.jsx(Zt,{className:"h-5 w-5 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-400",children:"Avg Margin"}),o.jsxs("p",{className:"text-2xl font-bold text-emerald-400 font-mono",children:["$",r.toFixed(2)]})]})]})})}),o.jsx(yt,{children:o.jsx(bt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${n<30?"bg-emerald-500/10":n<35?"bg-orange-500/10":"bg-red-500/10"}`,children:o.jsx(eu,{className:`h-5 w-5 ${n<30?"text-emerald-400":n<35?"text-orange-400":"text-red-400"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-400",children:"Avg Food Cost"}),o.jsxs("p",{className:"text-2xl font-bold text-white font-mono",children:[n.toFixed(1),"%"]})]})]})})}),o.jsx(yt,{children:o.jsx(bt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-500/10 flex items-center justify-center",children:o.jsx(Ot,{className:"h-5 w-5 text-orange-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-400",children:"Need Attention"}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:i+s}),o.jsxs("p",{className:"text-xs text-slate-500",children:["(",i," no recipe, ",s," high cost)"]})]})]})]})})})]})}function JAe({categories:e,recipes:t,loadingRecipes:r}){const n=Nt(),[s,i]=p.useState(""),[a,l]=p.useState("name"),[c,u]=p.useState("asc"),[d,f]=p.useState("all"),[h,m]=p.useState(new Set),v=S=>{m(N=>{const E=new Set(N);return E.has(S)?E.delete(S):E.add(S),E})},g=()=>{m(new Set(e.map(S=>S.name)))},x=()=>{m(new Set)},y=p.useMemo(()=>e.map(S=>{let N=[...S.items];if(s){const E=s.toLowerCase();N=N.filter(A=>A.name.toLowerCase().includes(E)||S.name.toLowerCase().includes(E))}return d==="with-recipe"?N=N.filter(E=>t.has(E.id)):d==="no-recipe"&&(N=N.filter(E=>!t.has(E.id))),N.sort((E,A)=>{var D,T;const P=t.get(E.id),C=t.get(A.id);let k=0;switch(a){case"name":k=(E.name||"").localeCompare(A.name||"");break;case"price":const L=((D=E.prices[0])==null?void 0:D.price)||0,z=((T=A.prices[0])==null?void 0:T.price)||0;k=L-z;break;case"cogs":const X=(P==null?void 0:P.total_cogs)||0,I=(C==null?void 0:C.total_cogs)||0;k=X-I;break;case"margin":const M=(P==null?void 0:P.gross_profit)||0,Q=(C==null?void 0:C.gross_profit)||0;k=M-Q;break;case"foodCost":const J=(P==null?void 0:P.food_cost_percent)||999,ee=(C==null?void 0:C.food_cost_percent)||999;k=J-ee;break}return c==="asc"?k:-k}),{...S,items:N}}).filter(S=>S.items.length>0),[e,t,s,a,c,d]),w=y.reduce((S,N)=>S+N.items.length,0),b=S=>{a===S?u(c==="asc"?"desc":"asc"):(l(S),u("asc"))},_=({field:S})=>a!==S?o.jsx(wQ,{className:"h-4 w-4 text-slate-500"}):c==="asc"?o.jsx(_Q,{className:"h-4 w-4 text-cyan-400"}):o.jsx(yQ,{className:"h-4 w-4 text-cyan-400"}),j=S=>{if(!S)return o.jsxs(ke,{className:"bg-slate-500/10 text-slate-400 border-slate-500/30",children:[o.jsx(Ot,{className:"h-3 w-3 mr-1"}),"No Recipe"]});const N=S.food_cost_percent;return N<30?o.jsxs(ke,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",children:[o.jsx(eu,{className:"h-3 w-3 mr-1"}),"Healthy"]}):N<35?o.jsxs(ke,{className:"bg-orange-500/10 text-orange-400 border-orange-500/30",children:[o.jsx(Va,{className:"h-3 w-3 mr-1"}),"Warning"]}):o.jsxs(ke,{className:"bg-red-500/10 text-red-400 border-red-500/30",children:[o.jsx(Ot,{className:"h-3 w-3 mr-1"}),"High Cost"]})};return o.jsxs(yt,{variant:"elevated",children:[o.jsx(pn,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Menu Items (",w,")"]}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click categories to expand and view items"})]}),r&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[o.jsx("div",{className:"h-4 w-4 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Loading recipes..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx(We,{type:"text",placeholder:"Search items or categories...",value:s,onChange:S=>i(S.target.value),className:"input-field pl-10"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",variant:d==="all"?"default":"outline",onClick:()=>f("all"),className:d==="all"?"bg-cyan-500/20 text-cyan-400 border-cyan-500/30":"border-white/10 text-slate-400",children:"All"}),o.jsx(W,{size:"sm",variant:d==="with-recipe"?"default":"outline",onClick:()=>f("with-recipe"),className:d==="with-recipe"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"border-white/10 text-slate-400",children:"With Recipe"}),o.jsx(W,{size:"sm",variant:d==="no-recipe"?"default":"outline",onClick:()=>f("no-recipe"),className:d==="no-recipe"?"bg-orange-500/20 text-orange-400 border-orange-500/30":"border-white/10 text-slate-400",children:"No Recipe"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{size:"sm",variant:"outline",onClick:g,className:"border-white/10 text-slate-400 hover:bg-white/5",children:"Expand All"}),o.jsx(W,{size:"sm",variant:"outline",onClick:x,className:"border-white/10 text-slate-400 hover:bg-white/5",children:"Collapse All"})]})]})}),o.jsx(bt,{children:o.jsxs("div",{className:"space-y-4",children:[y.map(S=>{const N=h.has(S.name),E=S.items.filter(A=>t.has(A.id)).length;return o.jsxs("div",{className:"border border-white/10 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>v(S.name),className:"w-full flex items-center justify-between p-4 bg-obsidian/50 hover:bg-obsidian/70 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[N?o.jsx(ji,{className:"h-5 w-5 text-slate-400"}):o.jsx(ju,{className:"h-5 w-5 text-slate-400"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:S.name}),o.jsxs("p",{className:"text-sm text-slate-400",children:[S.items.length," items  ",E," with recipes"]})]})]}),o.jsx(ke,{className:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",children:S.items.length})]}),N&&o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-white/10 bg-obsidian/30",children:[o.jsx("th",{className:"text-left py-3 px-4",children:o.jsxs("button",{onClick:()=>b("name"),className:"flex items-center gap-2 text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:["Item Name",o.jsx(_,{field:"name"})]})}),o.jsx("th",{className:"text-right py-3 px-4",children:o.jsxs("button",{onClick:()=>b("price"),className:"flex items-center gap-2 ml-auto text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:["Price",o.jsx(_,{field:"price"})]})}),o.jsx("th",{className:"text-right py-3 px-4",children:o.jsxs("button",{onClick:()=>b("cogs"),className:"flex items-center gap-2 ml-auto text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:["COGS",o.jsx(_,{field:"cogs"})]})}),o.jsx("th",{className:"text-right py-3 px-4",children:o.jsxs("button",{onClick:()=>b("margin"),className:"flex items-center gap-2 ml-auto text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:["Margin",o.jsx(_,{field:"margin"})]})}),o.jsx("th",{className:"text-right py-3 px-4",children:o.jsxs("button",{onClick:()=>b("foodCost"),className:"flex items-center gap-2 ml-auto text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:["Food Cost %",o.jsx(_,{field:"foodCost"})]})}),o.jsx("th",{className:"text-center py-3 px-4",children:o.jsx("span",{className:"text-sm font-semibold text-slate-300",children:"Status"})}),o.jsx("th",{className:"text-right py-3 px-4",children:o.jsx("span",{className:"text-sm font-semibold text-slate-300",children:"Actions"})})]})}),o.jsx("tbody",{children:S.items.map(A=>{var k;const P=t.get(A.id),C=((k=A.prices[0])==null?void 0:k.price)||0;return o.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:"font-medium text-white",children:A.name})}),o.jsx("td",{className:"py-3 px-4 text-right",children:o.jsxs("span",{className:"font-mono text-emerald-400",children:["$",C.toFixed(2)]})}),o.jsx("td",{className:"py-3 px-4 text-right",children:r&&!P?o.jsx("div",{className:"h-5 w-16 bg-slate-700/50 animate-pulse rounded ml-auto"}):o.jsx("span",{className:"font-mono text-white",children:P?`$${P.total_cogs.toFixed(2)}`:"-"})}),o.jsx("td",{className:"py-3 px-4 text-right",children:r&&!P?o.jsx("div",{className:"h-5 w-16 bg-slate-700/50 animate-pulse rounded ml-auto"}):o.jsx("span",{className:"font-mono text-cyan-400",children:P?`$${P.gross_profit.toFixed(2)}`:"-"})}),o.jsx("td",{className:"py-3 px-4 text-right",children:r&&!P?o.jsx("div",{className:"h-5 w-16 bg-slate-700/50 animate-pulse rounded ml-auto"}):o.jsx("span",{className:"font-mono text-white",children:P?`${P.food_cost_percent.toFixed(1)}%`:"-"})}),o.jsx("td",{className:"py-3 px-4 text-center",children:r&&!P?o.jsx("div",{className:"h-6 w-24 bg-slate-700/50 animate-pulse rounded mx-auto"}):j(P)}),o.jsx("td",{className:"py-3 px-4 text-right",children:o.jsxs(W,{size:"sm",variant:"ghost",onClick:()=>n(`/menu/items/${A.id}/recipe`),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10",children:[o.jsx(EQ,{className:"h-4 w-4 mr-1"}),P?"Edit":"Build"]})})]},A.id)})})]})})]},S.name)}),y.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-slate-400",children:"No items found"})})]})})]})}function ZAe(){const e=Nt(),{categories:t,recipes:r,loading:n,loadingRecipes:s,error:i,refetch:a,totalItems:l,itemsWithRecipes:c,averageMargin:u,averageFoodCostPercent:d,dangerItems:f,noRecipeItems:h}=XAe();return n?o.jsx(Kh,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"COGS Tracker"}],children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(hr,{className:"h-8 w-8 text-emerald-400 animate-spin"})})}):i?o.jsx(Kh,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"COGS Tracker"}],children:o.jsx(yt,{variant:"elevated",children:o.jsx(bt,{className:"py-12",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"h-16 w-16 rounded-full bg-red-500/10 flex items-center justify-center",children:o.jsx(Ot,{className:"h-8 w-8 text-red-400"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-slate-400 mb-6",children:i}),o.jsxs(W,{onClick:a,className:"btn-primary shadow-emerald",children:[o.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})})})}):l===0?o.jsx(Kh,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"COGS Tracker"}],children:o.jsx(yt,{variant:"elevated",children:o.jsx(bt,{className:"py-16",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"h-16 w-16 rounded-full bg-slate-800 flex items-center justify-center",children:o.jsx(ru,{className:"h-8 w-8 text-slate-400"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Menu Found"}),o.jsx("p",{className:"text-slate-400 mb-6",children:"Upload your menu to start tracking cost of goods sold"}),o.jsxs(W,{onClick:()=>e("/menu/upload"),className:"btn-primary shadow-emerald",children:[o.jsx(ru,{className:"h-4 w-4 mr-2"}),"Upload Menu"]})]})]})})})}):o.jsx(Kh,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"COGS Tracker"}],children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"COGS Tracker"}),o.jsx("p",{className:"text-slate-400",children:"Track cost of goods sold and profitability across your menu"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(W,{variant:"outline",onClick:a,className:"border-white/10 text-slate-300 hover:bg-white/5",children:[o.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsx(W,{onClick:()=>e("/menu/dashboard"),className:"btn-secondary",children:"View Menu"})]})]}),o.jsx(QAe,{totalItems:l,itemsWithRecipes:c,averageMargin:u,averageFoodCostPercent:d,dangerItems:f,noRecipeItems:h}),o.jsx(JAe,{categories:t,recipes:r,loadingRecipes:s}),h>0&&o.jsx(yt,{children:o.jsx(bt,{className:"py-4",children:o.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[o.jsx(Ot,{className:"h-5 w-5 text-cyan-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-slate-400",children:[o.jsxs("p",{className:"font-semibold text-white mb-1",children:[h," item",h!==1?"s":""," without recipes"]}),o.jsx("p",{children:'Click "Build" to add ingredients and calculate true cost of goods sold. Costs are automatically pulled from your latest invoice prices.'})]})]})})})]})})}const ba="/api/v1/menu-comparison";class eOe{async discoverCompetitors(t){return(await De.post(`${ba}/discover`,t)).data}async analyzeCompetitors(t,r,n,s){var i;try{const l=await fetch(`https://restaurantiq.us${ba}/analyze/stream`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!l.ok){const h=await l.json().catch(()=>({detail:"Network error"}));throw new Error(h.detail||"Failed to start analysis")}const c=(i=l.body)==null?void 0:i.getReader();if(!c)throw new Error("No response stream available");const u=new TextDecoder;let d="",f="";try{for(;;){const{done:h,value:m}=await c.read();if(h)break;d+=u.decode(m,{stream:!0});const v=d.split(`
`);d=v.pop()||"";for(const g of v)if(g.startsWith("event: "))f=g.substring(7).trim();else if(g.startsWith("data: "))try{const x=JSON.parse(g.substring(6));if(r({type:f||"error",data:x}),f==="analysis_complete"){n(),c.cancel();return}if(f==="error"){s(x.error||"Analysis failed"),c.cancel();return}f=""}catch{console.warn("Failed to parse SSE data:",g)}}n()}catch(h){s(h instanceof Error?h.message:"Stream error")}finally{c.releaseLock()}}catch(a){throw s(a instanceof Error?a.message:"Failed to start analysis"),a}}async getAnalysisStatus(t){return(await De.get(`${ba}/${t}/status`)).data}async getAnalysisResults(t){const r=await De.get(`${ba}/${t}/results`);return r.data.data||r.data}async saveComparison(t){var r,n;console.log(" [MenuComparisonAPI] saveComparison called"),console.log(" [MenuComparisonAPI] Request:",JSON.stringify(t,null,2)),console.log(" [MenuComparisonAPI] Full URL:",`${ba}/save`),console.log(" [MenuComparisonAPI] withCredentials:",De.defaults.withCredentials);try{const s=await De.post(`${ba}/save`,t);return console.log(" [MenuComparisonAPI] Success:",s.data),s.data}catch(s){throw console.error(" [MenuComparisonAPI] Error:",s),console.error(" [MenuComparisonAPI] Error response:",(r=s.response)==null?void 0:r.data),console.error(" [MenuComparisonAPI] Error status:",(n=s.response)==null?void 0:n.status),s}}async listSavedComparisons(t=1,r=50){return(await De.get(`${ba}/saved`,{params:{page:t,per_page:r}})).data}async archiveSavedComparison(t){return(await De.delete(`${ba}/saved/${t}`)).data}async deleteAnalysisCascade(t){return(await De.delete(`${ba}/${t}/cascade`)).data}async pollAnalysisStatus(t,r,n=2e3,s=60){let i=0;return new Promise((a,l)=>{const c=async()=>{try{i++;const u=await this.getAnalysisStatus(t);if(r(u),u.status==="completed"){a(u);return}if(u.status==="failed"){l(new Error(u.error_message||"Analysis failed"));return}if(i>=s){l(new Error("Analysis timeout"));return}setTimeout(c,n)}catch(u){l(u)}};c()})}}const gs=new eOe,tOe=Em({restaurant_name:dr().min(1,"Restaurant name is required"),location:dr().min(1,"Location is required"),category:dr().min(1,"Category is required"),radius_miles:KZ().min(.5).max(10).default(3)});function rOe({onStateChange:e}){const t=Nt(),{toast:r}=Tn(),[n,s]=p.useState({currentStep:"start",discoveryForm:{restaurant_name:"",location:"",category:"restaurant",radius_miles:3},competitors:[],selectedCompetitors:[],parseProgress:{progress:0,message:"",isComplete:!1},isLoading:!1}),{limit:i,isBlocked:a}=X0("menu_comparison"),l=S0({resolver:N0(tOe),defaultValues:{restaurant_name:"",location:"",category:"restaurant",radius_miles:3}}),c=Za({mutationFn:async f=>{const h={restaurant_name:f.restaurant_name,location:f.location,category:f.category,radius_miles:f.radius_miles};return gs.discoverCompetitors(h)},onSuccess:f=>{const h={...n,currentStep:"parse",analysisId:f.analysis_id,competitors:f.competitors,selectedCompetitors:f.selected_competitors||[],isLoading:!1};s(h),e==null||e(h),r({title:"Competitors Found & Selected",description:`Found ${f.competitors_found} competitors. Auto-selected top 2 based on reviews and ratings. Starting analysis...`}),f.selected_competitors&&f.selected_competitors.length===2&&t(`/menu-comparison/${f.analysis_id}/parse`)},onError:f=>{var v;const h=f instanceof Error?f.message:"Failed to find competitors",m=((v=f==null?void 0:f.response)==null?void 0:v.status)===429||h.includes("Usage limit")||h.includes("limit exceeded");h.includes("No active menu found")||h.includes("upload your menu")?r({variant:"destructive",title:"Menu Required",description:"Please upload your restaurant's menu first before comparing with competitors.",action:o.jsx("button",{onClick:()=>t("/menu/upload"),className:"px-3 py-2 text-sm bg-white text-slate-900 rounded hover:bg-slate-100",children:"Upload Menu"})}):r(m?{variant:"destructive",title:"Usage Limit Reached",description:h}:{variant:"destructive",title:"Discovery Failed",description:h}),s(g=>({...g,isLoading:!1,error:f.message}))}}),u=async f=>{s(h=>({...h,isLoading:!0,currentStep:"discover",discoveryForm:f,error:void 0})),c.mutate(f)},d=["restaurant","pizza","burger","fast_food","fine_dining","cafe","bakery","bar","food_truck"];return o.jsx(Ur,{children:o.jsx("div",{className:"max-w-3xl mx-auto",children:o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl",children:[o.jsx(Ne,{className:"space-y-3 pb-8",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-xl bg-emerald-500/10",children:o.jsx(Qs,{className:"h-6 w-6 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx(Te,{className:"text-3xl font-bold text-white",children:"Compare Competitor Menus"}),o.jsx(gn,{className:"text-slate-400 text-base mt-1",children:"Discover nearby competitors and analyze their menu pricing"})]})]})}),o.jsxs(le,{className:"space-y-6",children:[i&&o.jsx(jw,{limit:i,featureName:"menu comparisons"}),n.error&&o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-4 w-4"}),o.jsx(ft,{children:n.error})]}),i&&i.allowed&&o.jsx(Sw,{limit:i}),o.jsx(E0,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-6",children:[o.jsx(En,{control:l.control,name:"restaurant_name",render:({field:f})=>o.jsxs(ln,{children:[o.jsxs(cn,{className:"text-slate-200 font-medium flex items-center gap-2",children:[o.jsx(pr,{className:"h-4 w-4 text-slate-400"}),"Your Restaurant Name"]}),o.jsx(un,{children:o.jsx(We,{...f,placeholder:"e.g., Park Ave Pizza",className:"h-12 text-base bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:l.control,name:"location",render:({field:f})=>o.jsxs(ln,{children:[o.jsxs(cn,{className:"text-slate-200 font-medium flex items-center gap-2",children:[o.jsx(fa,{className:"h-4 w-4 text-slate-400"}),"Location"]}),o.jsx(un,{children:o.jsx(S2,{...f,placeholder:"Enter address or city, state",className:"h-12 text-base"})}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(En,{control:l.control,name:"category",render:({field:f})=>o.jsxs(ln,{children:[o.jsxs(cn,{className:"text-slate-200 font-medium flex items-center gap-2",children:[o.jsx(P3,{className:"h-4 w-4 text-slate-400"}),"Category"]}),o.jsxs(ca,{onValueChange:f.onChange,defaultValue:f.value,children:[o.jsx(un,{children:o.jsx(Ii,{className:"h-12 text-base bg-obsidian/50 border-white/10 text-white",children:o.jsx(ua,{placeholder:"Select category"})})}),o.jsx(Di,{className:"bg-card-dark border-white/10",children:d.map(h=>o.jsx(ct,{value:h,className:"text-white hover:bg-white/5",children:h.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())},h))})]}),o.jsx(dn,{className:"text-red-400"})]})}),o.jsx(En,{control:l.control,name:"radius_miles",render:({field:f})=>o.jsxs(ln,{children:[o.jsxs(cn,{className:"text-slate-200 font-medium flex items-center gap-2",children:[o.jsx(Pi,{className:"h-4 w-4 text-slate-400"}),"Search Radius (miles)"]}),o.jsx(un,{children:o.jsx(We,{...f,type:"number",min:"0.5",max:"10",step:"0.5",onChange:h=>f.onChange(parseFloat(h.target.value)),className:"h-12 text-base bg-obsidian/50 border-white/10 text-white placeholder:text-slate-500 focus:border-emerald-500 focus:ring-emerald-500/20"})}),o.jsx(dn,{className:"text-red-400"})]})})]}),o.jsx("div",{className:"pt-4",children:o.jsx(W,{type:"submit",className:"w-full h-14 text-base font-semibold bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25 transition-all duration-200",disabled:n.isLoading||a,children:n.isLoading?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Finding Competitors..."]}):o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(pr,{className:"h-5 w-5"}),"Find Competitors"]})})})]})}),o.jsxs("div",{className:"mt-8 p-6 bg-slate-500/5 border border-slate-500/20 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"How it works:"}),o.jsxs("div",{className:"space-y-2 text-sm text-slate-400",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center justify-center text-xs font-bold",children:"1"}),o.jsx("span",{children:"We'll find 5 nearby competitors in your area"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-cyan-500/20 text-cyan-400 flex items-center justify-center text-xs font-bold",children:"2"}),o.jsx("span",{children:"You select 2 competitors to analyze"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-500/20 text-amber-400 flex items-center justify-center text-xs font-bold",children:"3"}),o.jsx("span",{children:"We analyze their menus and extract pricing data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center justify-center text-xs font-bold",children:"4"}),o.jsx("span",{children:"Review competitor menus and save to your account"})]})]})]})]})]})})})}function nOe(){const{analysisId:e}=Vl(),t=Nt(),{toast:r}=Tn(),[n,s]=p.useState([]),{data:i,isLoading:a,error:l}=ws({queryKey:["analysis-status",e],queryFn:()=>gs.getAnalysisStatus(e),enabled:!!e,refetchInterval:m=>{var g;const v=(g=m.state.data)==null?void 0:g.status;return v==="completed"||v==="failed"?!1:2e3},refetchOnWindowFocus:!0,staleTime:1e3}),{data:c}=ws({queryKey:["analysis-results",e],queryFn:()=>gs.getAnalysisResults(e),enabled:!!e&&(i==null?void 0:i.status)==="selecting",refetchOnWindowFocus:!0,staleTime:3e4}),u=Za({mutationFn:async m=>(t(`/menu-comparison/${e}/parse`),new Promise((v,g)=>{gs.analyzeCompetitors(m,x=>{console.log("Analysis event:",x)},()=>{v()},x=>{g(new Error(x))})})),onError:m=>{r({variant:"destructive",title:"Analysis Failed",description:m instanceof Error?m.message:"Failed to start analysis"})}}),d=m=>{s(v=>v.includes(m)?v.filter(g=>g!==m):v.length<2?[...v,m]:[v[1],m])},f=()=>{if(n.length!==2){r({variant:"destructive",title:"Selection Required",description:"Please select exactly 2 competitors to analyze."});return}const m={analysis_id:e,competitor_ids:n};u.mutate(m)};if(a)return o.jsx("div",{className:"min-h-screen bg-obsidian flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"h-8 w-8 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading competitors..."})]})});if(l||!i)return o.jsx("div",{className:"min-h-screen bg-obsidian",children:o.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsxs(ft,{children:[o.jsx("p",{className:"font-semibold mb-2",children:"Failed to load analysis"}),o.jsx("p",{className:"mb-4",children:l instanceof Error?l.message:"Unknown error"}),o.jsx(W,{onClick:()=>t("/menu-comparison"),className:"bg-red-500 hover:bg-red-600",children:"Start New Analysis"})]})]})})});const h=(c==null?void 0:c.competitors)||[];return o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsx("div",{className:"relative border-b border-white/10 bg-card-dark/50 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Re,{to:"/menu-comparison",className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[o.jsx(vl,{className:"h-5 w-5"}),o.jsx("span",{children:"Back to Search"})]}),o.jsxs(Re,{to:"/",className:"flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"Restaurant CI"})]})]})})}),o.jsxs("div",{className:"relative container mx-auto px-4 py-8 max-w-7xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:o.jsx(Pi,{className:"h-5 w-5 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Select Competitors"}),o.jsxs("p",{className:"text-slate-400 mt-1",children:["Choose 2 competitors from the ",h.length," found near ",i.location]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ke,{className:`${n.length===2?"bg-emerald-500/10 text-emerald-400 border-emerald-500/30":"bg-slate-500/10 text-slate-400 border-slate-500/30"} border`,children:[n.length,"/2 Selected"]}),n.length===2&&o.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[o.jsx(_s,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Ready to analyze"})]})]})]}),h.length===0?o.jsxs(dt,{className:"bg-slate-500/10 border-slate-500/30 text-slate-400",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsx(ft,{children:"No competitors found. Try adjusting your search criteria or location."})]}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:h.map(m=>o.jsx(sOe,{competitor:m,isSelected:n.includes(m.id),onToggle:()=>d(m.id),disabled:!n.includes(m.id)&&n.length>=2},m.id))}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx(W,{variant:"outline",onClick:()=>t("/menu-comparison"),className:"border-white/10 text-slate-300 hover:bg-white/5",children:"Start Over"}),o.jsx(W,{onClick:f,disabled:n.length!==2||u.isPending,className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25",children:u.isPending?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Starting Analysis..."]}):o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(_s,{className:"h-4 w-4"}),"Analyze Selected Competitors"]})})]})]})]})}function sOe({competitor:e,isSelected:t,onToggle:r,disabled:n}){const s=a=>a>=4.5?"text-emerald-400 bg-emerald-500/15 border-emerald-500/30":a>=4?"text-cyan-400 bg-cyan-500/15 border-cyan-500/30":a>=3.5?"text-amber-400 bg-amber-500/15 border-amber-500/30":"text-red-400 bg-red-500/15 border-red-500/30",i=a=>a<1?`${(a*5280).toFixed(0)} ft`:`${a.toFixed(1)} mi`;return o.jsxs(se,{className:`cursor-pointer transition-all duration-200 ${t?"bg-emerald-500/10 border-emerald-500/50 ring-2 ring-emerald-500/30":n?"bg-slate-500/5 border-slate-500/20 opacity-50 cursor-not-allowed":"bg-card-dark border-white/10 hover:border-cyan-500/30 hover:-translate-y-1"}`,onClick:n?void 0:r,children:[o.jsxs(Ne,{className:"pb-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx(Te,{className:"text-lg text-white leading-tight flex-1",children:e.business_name}),t&&o.jsx("div",{className:"p-1 rounded-full bg-emerald-500",children:o.jsx(_s,{className:"h-4 w-4 text-white"})}),e.rating&&o.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-semibold border ${s(e.rating)}`,children:[o.jsx(Mp,{className:"w-3.5 h-3.5 fill-current"}),e.rating.toFixed(1)]})]}),e.address&&o.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-400",children:[o.jsx(fa,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-2",children:e.address})]})]}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.review_count&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Pi,{className:"w-4 h-4 text-slate-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Reviews"}),o.jsx("div",{className:"text-slate-200 font-semibold",children:e.review_count.toLocaleString()})]})]}),e.distance_miles&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Pk,{className:"w-4 h-4 text-cyan-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Distance"}),o.jsx("div",{className:"text-cyan-400 font-semibold",children:i(e.distance_miles)})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.phone&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(AQ,{className:"w-3 h-3"}),o.jsx("span",{children:"Phone"})]}),e.website&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(CQ,{className:"w-3 h-3"}),o.jsx("span",{children:"Website"})]})]})]})]})}function iOe(){const{analysisId:e}=Vl(),t=Nt(),{toast:r}=Tn(),[n,s]=p.useState([{id:"setup",label:"Initializing analysis",status:"pending"},{id:"competitor1",label:"Parsing first competitor menu",status:"pending"},{id:"competitor2",label:"Parsing second competitor menu",status:"pending"},{id:"complete",label:"Analysis complete",status:"pending"}]),[i,a]=p.useState(0),[l,c]=p.useState("Starting analysis..."),[u]=p.useState(Date.now()),[d,f]=p.useState(0),[h,m]=p.useState(!1),[v,g]=p.useState(!1),{data:x}=ws({queryKey:["analysis-status",e],queryFn:()=>gs.getAnalysisStatus(e),enabled:!!e&&!h&&!v,refetchInterval:b=>{var _;return((_=b.state.data)==null?void 0:_.status)==="completed"?!1:2e3},refetchOnWindowFocus:!0,staleTime:0});p.useEffect(()=>{const b=setInterval(()=>{f(Date.now()-u)},1e3);return()=>clearInterval(b)},[u]),p.useEffect(()=>{var b,_;x&&(x.status==="completed"?(s(j=>j.map(S=>({...S,status:"complete"}))),a(100),c("Analysis complete! Redirecting to results..."),m(!0),setTimeout(()=>{t(`/menu-comparison/${e}/results`)},2e3)):x.status==="failed"?(g(!0),c(x.error_message||"Analysis failed"),r({variant:"destructive",title:"Analysis Failed",description:x.error_message||"Unknown error occurred"})):x.status==="analyzing"&&(c(x.current_step||"Processing..."),(b=x.current_step)!=null&&b.includes("first competitor")?(s(j=>j.map(S=>S.id==="setup"?{...S,status:"complete"}:S.id==="competitor1"?{...S,status:"active",message:x.current_step}:S)),a(25)):(_=x.current_step)!=null&&_.includes("second competitor")&&(s(j=>j.map(S=>S.id==="setup"?{...S,status:"complete"}:S.id==="competitor1"?{...S,status:"complete"}:S.id==="competitor2"?{...S,status:"active",message:x.current_step}:S)),a(75))))},[x,e,t]),p.useEffect(()=>{!e||h||v||(console.log("Starting streaming analysis for:",e),gs.getAnalysisStatus(e).then(async b=>{if(b.status==="selecting"&&b.competitors_selected===2){const j=(await gs.getAnalysisResults(e)).competitors.filter(S=>S.is_selected).map(S=>S.id);j.length===2&&(console.log("Starting analysis with competitors:",j),gs.analyzeCompetitors({analysis_id:e,competitor_ids:j},S=>{console.log("Analysis event:",S),S.type==="parsing_competitor_menu"?c(S.data.message||"Parsing competitor menu..."):S.type==="competitor_menu_parsed"?c(`Parsed ${S.data.competitor_name}: ${S.data.items_found} items found`):S.type==="llm_analysis_started"&&c("Generating comparison insights...")},()=>{console.log("Analysis complete"),m(!0)},S=>{console.error("Analysis error:",S),g(!0),c(S)}).catch(S=>{console.error("Failed to start streaming:",S),g(!0),c(S.message||"Failed to start analysis")}))}else b.status==="analyzing"?console.log("Analysis already in progress"):b.status==="completed"&&(m(!0),t(`/menu-comparison/${e}/results`))}).catch(b=>{console.error("Failed to get analysis status:",b),g(!0),c(b.message||"Failed to start analysis")}))},[e,h,v,t]);const y=b=>{const _=Math.floor(b/1e3),j=Math.floor(_/60),S=_%60;return j>0?`${j}:${S.toString().padStart(2,"0")}`:`${S}s`},w=b=>{switch(b){case"complete":return o.jsx(_s,{className:"h-5 w-5 text-emerald-400"});case"active":return o.jsx(hr,{className:"h-5 w-5 text-cyan-400 animate-spin"});case"error":return o.jsx(Ot,{className:"h-5 w-5 text-red-400"});default:return o.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-slate-500"})}};return v?o.jsx("div",{className:"min-h-screen bg-obsidian",children:o.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsxs(ft,{children:[o.jsx("p",{className:"font-semibold mb-2",children:"Analysis Failed"}),o.jsx("p",{className:"mb-4",children:l}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{onClick:()=>t(`/menu-comparison/${e}/select`),className:"bg-red-500 hover:bg-red-600",children:"Try Again"}),o.jsx(W,{variant:"outline",onClick:()=>t("/menu-comparison"),className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:"Start Over"})]})]})]})})}):o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsx("div",{className:"relative border-b border-white/10 bg-card-dark/50 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Re,{to:`/menu-comparison/${e}/select`,className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[o.jsx(vl,{className:"h-5 w-5"}),o.jsx("span",{children:"Back to Selection"})]}),o.jsxs(Re,{to:"/",className:"flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"Restaurant CI"})]})]})})}),o.jsxs("div",{className:"relative container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsx("div",{className:"p-3 rounded-xl bg-cyan-500/10",children:o.jsx(Qs,{className:"h-8 w-8 text-cyan-400"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Parsing Competitor Menus"}),o.jsx("p",{className:"text-slate-400 mt-1",children:"Extracting menu items and pricing from selected competitors"})]})]}),o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-slate-400",children:"Overall Progress"}),o.jsxs("span",{className:"text-sm text-cyan-400 font-semibold",children:[i,"%"]})]}),o.jsx(Dw,{value:i,className:"h-3 bg-slate-800 [&>div]:bg-gradient-to-r [&>div]:from-cyan-500 [&>div]:to-emerald-500"})]})]}),o.jsxs(se,{className:"bg-card-dark border-white/10 shadow-2xl mb-8",children:[o.jsx(Ne,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Te,{className:"text-white",children:"Analysis Progress"}),o.jsx(gn,{className:"text-slate-400 mt-1",children:l})]}),o.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[o.jsx(Jn,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:y(d)})]})]})}),o.jsx(le,{children:o.jsx("div",{className:"space-y-4",children:n.map(b=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:w(b.status)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`font-medium ${b.status==="complete"?"text-emerald-400":b.status==="active"?"text-cyan-400":b.status==="error"?"text-red-400":"text-slate-400"}`,children:b.label}),b.status==="complete"&&o.jsx(ke,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30 border text-xs",children:"Complete"}),b.status==="active"&&o.jsx(ke,{className:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30 border text-xs",children:"Processing"})]}),b.message&&o.jsx("p",{className:"text-sm text-slate-500 mt-1",children:b.message})]}),b.duration&&o.jsxs("div",{className:"text-xs text-slate-500",children:[b.duration.toFixed(1),"s"]})]},b.id))})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(se,{className:"bg-slate-500/5 border-slate-500/20",children:[o.jsx(Ne,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Si,{className:"h-5 w-5 text-emerald-400"}),o.jsx(Te,{className:"text-lg text-white",children:"What We're Doing"})]})}),o.jsxs(le,{className:"space-y-3 text-sm text-slate-400",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Accessing competitor websites and menu pages"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Extracting menu items, descriptions, and pricing"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Organizing data by categories and sizes"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Preparing comparison analysis"})]})]})]}),o.jsxs(se,{className:"bg-slate-500/5 border-slate-500/20",children:[o.jsx(Ne,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(b0,{className:"h-5 w-5 text-cyan-400"}),o.jsx(Te,{className:"text-lg text-white",children:"Next Steps"})]})}),o.jsxs(le,{className:"space-y-3 text-sm text-slate-400",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Review competitor menu items and pricing"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Compare against your menu structure"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Identify pricing gaps and opportunities"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-2 flex-shrink-0"}),o.jsx("span",{children:"Save comparison report to your account"})]})]})]})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(W,{variant:"outline",onClick:()=>t("/menu-comparison"),className:"border-white/10 text-slate-300 hover:bg-white/5",children:"Cancel Analysis"})})]})]})}const TH=p.forwardRef(({...e},t)=>o.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));TH.displayName="Breadcrumb";const RH=p.forwardRef(({className:e,...t},r)=>o.jsx("ol",{ref:r,className:$("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));RH.displayName="BreadcrumbList";const Gv=p.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,className:$("inline-flex items-center gap-1.5",e),...t}));Gv.displayName="BreadcrumbItem";const bE=p.forwardRef(({className:e,asChild:t,...r},n)=>{const s=t?p.Fragment:"a";return o.jsx(s,{ref:n,className:$("transition-colors hover:text-foreground",e),...r})});bE.displayName="BreadcrumbLink";const IH=p.forwardRef(({className:e,...t},r)=>o.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:$("font-normal text-foreground",e),...t}));IH.displayName="BreadcrumbPage";const wE=({children:e,className:t,...r})=>o.jsx("li",{role:"presentation","aria-hidden":"true",className:$("[&>svg]:size-3.5",t),...r,children:e??o.jsx(ju,{})});wE.displayName="BreadcrumbSeparator";function aOe(){const{analysisId:e}=Vl(),t=Nt(),{toast:r}=Tn(),[n,s]=p.useState(!1),[i,a]=p.useState({report_name:"",notes:""}),[l,c]=p.useState(""),[u,d]=p.useState("all"),{data:f,isLoading:h,error:m}=ws({queryKey:["analysis-results",e],queryFn:()=>gs.getAnalysisResults(e),enabled:!!e,refetchOnMount:"always",refetchOnWindowFocus:!0,staleTime:0}),v=Za({mutationFn:async b=>gs.saveComparison(b),onSuccess:()=>{r({title:"Comparison Saved",description:"Your competitor menu comparison has been saved to your account."}),s(!1),t("/menu-comparison/saved")},onError:b=>{r({variant:"destructive",title:"Save Failed",description:b instanceof Error?b.message:"Failed to save comparison"})}}),g=()=>{if(!f)return;const b={analysis_id:e,report_name:i.report_name||`${f.restaurant_name} - Competitor Analysis`,notes:i.notes};v.mutate(b)};if(h)return o.jsxs(cp,{children:[o.jsx(Fv,{}),o.jsx(Lv,{children:o.jsx("div",{className:"flex h-screen items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"h-8 w-8 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading results..."})]})})})]});if(m||!f)return o.jsxs(cp,{children:[o.jsx(Fv,{}),o.jsx(Lv,{children:o.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400",children:[o.jsx(Ot,{className:"h-5 w-5"}),o.jsxs(ft,{children:[o.jsx("p",{className:"font-semibold mb-2",children:"Failed to load results"}),o.jsx("p",{className:"mb-4",children:m instanceof Error?m.message:"Unknown error"}),o.jsx(W,{onClick:()=>t("/menu-comparison"),className:"bg-red-500 hover:bg-red-600",children:"Start New Analysis"})]})]})})})]});const x=[];f.competitors.forEach(b=>{b.menu_items&&b.menu_items.length>0&&b.menu_items.forEach(_=>{x.push({..._,competitor_name:b.business_name})})});const y=["all",...new Set(x.map(b=>b.category_name).filter(Boolean))],w=x.filter(b=>{var S;const _=l===""||b.item_name.toLowerCase().includes(l.toLowerCase())||((S=b.description)==null?void 0:S.toLowerCase().includes(l.toLowerCase())),j=u==="all"||b.category_name===u;return _&&j});return o.jsxs(cp,{children:[o.jsx(Fv,{}),o.jsxs(Lv,{children:[o.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-white/10 bg-card-dark/50 backdrop-blur-sm px-4",children:[o.jsx(Y0,{className:"-ml-1"}),o.jsx(sC,{orientation:"vertical",className:"mr-2 h-4 bg-white/10"}),o.jsx(TH,{children:o.jsxs(RH,{children:[o.jsx(Gv,{children:o.jsxs(bE,{href:"/dashboard",className:"flex items-center gap-2",children:[o.jsx(x0,{className:"h-4 w-4"}),"Dashboard"]})}),o.jsx(wE,{}),o.jsx(Gv,{children:o.jsxs(bE,{href:"/menu-comparison",className:"flex items-center gap-2",children:[o.jsx(kQ,{className:"h-4 w-4"}),"Menu Comparison"]})}),o.jsx(wE,{}),o.jsx(Gv,{children:o.jsx(IH,{children:"Results"})})]})})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:f.restaurant_name}),o.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-3",children:[o.jsx(fa,{className:"h-4 w-4"}),o.jsx("span",{children:f.location})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ke,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30 border",children:[o.jsx(_s,{className:"h-3 w-3 mr-1"}),"Analysis Complete"]}),o.jsxs(ke,{className:"bg-slate-500/10 text-slate-300 border-slate-500/30 border",children:[f.competitors.length," Competitors"]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(W,{variant:"outline",className:"border-white/10 text-slate-300 hover:bg-white/5",children:[o.jsx(Ck,{className:"h-4 w-4 mr-2"}),"Export"]}),o.jsxs(W,{onClick:()=>s(!0),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25",children:[o.jsx(Dp,{className:"h-4 w-4 mr-2"}),"Save to Account"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:o.jsx(Pi,{className:"h-5 w-5 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:f.competitors.length}),o.jsx("div",{className:"text-sm text-slate-400",children:"Competitors Analyzed"})]})]})})}),o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:o.jsx(Qs,{className:"h-5 w-5 text-cyan-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:x.length}),o.jsx("div",{className:"text-sm text-slate-400",children:"Menu Items Found"})]})]})})}),o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:o.jsx(po,{className:"h-5 w-5 text-amber-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-amber-400",children:y.length-1}),o.jsx("div",{className:"text-sm text-slate-400",children:"Menu Categories"})]})]})})})]}),o.jsxs(Pu,{defaultValue:"insights",className:"w-full",children:[o.jsxs(Xl,{className:"grid w-full grid-cols-3 h-12 bg-obsidian/50 border border-white/10",children:[o.jsxs(Cr,{value:"insights",className:"text-sm data-[state=active]:bg-amber-500/10 data-[state=active]:text-amber-400",children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Insights (",f.total_insights,")"]}),o.jsxs(Cr,{value:"competitors",className:"text-sm data-[state=active]:bg-emerald-500/10 data-[state=active]:text-emerald-400",children:[o.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Competitors"]}),o.jsxs(Cr,{value:"menus",className:"text-sm data-[state=active]:bg-cyan-500/10 data-[state=active]:text-cyan-400",children:[o.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Menu Items (",x.length,")"]})]}),o.jsx(Pr,{value:"insights",className:"mt-6",children:o.jsx(uOe,{insights:f.insights})}),o.jsx(Pr,{value:"competitors",className:"mt-6",children:o.jsx(oOe,{competitors:f.competitors})}),o.jsx(Pr,{value:"menus",className:"mt-6",children:o.jsx(lOe,{items:w,searchTerm:l,onSearchChange:c,selectedCategory:u,onCategoryChange:d,categories:y})})]})]})}),o.jsx(V2,{open:n,onOpenChange:s,children:o.jsxs(Kw,{className:"bg-card-dark border-white/10 text-white",children:[o.jsxs(Gw,{children:[o.jsx(Yw,{children:"Save Competitor Analysis"}),o.jsx(q2,{className:"text-slate-400",children:"Save this comparison to your account for future reference"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-200 mb-2 block",children:"Report Name"}),o.jsx(We,{value:i.report_name,onChange:b=>a(_=>({..._,report_name:b.target.value})),placeholder:`${f.restaurant_name} - Competitor Analysis`,className:"bg-obsidian/50 border-white/10 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-200 mb-2 block",children:"Notes (Optional)"}),o.jsx(ng,{value:i.notes,onChange:b=>a(_=>({..._,notes:b.target.value})),placeholder:"Add any notes about this analysis...",className:"bg-obsidian/50 border-white/10 text-white",rows:3})]})]}),o.jsxs(W2,{children:[o.jsx(W,{variant:"outline",onClick:()=>s(!1),className:"border-white/10 text-slate-300 hover:bg-white/5",children:"Cancel"}),o.jsx(W,{onClick:g,disabled:v.isPending,className:"bg-emerald-500 hover:bg-emerald-600",children:v.isPending?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Dp,{className:"h-4 w-4"}),"Save Analysis"]})})]})]})})]})]})}function oOe({competitors:e}){return o.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.map(t=>o.jsxs(se,{className:"bg-card-dark border-white/10",children:[o.jsxs(Ne,{children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx(Te,{className:"text-lg text-white",children:t.business_name}),t.rating&&o.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-semibold border bg-emerald-500/15 text-emerald-400 border-emerald-500/30",children:[o.jsx(Mp,{className:"w-3.5 h-3.5 fill-current"}),t.rating.toFixed(1)]})]}),t.address&&o.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-400",children:[o.jsx(fa,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:t.address})]})]}),o.jsx(le,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.review_count&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Pi,{className:"w-4 h-4 text-slate-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Reviews"}),o.jsx("div",{className:"text-slate-200 font-semibold",children:t.review_count.toLocaleString()})]})]}),t.distance_miles&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Pk,{className:"w-4 h-4 text-cyan-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Distance"}),o.jsxs("div",{className:"text-cyan-400 font-semibold",children:[t.distance_miles.toFixed(1)," mi"]})]})]})]})})]},t.id))})}function lOe({items:e,searchTerm:t,onSearchChange:r,selectedCategory:n,onCategoryChange:s,categories:i}){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),o.jsx(We,{placeholder:"Search menu items...",value:t,onChange:a=>r(a.target.value),className:"pl-10 bg-obsidian/50 border-white/10 text-white"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(v0,{className:"h-4 w-4 text-slate-500"}),o.jsx("select",{value:n,onChange:a=>s(a.target.value),className:"bg-obsidian/50 border border-white/10 rounded-md px-3 py-2 text-white text-sm",children:i.map(a=>o.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),e.length===0?o.jsx(se,{className:"bg-slate-500/5 border-slate-500/20",children:o.jsxs(le,{className:"p-8 text-center",children:[o.jsx(Qs,{className:"h-12 w-12 text-slate-500 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"No menu items found matching your criteria."})]})}):o.jsx("div",{className:"grid gap-4",children:e.map((a,l)=>o.jsx(cOe,{item:a},`${a.competitor_name}-${l}`))})]})}function cOe({item:e}){return o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsx(le,{className:"p-6",children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:e.item_name}),e.category_name&&o.jsx(ke,{className:"bg-slate-500/10 text-slate-300 border-slate-500/30 border text-xs",children:e.category_name})]}),e.description&&o.jsx("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),o.jsxs("div",{className:"text-xs text-slate-500",children:["From: ",e.competitor_name]})]}),o.jsx("div",{className:"text-right",children:e.size_variants&&e.size_variants.length>0?o.jsx("div",{className:"space-y-1",children:e.size_variants.map((t,r)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"text-slate-400",children:[t.size||"Regular",": "]}),o.jsxs("span",{className:"text-emerald-400 font-semibold",children:["$",t.price.toFixed(2)]})]},r))}):e.base_price?o.jsxs("div",{className:"text-lg font-semibold text-emerald-400",children:["$",e.base_price.toFixed(2)]}):o.jsx("div",{className:"text-slate-500 text-sm",children:"Price not available"})})]})})})}function uOe({insights:e}){if(e.length===0)return o.jsx(se,{className:"bg-slate-500/5 border-slate-500/20",children:o.jsxs(le,{className:"p-8 text-center",children:[o.jsx(Ot,{className:"h-12 w-12 text-slate-500 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"No insights generated yet."})]})});const t=e.reduce((r,n)=>{const s=n.insight_type||"other";return r[s]||(r[s]=[]),r[s].push(n),r},{});return o.jsx("div",{className:"space-y-6",children:Object.entries(t).map(([r,n])=>o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 capitalize",children:[r.replace("_"," ")," (",n.length,")"]}),o.jsx("div",{className:"grid gap-4",children:n.map(s=>o.jsx(se,{className:"bg-card-dark border-white/10",children:o.jsxs(le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[o.jsx("h4",{className:"text-lg font-semibold text-white",children:s.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[s.priority>=70&&o.jsx(ke,{className:"bg-red-500/10 text-red-400 border-red-500/30 border",children:"High Priority"}),o.jsx(ke,{className:"bg-slate-500/10 text-slate-300 border-slate-500/30 border capitalize",children:s.confidence})]})]}),o.jsx("p",{className:"text-slate-300 mb-4",children:s.description}),(s.user_item_name||s.competitor_item_name)&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-obsidian/50 rounded-lg border border-white/5",children:[s.user_item_name&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Your Item"}),o.jsx("div",{className:"text-white font-medium",children:s.user_item_name}),s.user_item_price&&o.jsxs("div",{className:"text-emerald-400 font-semibold",children:["$",s.user_item_price.toFixed(2)]})]}),s.competitor_item_name&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-500 mb-1",children:s.competitor_business_name||"Competitor"}),o.jsx("div",{className:"text-white font-medium",children:s.competitor_item_name}),s.competitor_item_price&&o.jsxs("div",{className:"text-cyan-400 font-semibold",children:["$",s.competitor_item_price.toFixed(2)]})]})]}),s.price_difference&&o.jsxs("div",{className:"mt-3 text-sm",children:[o.jsx("span",{className:"text-slate-400",children:"Price Difference: "}),o.jsxs("span",{className:s.price_difference>0?"text-red-400":"text-green-400",children:[s.price_difference>0?"+":"","$",Math.abs(s.price_difference).toFixed(2),s.price_difference_percent&&o.jsxs("span",{className:"ml-1",children:["(",s.price_difference>0?"+":"",s.price_difference_percent.toFixed(1),"%)"]})]})]}),s.evidence&&s.evidence.length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5",children:[o.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Evidence:"}),o.jsx("ul",{className:"space-y-1",children:s.evidence.map((i,a)=>o.jsxs("li",{className:"text-sm text-slate-400 flex items-start gap-2",children:[o.jsx("span",{className:"text-emerald-400 mt-1",children:""}),o.jsx("span",{children:i})]},a))})]})]})},s.id))})]},r))})}function dOe(){const e=Nt(),{toast:t}=Tn(),r=jf(),[n,s]=p.useState(""),[i,a]=p.useState(null),{data:l,isLoading:c,error:u}=ws({queryKey:["saved-comparisons"],queryFn:()=>gs.listSavedComparisons(1,50),refetchOnWindowFocus:!0,staleTime:3e4}),d=Za({mutationFn:async x=>gs.archiveSavedComparison(x),onSuccess:()=>{t({title:"Comparison Archived",description:"The comparison has been archived successfully."}),r.invalidateQueries({queryKey:["saved-comparisons"]}),a(null)},onError:x=>{t({variant:"destructive",title:"Archive Failed",description:x instanceof Error?x.message:"Failed to archive comparison"})}}),f=Za({mutationFn:async x=>gs.deleteAnalysisCascade(x),onSuccess:x=>{t({title:"Analysis Deleted",description:`Deleted analysis and ${x.deleted_counts.competitors} competitors, ${x.deleted_counts.menu_items} menu items.`}),r.invalidateQueries({queryKey:["saved-comparisons"]}),a(null)},onError:x=>{t({variant:"destructive",title:"Delete Failed",description:x instanceof Error?x.message:"Failed to delete analysis"})}}),h=x=>{a({type:"saved_comparison",id:x.id,name:x.report_name||`${x.restaurant_name} Analysis`,relatedData:{competitors:x.competitors_count,menu_items:0,insights:x.insights_count}})},m=x=>{a({type:"analysis",id:x.analysis_id,name:x.report_name||`${x.restaurant_name} Analysis`,relatedData:{competitors:x.competitors_count,menu_items:0,insights:x.insights_count,saved_comparisons:1}})},v=()=>{i&&(i.type==="saved_comparison"?d.mutate(i.id):f.mutate(i.id))},g=(l==null?void 0:l.data.filter(x=>{var y;return n===""||x.restaurant_name.toLowerCase().includes(n.toLowerCase())||x.location.toLowerCase().includes(n.toLowerCase())||((y=x.report_name)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))}))||[];return c?o.jsx("div",{className:"min-h-screen bg-obsidian flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"h-8 w-8 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading saved comparisons..."})]})}):o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-cyan-500/5 pointer-events-none"}),o.jsx("div",{className:"relative border-b border-white/10 bg-card-dark/50 backdrop-blur-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Re,{to:"/dashboard",className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[o.jsx(vl,{className:"h-5 w-5"}),o.jsx("span",{children:"Back to Dashboard"})]}),o.jsxs(Re,{to:"/",className:"flex items-center gap-2 text-white hover:text-emerald-400 transition-colors",children:[o.jsx(Zt,{className:"h-6 w-6 text-emerald-500"}),o.jsx("span",{className:"text-xl font-bold",children:"Restaurant CI"})]})]})})}),o.jsxs("div",{className:"relative container mx-auto px-4 py-8 max-w-7xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Saved Menu Comparisons"}),o.jsx("p",{className:"text-slate-400",children:"View and manage your competitor menu analysis reports"})]}),o.jsxs(W,{onClick:()=>e("/menu-comparison"),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-lg shadow-emerald-500/25",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"New Analysis"]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),o.jsx(We,{placeholder:"Search comparisons...",value:n,onChange:x=>s(x.target.value),className:"pl-10 bg-obsidian/50 border-white/10 text-white"})]})}),u&&o.jsxs(dt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-400 mb-6",children:[o.jsx(Va,{className:"h-5 w-5"}),o.jsx(ft,{children:"Failed to load saved comparisons. Please try again."})]}),!c&&g.length===0&&!n&&o.jsx(se,{className:"bg-slate-500/5 border-slate-500/20",children:o.jsxs(le,{className:"p-12 text-center",children:[o.jsx(Si,{className:"h-16 w-16 text-slate-500 mx-auto mb-6"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Saved Comparisons"}),o.jsx("p",{className:"text-slate-400 mb-6 max-w-md mx-auto",children:"You haven't saved any menu comparisons yet. Start by analyzing your competitors' menus."}),o.jsxs(W,{onClick:()=>e("/menu-comparison"),className:"bg-emerald-500 hover:bg-emerald-600",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Start First Analysis"]})]})}),!c&&g.length===0&&n&&o.jsx(se,{className:"bg-slate-500/5 border-slate-500/20",children:o.jsxs(le,{className:"p-8 text-center",children:[o.jsx(pr,{className:"h-12 w-12 text-slate-500 mx-auto mb-4"}),o.jsxs("p",{className:"text-slate-400",children:['No comparisons found matching "',n,'"']})]})}),g.length>0&&o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:g.map(x=>o.jsx(fOe,{comparison:x,onView:()=>e(`/menu-comparison/${x.analysis_id}/results`),onArchive:()=>h(x),onDelete:()=>m(x)},x.id))}),(l==null?void 0:l.pagination.has_next)&&o.jsx("div",{className:"text-center mt-8",children:o.jsx(W,{variant:"outline",className:"border-white/10 text-slate-300 hover:bg-white/5",children:"Load More"})})]}),o.jsx(V2,{open:!!i,onOpenChange:()=>a(null),children:o.jsxs(Kw,{className:"bg-card-dark border-white/10 text-white",children:[o.jsxs(Gw,{children:[o.jsxs(Yw,{className:"flex items-center gap-2",children:[o.jsx(Va,{className:"h-5 w-5 text-amber-400"}),(i==null?void 0:i.type)==="saved_comparison"?"Archive Comparison":"Delete Analysis"]}),o.jsx(q2,{className:"text-slate-400",children:(i==null?void 0:i.type)==="saved_comparison"?"This will archive the saved comparison. The underlying analysis data will remain.":"This will permanently delete the entire analysis and all related data."})]}),i&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:i.name}),o.jsxs("div",{className:"text-sm text-slate-400 space-y-1",children:[o.jsxs("div",{children:[" ",i.relatedData.competitors," competitors"]}),o.jsxs("div",{children:[" ",i.relatedData.insights," insights"]}),i.type==="analysis"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:" Estimated menu items will be deleted"}),o.jsx("div",{children:" All saved comparisons referencing this analysis"})]})]})]}),i.type==="analysis"&&o.jsxs(dt,{className:"bg-red-500/10 border-red-500/30",children:[o.jsx(Va,{className:"h-4 w-4"}),o.jsxs(ft,{className:"text-red-400",children:[o.jsx("strong",{children:"Warning:"})," This action cannot be undone. All competitor menu data and insights will be permanently deleted."]})]})]}),o.jsxs(W2,{children:[o.jsx(W,{variant:"outline",onClick:()=>a(null),className:"border-white/10 text-slate-300 hover:bg-white/5",children:"Cancel"}),o.jsx(W,{onClick:v,disabled:d.isPending||f.isPending,className:(i==null?void 0:i.type)==="saved_comparison"?"bg-amber-500 hover:bg-amber-600":"bg-red-500 hover:bg-red-600",children:d.isPending||f.isPending?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(i==null?void 0:i.type)==="saved_comparison"?"Archiving...":"Deleting..."]}):o.jsx("span",{className:"flex items-center gap-2",children:(i==null?void 0:i.type)==="saved_comparison"?o.jsxs(o.Fragment,{children:[o.jsx(j3,{className:"h-4 w-4"}),"Archive"]}):o.jsxs(o.Fragment,{children:[o.jsx(Pl,{className:"h-4 w-4"}),"Delete Permanently"]})})})]})]})})]})}function fOe({comparison:e,onView:t,onArchive:r,onDelete:n}){const s=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return o.jsxs(se,{className:"bg-card-dark border-white/10 hover:border-cyan-500/30 transition-all duration-200 group",children:[o.jsxs(Ne,{className:"pb-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx(Te,{className:"text-lg text-white leading-tight flex-1",children:e.report_name||`${e.restaurant_name} Analysis`}),o.jsx(ke,{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30 border text-xs",children:"Saved"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[o.jsx(fa,{className:"w-4 h-4"}),o.jsx("span",{children:e.location})]})]}),o.jsxs(le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Pi,{className:"w-4 h-4 text-slate-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Competitors"}),o.jsx("div",{className:"text-slate-200 font-semibold",children:e.competitors_count})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Zc,{className:"w-4 h-4 text-cyan-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-slate-400 text-xs",children:"Insights"}),o.jsx("div",{className:"text-cyan-400 font-semibold",children:e.insights_count})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[o.jsx(g0,{className:"w-3 h-3"}),o.jsxs("span",{children:["Created ",s(e.created_at)]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsxs(W,{onClick:t,className:"flex-1 bg-emerald-500/10 text-emerald-400 border border-emerald-500/30 hover:bg-emerald-500/20",children:[o.jsx(Cl,{className:"h-4 w-4 mr-2"}),"View"]}),o.jsx(W,{variant:"outline",size:"sm",onClick:r,className:"border-amber-500/30 text-amber-400 hover:bg-amber-500/10",children:o.jsx(j3,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"sm",onClick:n,className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:o.jsx(Pl,{className:"h-4 w-4"})})]})]})]})}const PM={async getItemsList(e=90){return(await De.get(`/api/v1/analytics/items-list?days_back=${e}`)).data},async getPriceComparison(e,t=90){return(await De.get(`/api/v1/analytics/price-comparison?item_description=${encodeURIComponent(e)}&days_back=${t}`)).data},async getPriceTrends(e,t=90){return(await De.get(`/api/v1/analytics/price-trends?item_description=${encodeURIComponent(e)}&days=${t}`)).data},async getSavingsOpportunities(e=5,t=90){return(await De.get(`/api/v1/analytics/savings-opportunities?min_savings_percent=${e}&days_back=${t}`)).data},async getVendorPerformance(e,t=90){return(await De.get(`/api/v1/analytics/vendor-performance?vendor_name=${encodeURIComponent(e)}&days_back=${t}`)).data},async getPriceAnomalies(e=90,t=20){return(await De.get(`/api/v1/analytics/price-anomalies?days_back=${e}&min_change_percent=${t}`)).data},async getDashboardSummary(e=90){return(await De.get(`/api/v1/analytics/dashboard-summary?days_back=${e}`)).data},async getItemPurchaseHistory(e){return(await De.get(`/api/v1/analytics/item-history?item_description=${encodeURIComponent(e)}`)).data}};function pv(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function B1(e){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(e/100)}function hOe(){const e=Nt(),[t,r]=p.useState(""),[n,s]=p.useState("all"),[i,a]=p.useState(90),{data:l,isLoading:c}=ws({queryKey:["dashboard-summary",i],queryFn:()=>PM.getDashboardSummary(i)}),{data:u,isLoading:d}=ws({queryKey:["items-list",i],queryFn:()=>PM.getItemsList(i)}),f=Ie.useMemo(()=>{if(!(u!=null&&u.items))return[];let m=u.items;return t&&(m=m.filter(v=>v.description.toLowerCase().includes(t.toLowerCase()))),n!=="all"&&(m=m.filter(v=>{const g=v.price_change_7day_percent;if(g===null)return!1;switch(n){case"increasing":return g>5;case"decreasing":return g<-5;case"stable":return Math.abs(g)<=5;default:return!0}})),m},[u==null?void 0:u.items,t,n]),h=m=>m===null?o.jsx(ke,{variant:"secondary",children:"No Data"}):m>5?o.jsxs(ke,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:[o.jsx(Zt,{className:"h-3 w-3 mr-1"}),B1(m)]}):m<-5?o.jsxs(ke,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[o.jsx(Al,{className:"h-3 w-3 mr-1"}),B1(Math.abs(m))]}):o.jsxs(ke,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:["Stable ",B1(Math.abs(m))]});return o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx(Vw,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Price Analytics"}]}),o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Price Analytics"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Track pricing trends and discover savings opportunities"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(W,{onClick:()=>e("/analytics/opportunities"),className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(E3,{className:"h-4 w-4 mr-2"}),"Savings Opportunities"]}),o.jsxs(W,{onClick:()=>e("/analytics/alerts"),className:"bg-orange-600 hover:bg-orange-700 text-white",children:[o.jsx(S3,{className:"h-4 w-4 mr-2"}),"Price Alerts"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(se,{className:"bg-obsidian-light border-obsidian-border",children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium text-gray-300",children:"Items Tracked"}),o.jsx(Ip,{className:"h-4 w-4 text-blue-400"})]}),o.jsxs(le,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:c?"...":(l==null?void 0:l.unique_items_tracked)||0}),o.jsx("p",{className:"text-xs text-gray-400",children:"Unique inventory items"})]})]}),o.jsxs(se,{className:"bg-obsidian-light border-obsidian-border",children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium text-gray-300",children:"Active Vendors"}),o.jsx(Zt,{className:"h-4 w-4 text-green-400"})]}),o.jsxs(le,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:c?"...":(l==null?void 0:l.active_vendors)||0}),o.jsx("p",{className:"text-xs text-gray-400",children:"Suppliers tracked"})]})]}),o.jsxs(se,{className:"bg-obsidian-light border-obsidian-border",children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium text-gray-300",children:"Total Purchases"}),o.jsx(Ip,{className:"h-4 w-4 text-purple-400"})]}),o.jsxs(le,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:c?"...":(l==null?void 0:l.total_purchases)||0}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Last ",i," days"]})]})]}),o.jsxs(se,{className:"bg-obsidian-light border-obsidian-border",children:[o.jsxs(Ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium text-gray-300",children:"Total Spend"}),o.jsx(po,{className:"h-4 w-4 text-green-400"})]}),o.jsxs(le,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:c?"...":pv((l==null?void 0:l.total_spend)||0)}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Last ",i," days"]})]})]})]}),o.jsxs(se,{className:"bg-obsidian-light border-obsidian-border mb-6",children:[o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white flex items-center gap-2",children:[o.jsx(v0,{className:"h-5 w-5"}),"Filters & Search"]})}),o.jsx(le,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(We,{placeholder:"Search inventory items...",value:t,onChange:m=>r(m.target.value),className:"pl-10 bg-obsidian border-obsidian-border text-white"})]})}),o.jsxs(ca,{value:n,onValueChange:m=>s(m),children:[o.jsx(Ii,{className:"w-48 bg-obsidian border-obsidian-border text-white",children:o.jsx(ua,{placeholder:"Filter by trend"})}),o.jsxs(Di,{children:[o.jsx(ct,{value:"all",children:"All Items"}),o.jsx(ct,{value:"increasing",children:"Price Increasing"}),o.jsx(ct,{value:"decreasing",children:"Price Decreasing"}),o.jsx(ct,{value:"stable",children:"Price Stable"})]})]}),o.jsxs(ca,{value:i.toString(),onValueChange:m=>a(parseInt(m)),children:[o.jsx(Ii,{className:"w-32 bg-obsidian border-obsidian-border text-white",children:o.jsx(ua,{})}),o.jsxs(Di,{children:[o.jsx(ct,{value:"30",children:"30 days"}),o.jsx(ct,{value:"60",children:"60 days"}),o.jsx(ct,{value:"90",children:"90 days"}),o.jsx(ct,{value:"180",children:"180 days"})]})]})]})})]}),o.jsxs(se,{className:"bg-obsidian-light border-obsidian-border",children:[o.jsx(Ne,{children:o.jsxs(Te,{className:"text-white",children:["Inventory Price Tracking (",f.length," items)"]})}),o.jsx(le,{children:d?o.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading inventory data..."}):f.length===0?o.jsx("div",{className:"text-center py-8 text-gray-400",children:"No items found matching your filters"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-obsidian-border",children:[o.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Item Name"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Last Price"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"7-Day Avg"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"28-Day Avg"}),o.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:"7-Day Trend"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Last Purchase"})]})}),o.jsx("tbody",{children:f.map((m,v)=>o.jsxs("tr",{className:"border-b border-obsidian-border/50 hover:bg-obsidian/50",children:[o.jsx("td",{className:"py-3 px-4 text-white font-medium",children:m.description}),o.jsx("td",{className:"py-3 px-4 text-right text-white",children:m.last_paid_price?pv(m.last_paid_price):"-"}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-300",children:m.avg_price_7day?pv(m.avg_price_7day):"-"}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-300",children:m.avg_price_28day?pv(m.avg_price_28day):"-"}),o.jsx("td",{className:"py-3 px-4 text-center",children:h(m.price_change_7day_percent)}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-400 text-sm",children:m.last_paid_date?new Date(m.last_paid_date).toLocaleDateString():"-"})]},v))})]})})})]})]})]})}const gf={getPriceIncreaseAlerts:async()=>(await De.get("/api/v1/alerts/price-increases")).data,getSavingsOpportunities:async()=>(await De.get("/api/v1/alerts/savings-opportunities")).data,dismissAlert:async(e,t)=>{await De.post("/api/v1/alerts/dismiss",{alert_key:e,alert_type:t})},updateThresholds:async e=>{await De.put("/api/v1/alerts/thresholds",e)}};function pOe(){const e=Nt(),[t,r]=p.useState("active"),n=jf(),{data:s,isLoading:i}=ws({queryKey:["alerts","price-increases"],queryFn:()=>gf.getPriceIncreaseAlerts(),refetchOnWindowFocus:!0,staleTime:3e4}),a=Za({mutationFn:l=>gf.dismissAlert(l,"price_increase"),onSuccess:()=>{n.invalidateQueries({queryKey:["alerts"]})}});return o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx(Vw,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Price Analytics",href:"/analytics"},{label:"Price Alerts"}]}),o.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:i?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-400",children:"Loading alerts..."})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:[o.jsx(Va,{className:"h-8 w-8 text-red-400"}),"Price Alerts"]}),o.jsxs("p",{className:"text-gray-400 mt-2",children:[(s==null?void 0:s.total_count)||0," items with unusual price increases"]})]}),o.jsxs(W,{variant:"outline",onClick:()=>e("/settings/alerts"),className:"flex items-center gap-2",children:[o.jsx(y0,{className:"h-4 w-4"}),"Adjust Thresholds"]})]}),o.jsxs(Pu,{value:t,onValueChange:l=>r(l),className:"w-full",children:[o.jsxs(Xl,{className:"bg-obsidian-light border border-obsidian-border",children:[o.jsx(Cr,{value:"active",children:"Active"}),o.jsx(Cr,{value:"all",children:"All"})]}),o.jsx(Pr,{value:"active",className:"space-y-4 mt-6",children:s!=null&&s.alerts&&s.alerts.length>0?s.alerts.map(l=>{var c;return o.jsx(se,{className:"p-6 bg-obsidian-light border-red-500/30",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:l.item_description}),o.jsx("p",{className:"text-gray-400 mt-1",children:l.vendor_name}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-red-400 font-bold text-2xl",children:["+",l.change_percent.toFixed(1),"%"]}),o.jsxs("span",{className:"text-gray-400",children:["vs ",l.trigger.replace("_","-")," average"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Expected"}),o.jsxs("p",{className:"text-lg text-white",children:["$",l.expected_price.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Actual"}),o.jsxs("p",{className:"text-lg text-red-400",children:["$",l.actual_price.toFixed(2)]})]})]}),l.triggers&&l.triggers.length>1&&o.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Also exceeds 28-day threshold: +",(c=l.change_percent_28d)==null?void 0:c.toFixed(1),"%"]})]})]}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>a.mutate(l.alert_key),disabled:a.isPending,children:"Dismiss"})]})},l.alert_key)}):o.jsx("div",{className:"text-center py-12 text-gray-400",children:"No active price alerts. Great job keeping costs under control!"})}),o.jsx(Pr,{value:"all",className:"space-y-4 mt-6",children:o.jsx("div",{className:"text-center py-12 text-gray-400",children:"All alerts view - coming soon"})})]})]})})]})}function mOe(){const e=Nt(),[t,r]=p.useState("active"),n=jf(),{data:s,isLoading:i}=ws({queryKey:["alerts","savings-opportunities"],queryFn:()=>gf.getSavingsOpportunities(),refetchOnWindowFocus:!0,staleTime:3e4}),a=Za({mutationFn:l=>gf.dismissAlert(l,"savings_opportunity"),onSuccess:()=>{n.invalidateQueries({queryKey:["alerts"]})}});return o.jsxs("div",{className:"min-h-screen bg-obsidian",children:[o.jsx(Vw,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Price Analytics",href:"/analytics"},{label:"Savings Opportunities"}]}),o.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:i?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-gray-400",children:"Loading opportunities..."})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:[o.jsx(Al,{className:"h-8 w-8 text-green-400"}),"Savings Opportunities"]}),o.jsxs("p",{className:"text-gray-400 mt-2",children:[(s==null?void 0:s.total_count)||0," items with price decreases"]})]}),o.jsxs(W,{variant:"outline",onClick:()=>e("/settings/alerts"),className:"flex items-center gap-2",children:[o.jsx(y0,{className:"h-4 w-4"}),"Adjust Thresholds"]})]}),o.jsxs(Pu,{value:t,onValueChange:l=>r(l),className:"w-full",children:[o.jsxs(Xl,{className:"bg-obsidian-light border border-obsidian-border",children:[o.jsx(Cr,{value:"active",children:"Active"}),o.jsx(Cr,{value:"all",children:"All"})]}),o.jsx(Pr,{value:"active",className:"space-y-4 mt-6",children:s!=null&&s.alerts&&s.alerts.length>0?s.alerts.map(l=>o.jsx(se,{className:"p-6 bg-obsidian-light border-green-500/30",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:l.item_description}),o.jsx("p",{className:"text-gray-400 mt-1",children:l.vendor_name}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-green-400 font-bold text-2xl",children:["-",l.savings_percent.toFixed(1),"%"]}),o.jsxs("span",{className:"text-gray-400",children:["vs ",l.trigger.replace("_","-")," average"]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Expected"}),o.jsxs("p",{className:"text-lg text-white",children:["$",l.expected_price.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Actual"}),o.jsxs("p",{className:"text-lg text-green-400",children:["$",l.actual_price.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Savings"}),o.jsxs("p",{className:"text-lg text-green-400",children:["$",l.savings_amount.toFixed(2)]})]})]})]})]}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>a.mutate(l.alert_key),disabled:a.isPending,children:"Dismiss"})]})},l.alert_key)):o.jsx("div",{className:"text-center py-12 text-gray-400",children:"No savings opportunities found. Keep monitoring for price drops!"})}),o.jsx(Pr,{value:"all",className:"space-y-4 mt-6",children:o.jsx("div",{className:"text-center py-12 text-gray-400",children:"All opportunities view - coming soon"})})]})]})})]})}function gOe(){const e=Nt(),{toast:t}=Tn(),[r,n]=p.useState({price_alert_threshold_7day:10,price_alert_threshold_28day:15,price_drop_alert_threshold_7day:10,price_drop_alert_threshold_28day:15}),{data:s}=ws({queryKey:["alerts","price-increases"],queryFn:()=>gf.getPriceIncreaseAlerts(),refetchOnWindowFocus:!0,staleTime:3e4});p.useEffect(()=>{s!=null&&s.thresholds&&n({price_alert_threshold_7day:s.thresholds.increase_7day,price_alert_threshold_28day:s.thresholds.increase_28day,price_drop_alert_threshold_7day:s.thresholds.decrease_7day,price_drop_alert_threshold_28day:s.thresholds.decrease_28day})},[s]);const i=Za({mutationFn:()=>gf.updateThresholds(r),onSuccess:()=>{t({title:"Settings saved",description:"Your alert thresholds have been updated."}),e(-1)},onError:()=>{t({title:"Error",description:"Failed to update thresholds. Please try again.",variant:"destructive"})}});return o.jsxs(Ur,{children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"flex items-center gap-2",children:[o.jsx(vl,{className:"h-4 w-4"}),"Back"]}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2",children:[o.jsx(y0,{className:"h-8 w-8 text-cyan-400"}),"Alert Settings"]}),o.jsx("p",{className:"text-slate-400 mt-2",children:"Configure when you want to be notified about price changes"})]})]}),o.jsx(se,{className:"p-6 bg-card-dark border-white/10",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Price Increase Alerts"}),o.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Get notified when prices increase beyond these thresholds"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"7-Day Threshold (%)"}),o.jsx("input",{type:"number",min:"1",max:"100",step:"0.5",value:r.price_alert_threshold_7day,onChange:a=>n({...r,price_alert_threshold_7day:parseFloat(a.target.value)}),className:"w-full px-4 py-2 bg-obsidian border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Alert if price increases more than this % vs 7-day average"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"28-Day Threshold (%)"}),o.jsx("input",{type:"number",min:"1",max:"100",step:"0.5",value:r.price_alert_threshold_28day,onChange:a=>n({...r,price_alert_threshold_28day:parseFloat(a.target.value)}),className:"w-full px-4 py-2 bg-obsidian border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Alert if price increases more than this % vs 28-day average"})]})]})]}),o.jsxs("div",{className:"border-t border-white/10 pt-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Savings Opportunity Alerts"}),o.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Get notified when prices decrease beyond these thresholds"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"7-Day Threshold (%)"}),o.jsx("input",{type:"number",min:"1",max:"100",step:"0.5",value:r.price_drop_alert_threshold_7day,onChange:a=>n({...r,price_drop_alert_threshold_7day:parseFloat(a.target.value)}),className:"w-full px-4 py-2 bg-obsidian border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Alert if price decreases more than this % vs 7-day average"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"28-Day Threshold (%)"}),o.jsx("input",{type:"number",min:"1",max:"100",step:"0.5",value:r.price_drop_alert_threshold_28day,onChange:a=>n({...r,price_drop_alert_threshold_28day:parseFloat(a.target.value)}),className:"w-full px-4 py-2 bg-obsidian border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Alert if price decreases more than this % vs 28-day average"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-white/10",children:[o.jsx(W,{variant:"outline",onClick:()=>e(-1),children:"Cancel"}),o.jsxs(W,{onClick:()=>i.mutate(),disabled:i.isPending,className:"flex items-center gap-2",children:[o.jsx(Dp,{className:"h-4 w-4"}),i.isPending?"Saving...":"Save Settings"]})]})]})})]})}const Yt=({children:e})=>{const{isAuthenticated:t,checkAuth:r}=go(),n=ho(),[s,i]=p.useState(!1),[a,l]=p.useState(!1);return p.useEffect(()=>{(async()=>{if(!a){l(!0);try{await r()}catch{console.log("Auth verification failed")}finally{i(!0),l(!1)}}})()},[n.pathname]),!s||a?o.jsx("div",{className:"min-h-screen bg-obsidian flex items-center justify-center",children:o.jsx("div",{className:"text-white",children:"Verifying authentication..."})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(bx,{to:"/login",state:{from:n},replace:!0})};var H2="ToastProvider",[K2,vOe,xOe]=Q0("Toast"),[DH]=Cs("Toast",[xOe]),[yOe,Xw]=DH(H2),MH=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${H2}\`. Expected non-empty \`string\`.`),o.jsx(K2.Provider,{scope:t,children:o.jsx(yOe,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};MH.displayName=H2;var $H="ToastViewport",bOe=["F8"],_E="toast.viewportPause",jE="toast.viewportResume",LH=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=bOe,label:s="Notifications ({hotkey})",...i}=e,a=Xw($H,r),l=vOe(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=tt(t,f,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;p.useEffect(()=>{const x=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),p.useEffect(()=>{const x=c.current,y=f.current;if(v&&x&&y){const w=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(_E);y.dispatchEvent(S),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(jE);y.dispatchEvent(S),a.isClosePausedRef.current=!1}},_=S=>{!x.contains(S.relatedTarget)&&b()},j=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",w),x.addEventListener("focusout",_),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[v,a.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:x})=>{const w=l().map(b=>{const _=b.ref.current,j=[_,...ROe(_)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const y=w=>{var j,S,N;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const E=document.activeElement,A=w.shiftKey;if(w.target===x&&A){(j=u.current)==null||j.focus();return}const k=g({tabbingDirection:A?"backwards":"forwards"}),D=k.findIndex(T=>T===E);V1(k.slice(D+1))?w.preventDefault():A?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,g]),o.jsxs(Jse,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(SE,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});V1(x)}}),o.jsx(K2.Slot,{scope:r,children:o.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),v&&o.jsx(SE,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});V1(x)}})]})});LH.displayName=$H;var FH="ToastFocusProxy",SE=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Xw(FH,r);return o.jsx(W0,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});SE.displayName=FH;var sg="Toast",wOe="toast.swipeStart",_Oe="toast.swipeMove",jOe="toast.swipeCancel",SOe="toast.swipeEnd",UH=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[l,c]=ia({prop:n,defaultProp:s??!0,onChange:i,caller:sg});return o.jsx(Ps,{present:r||l,children:o.jsx(kOe,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Pn(e.onPause),onResume:Pn(e.onResume),onSwipeStart:ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});UH.displayName=sg;var[NOe,EOe]=DH(sg,{onClose(){}}),kOe=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,g=Xw(sg,r),[x,y]=p.useState(null),w=tt(t,T=>y(T)),b=p.useRef(null),_=p.useRef(null),j=s||g.duration,S=p.useRef(0),N=p.useRef(j),E=p.useRef(0),{onToastAdd:A,onToastRemove:P}=g,C=Pn(()=>{var L;(x==null?void 0:x.contains(document.activeElement))&&((L=g.viewport)==null||L.focus()),a()}),k=p.useCallback(T=>{!T||T===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(C,T))},[C]);p.useEffect(()=>{const T=g.viewport;if(T){const L=()=>{k(N.current),u==null||u()},z=()=>{const X=new Date().getTime()-S.current;N.current=N.current-X,window.clearTimeout(E.current),c==null||c()};return T.addEventListener(_E,z),T.addEventListener(jE,L),()=>{T.removeEventListener(_E,z),T.removeEventListener(jE,L)}}},[g.viewport,j,c,u,k]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&k(j)},[i,j,g.isClosePausedRef,k]),p.useEffect(()=>(A(),()=>P()),[A,P]);const D=p.useMemo(()=>x?KH(x):null,[x]);return g.viewport?o.jsxs(o.Fragment,{children:[D&&o.jsx(COe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:D}),o.jsx(NOe,{scope:r,onClose:C,children:zl.createPortal(o.jsx(K2.ItemSlot,{scope:r,children:o.jsx(Qse,{asChild:!0,onEscapeKeyDown:ne(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||C(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Oe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:ne(e.onPointerDown,T=>{T.button===0&&(b.current={x:T.clientX,y:T.clientY})}),onPointerMove:ne(e.onPointerMove,T=>{if(!b.current)return;const L=T.clientX-b.current.x,z=T.clientY-b.current.y,X=!!_.current,I=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=I?M(0,L):0,J=I?0:M(0,z),ee=T.pointerType==="touch"?10:2,Ee={x:Q,y:J},je={originalEvent:T,delta:Ee};X?(_.current=Ee,mv(_Oe,f,je,{discrete:!1})):AM(Ee,g.swipeDirection,ee)?(_.current=Ee,mv(wOe,d,je,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(L)>ee||Math.abs(z)>ee)&&(b.current=null)}),onPointerUp:ne(e.onPointerUp,T=>{const L=_.current,z=T.target;if(z.hasPointerCapture(T.pointerId)&&z.releasePointerCapture(T.pointerId),_.current=null,b.current=null,L){const X=T.currentTarget,I={originalEvent:T,delta:L};AM(L,g.swipeDirection,g.swipeThreshold)?mv(SOe,m,I,{discrete:!0}):mv(jOe,h,I,{discrete:!0}),X.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),COe=e=>{const{__scopeToast:t,children:r,...n}=e,s=Xw(sg,t),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return OOe(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Af,{asChild:!0,children:o.jsx(W0,{...n,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},POe="ToastTitle",zH=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Oe.div,{...n,ref:t})});zH.displayName=POe;var AOe="ToastDescription",BH=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Oe.div,{...n,ref:t})});BH.displayName=AOe;var VH="ToastAction",WH=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(HH,{altText:r,asChild:!0,children:o.jsx(G2,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${VH}\`. Expected non-empty \`string\`.`),null)});WH.displayName=VH;var qH="ToastClose",G2=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=EOe(qH,r);return o.jsx(HH,{asChild:!0,children:o.jsx(Oe.button,{type:"button",...n,ref:t,onClick:ne(e.onClick,s.onClose)})})});G2.displayName=qH;var HH=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function KH(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),TOe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...KH(n))}}),t}function mv(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ik(s,i):s.dispatchEvent(i)}var AM=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function OOe(e=()=>{}){const t=Pn(e);vr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function TOe(e){return e.nodeType===e.ELEMENT_NODE}function ROe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function V1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var IOe=MH,GH=LH,YH=UH,XH=zH,QH=BH,JH=WH,ZH=G2;const DOe=IOe,eK=p.forwardRef(({className:e,...t},r)=>o.jsx(GH,{ref:r,className:$("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eK.displayName=GH.displayName;const MOe=ha("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tK=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(YH,{ref:n,className:$(MOe({variant:t}),e),...r}));tK.displayName=YH.displayName;const $Oe=p.forwardRef(({className:e,...t},r)=>o.jsx(JH,{ref:r,className:$("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$Oe.displayName=JH.displayName;const rK=p.forwardRef(({className:e,...t},r)=>o.jsx(ZH,{ref:r,className:$("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Ai,{className:"h-4 w-4"})}));rK.displayName=ZH.displayName;const nK=p.forwardRef(({className:e,...t},r)=>o.jsx(XH,{ref:r,className:$("text-sm font-semibold",e),...t}));nK.displayName=XH.displayName;const sK=p.forwardRef(({className:e,...t},r)=>o.jsx(QH,{ref:r,className:$("text-sm opacity-90",e),...t}));sK.displayName=QH.displayName;function LOe(){const{toasts:e}=Tn();return o.jsxs(DOe,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return o.jsxs(tK,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(nK,{children:r}),n&&o.jsx(sK,{children:n})]}),s,o.jsx(rK,{})]},t)}),o.jsx(eK,{})]})}const FOe=new sQ({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function UOe(){return o.jsx(iQ,{client:FOe,children:o.jsxs(TX,{children:[o.jsxs(NX,{children:[o.jsx(jt,{path:"/",element:o.jsx(XJ,{})}),o.jsx(jt,{path:"/login",element:o.jsx(kse,{})}),o.jsx(jt,{path:"/register",element:o.jsx(Ase,{})}),o.jsx(jt,{path:"/dashboard",element:o.jsx(Yt,{children:o.jsx(VNe,{})})}),o.jsx(jt,{path:"/dashboard/old",element:o.jsx(Yt,{children:o.jsx(Mle,{})})}),o.jsx(jt,{path:"/analysis/new",element:o.jsx(Yt,{children:o.jsx(yPe,{})})}),o.jsx(jt,{path:"/analysis/:analysisId/progress",element:o.jsx(Yt,{children:o.jsx(_Pe,{})})}),o.jsx(jt,{path:"/analysis/:analysisId/results",element:o.jsx(Yt,{children:o.jsx(IPe,{})})}),o.jsx(jt,{path:"/analysis/saved",element:o.jsx(Yt,{children:o.jsx(DPe,{})})}),o.jsx(jt,{path:"/invoices",element:o.jsx(Yt,{children:o.jsx(MPe,{})})}),o.jsx(jt,{path:"/invoices/upload",element:o.jsx(Yt,{children:o.jsx(OAe,{})})}),o.jsx(jt,{path:"/invoices/:invoiceId",element:o.jsx(Yt,{children:o.jsx(TAe,{})})}),o.jsx(jt,{path:"/menu/upload",element:o.jsx(Yt,{children:o.jsx($Ae,{})})}),o.jsx(jt,{path:"/menu/dashboard",element:o.jsx(Yt,{children:o.jsx(BAe,{})})}),o.jsx(jt,{path:"/menu/items/:menuItemId/recipe",element:o.jsx(Yt,{children:o.jsx(YAe,{})})}),o.jsx(jt,{path:"/cogs",element:o.jsx(Yt,{children:o.jsx(ZAe,{})})}),o.jsx(jt,{path:"/analytics",element:o.jsx(Yt,{children:o.jsx(hOe,{})})}),o.jsx(jt,{path:"/analytics/alerts",element:o.jsx(Yt,{children:o.jsx(pOe,{})})}),o.jsx(jt,{path:"/analytics/opportunities",element:o.jsx(Yt,{children:o.jsx(mOe,{})})}),o.jsx(jt,{path:"/settings/alerts",element:o.jsx(Yt,{children:o.jsx(gOe,{})})}),o.jsx(jt,{path:"/menu-comparison",element:o.jsx(Yt,{children:o.jsx(rOe,{})})}),o.jsx(jt,{path:"/menu-comparison/:analysisId/select",element:o.jsx(Yt,{children:o.jsx(nOe,{})})}),o.jsx(jt,{path:"/menu-comparison/:analysisId/parse",element:o.jsx(Yt,{children:o.jsx(iOe,{})})}),o.jsx(jt,{path:"/menu-comparison/:analysisId/results",element:o.jsx(Yt,{children:o.jsx(aOe,{})})}),o.jsx(jt,{path:"/menu-comparison/saved",element:o.jsx(Yt,{children:o.jsx(dOe,{})})}),o.jsx(jt,{path:"*",element:o.jsx(bx,{to:"/",replace:!0})})]}),o.jsx(LOe,{})]})})}W1.createRoot(document.getElementById("root")).render(o.jsx(Ie.StrictMode,{children:o.jsx(UOe,{})}));
