graph TB
    subgraph "Development Environment"
        DEV_ENV[".env (Dev)"]
        DEV_SUPABASE["Dev Supabase Project<br/>syxquxgynoinzwhwkosa"]
        DEV_JWT["Weak JWT Secret<br/>your-super-secret..."]
        DEV_APIS["Shared/Free Tier<br/>API Keys"]
        
        DEV_ENV --> DEV_SUPABASE
        DEV_ENV --> DEV_JWT
        DEV_ENV --> DEV_APIS
    end
    
    subgraph "Production Environment"
        PROD_ENV[".env.production"]
        PROD_SUPABASE["Prod Supabase Project<br/>NEW PROJECT"]
        PROD_JWT["Strong JWT Secret<br/>64+ random chars"]
        PROD_APIS["Production<br/>API Keys"]
        
        PROD_ENV --> PROD_SUPABASE
        PROD_ENV --> PROD_JWT
        PROD_ENV --> PROD_APIS
    end
    
    subgraph "Critical Changes Required"
        CHANGE1["ðŸ”´ Create New Supabase Project"]
        CHANGE2["ðŸ”´ Generate Strong JWT Secret"]
        CHANGE3["ðŸŸ¡ Separate API Keys"]
        CHANGE4["ðŸŸ¢ Update Config Settings"]
    end
    
    DEV_SUPABASE -.->|"DON'T REUSE"| CHANGE1
    DEV_JWT -.->|"MUST CHANGE"| CHANGE2
    DEV_APIS -.->|"SHOULD CHANGE"| CHANGE3
    
    CHANGE1 --> PROD_SUPABASE
    CHANGE2 --> PROD_JWT
    CHANGE3 --> PROD_APIS
    CHANGE4 --> PROD_ENV
    
    subgraph "Setup Tools"
        SETUP["setup_production.bat"]
        VERIFY["verify_production_setup.py"]
        GENERATE["generate_jwt_secret.py"]
        COMPARE["compare_env_files.py"]
        
        SETUP --> GENERATE
        GENERATE --> VERIFY
        VERIFY --> COMPARE
    end
    
    SETUP -.->|"Creates"| PROD_ENV
    VERIFY -.->|"Validates"| PROD_ENV
    
    subgraph "Security Validation"
        CHECK1["âœ“ Secrets Different from Dev"]
        CHECK2["âœ“ JWT 64+ Characters"]
        CHECK3["âœ“ Separate Supabase Project"]
        CHECK4["âœ“ Production API Keys"]
        
        VERIFY --> CHECK1
        VERIFY --> CHECK2
        VERIFY --> CHECK3
        VERIFY --> CHECK4
    end
    
    style DEV_ENV fill:#fff3cd,stroke:#856404
    style PROD_ENV fill:#d4edda,stroke:#155724
    style DEV_SUPABASE fill:#f8d7da,stroke:#721c24
    style PROD_SUPABASE fill:#d1ecf1,stroke:#0c5460
    style DEV_JWT fill:#f8d7da,stroke:#721c24
    style PROD_JWT fill:#d1ecf1,stroke:#0c5460
    style CHANGE1 fill:#f8d7da,stroke:#721c24
    style CHANGE2 fill:#f8d7da,stroke:#721c24
    style CHANGE3 fill:#fff3cd,stroke:#856404
    style CHANGE4 fill:#d4edda,stroke:#155724
    style CHECK1 fill:#d4edda,stroke:#155724
    style CHECK2 fill:#d4edda,stroke:#155724
    style CHECK3 fill:#d4edda,stroke:#155724
    style CHECK4 fill:#d4edda,stroke:#155724
